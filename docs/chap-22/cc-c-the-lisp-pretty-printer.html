<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chap-22/cc-c-the-lisp-pretty-printer" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">22.2 The Lisp Pretty Printer | Common Lisp (New) Language Reference</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lisp-docs.github.io/cl-language-reference/img/1024px-Lisp_logo.svg.png"><meta data-rh="true" name="twitter:image" content="https://lisp-docs.github.io/cl-language-reference/img/1024px-Lisp_logo.svg.png"><meta data-rh="true" property="og:url" content="https://lisp-docs.github.io/cl-language-reference/docs/chap-22/cc-c-the-lisp-pretty-printer"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="22.2 The Lisp Pretty Printer | Common Lisp (New) Language Reference"><meta data-rh="true" name="description" content="22.2.1 Pretty Printer Concepts"><meta data-rh="true" property="og:description" content="22.2.1 Pretty Printer Concepts"><link data-rh="true" rel="icon" href="/cl-language-reference/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lisp-docs.github.io/cl-language-reference/docs/chap-22/cc-c-the-lisp-pretty-printer"><link data-rh="true" rel="alternate" href="https://lisp-docs.github.io/cl-language-reference/docs/chap-22/cc-c-the-lisp-pretty-printer" hreflang="en"><link data-rh="true" rel="alternate" href="https://lisp-docs.github.io/cl-language-reference/docs/chap-22/cc-c-the-lisp-pretty-printer" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://C1F2Q5VM6X-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/cl-language-reference/blog/rss.xml" title="Common Lisp (New) Language Reference RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cl-language-reference/blog/atom.xml" title="Common Lisp (New) Language Reference Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Common Lisp (New) Language Reference" href="/cl-language-reference/opensearch.xml"><link rel="stylesheet" href="/cl-language-reference/assets/css/styles.ad20780e.css">
<script src="/cl-language-reference/assets/js/runtime~main.7f9626aa.js" defer="defer"></script>
<script src="/cl-language-reference/assets/js/main.de7ea857.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cl-language-reference/"><div class="navbar__logo"><img src="/cl-language-reference/img/logo.svg" alt="LISP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cl-language-reference/img/logo.svg" alt="LISP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">CL Technical Reference </b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cl-language-reference/docs/intro">The CL Reference</a><a class="navbar__item navbar__link" href="/cl-language-reference/contribute">Contribute!</a><a class="navbar__item navbar__link" href="/cl-language-reference/todo">TODO</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/cl-language-reference/blog">Blog</a><a href="https://github.com/lisp-docs/cl-language-reference/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cl-language-reference/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/contents-and-figures">Contents and Figures</a><button aria-label="Expand sidebar category &#x27;Contents and Figures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/1-introduction">1. Introduction</a><button aria-label="Expand sidebar category &#x27;1. Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/2-syntax">2. Syntax</a><button aria-label="Expand sidebar category &#x27;2. Syntax&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/3-evaluation-and-compilation">3. Evaluation and Compilation</a><button aria-label="Expand sidebar category &#x27;3. Evaluation and Compilation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/4-types-and-classes">4. Types and Classes</a><button aria-label="Expand sidebar category &#x27;4. Types and Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/5-data-and-control-flow">5. Data and Control Flow</a><button aria-label="Expand sidebar category &#x27;5. Data and Control Flow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/6-iteration">6. Iteration</a><button aria-label="Expand sidebar category &#x27;6. Iteration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/7-objects">7. Objects</a><button aria-label="Expand sidebar category &#x27;7. Objects&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/8-structures">8. Structures</a><button aria-label="Expand sidebar category &#x27;8. Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/9-conditions">9. Conditions</a><button aria-label="Expand sidebar category &#x27;9. Conditions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/10-symbols">10. Symbols</a><button aria-label="Expand sidebar category &#x27;10. Symbols&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/11-packages">11. Packages</a><button aria-label="Expand sidebar category &#x27;11. Packages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/12-numbers">12. Numbers</a><button aria-label="Expand sidebar category &#x27;12. Numbers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/13-characters">13. Characters</a><button aria-label="Expand sidebar category &#x27;13. Characters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/14-conses">14. Conses</a><button aria-label="Expand sidebar category &#x27;14. Conses&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/15-arrays">15. Arrays</a><button aria-label="Expand sidebar category &#x27;15. Arrays&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/16-strings">16. Strings</a><button aria-label="Expand sidebar category &#x27;16. Strings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/17-sequences">17. Sequences</a><button aria-label="Expand sidebar category &#x27;17. Sequences&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/18-hash-tables">18. Hash Tables</a><button aria-label="Expand sidebar category &#x27;18. Hash Tables&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/19-filenames">19. Filenames</a><button aria-label="Expand sidebar category &#x27;19. Filenames&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/20-files">20. Files</a><button aria-label="Expand sidebar category &#x27;20. Files&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/21-streams">21. Streams</a><button aria-label="Expand sidebar category &#x27;21. Streams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/cl-language-reference/docs/category/22-printer">22. Printer</a><button aria-label="Collapse sidebar category &#x27;22. Printer&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cl-language-reference/docs/chap-22/cc-b-the-lisp-printer">22.1 The Lisp Printer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cl-language-reference/docs/chap-22/cc-c-the-lisp-pretty-printer">22.2 The Lisp Pretty Printer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cl-language-reference/docs/chap-22/cc-d-formatted-output">22.3 Formatted Output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cl-language-reference/docs/chap-22/intro">intro</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/23-reader">23. Reader</a><button aria-label="Expand sidebar category &#x27;23. Reader&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/24-system-construction">24. System Construction</a><button aria-label="Expand sidebar category &#x27;24. System Construction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/25-environment">25. Environment</a><button aria-label="Expand sidebar category &#x27;25. Environment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/26-glossary">26. Glossary</a><button aria-label="Expand sidebar category &#x27;26. Glossary&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/a-appendix">A. Appendix</a><button aria-label="Expand sidebar category &#x27;A. Appendix&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cl-language-reference/docs/code-blocks-double-slashes">Code Blocks TODO Fixes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cl-language-reference/docs/code-blocks">code-blocks</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cl-language-reference/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cl-language-reference/docs/category/22-printer"><span itemprop="name">22. Printer</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">22.2 The Lisp Pretty Printer</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>22.2 The Lisp Pretty Printer</h1>
<!-- -->
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2221-pretty-printer-concepts">22.2.1 Pretty Printer Concepts<a href="#2221-pretty-printer-concepts" class="hash-link" aria-label="Direct link to 22.2.1 Pretty Printer Concepts" title="Direct link to 22.2.1 Pretty Printer Concepts">​</a></h2>
<!-- -->
<p>The facilities provided by the <em>pretty printer</em> permit <em>programs</em> to redefine the way in which <em>code</em> is displayed, and allow the full power of <em>pretty printing</em> to be applied to complex combinations of data structures.</p>
<p>Whether any given style of output is in fact “pretty” is inherently a somewhat subjective issue. However, since the effect of the <em>pretty printer</em> can be customized by <em>conforming programs</em>, the necessary flexibility is provided for individual <em>programs</em> to achieve an arbitrary degree of aesthetic control.</p>
<p>By providing direct access to the mechanisms within the pretty printer that make dynamic decisions about layout, the macros and functions <strong>pprint-logical-block</strong>, <strong>pprint-newline</strong>, and <strong>pprint-indent</strong> make it possible to specify pretty printing layout rules as a part of any function that produces output. They also make it very easy for the detection of circularity and sharing, and abbreviation based on length and nesting depth to be supported by the function.</p>
<p>The <em>pretty printer</em> is driven entirely by dispatch based on the <em>value</em> of <strong>*print-pprint-dispatch*</strong>. The <em>function</em> <strong>set-pprint-dispatch</strong> makes it possible for <em>conforming programs</em> to associate new pretty printing functions with a <em>type</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22211-dynamic-control-of-the-arrangement-of-output">22.2.1.1 Dynamic Control of the Arrangement of Output<a href="#22211-dynamic-control-of-the-arrangement-of-output" class="hash-link" aria-label="Direct link to 22.2.1.1 Dynamic Control of the Arrangement of Output" title="Direct link to 22.2.1.1 Dynamic Control of the Arrangement of Output">​</a></h3>
<!-- -->
<p>The actions of the <em>pretty printer</em> when a piece of output is too large to fit in the space available can be precisely controlled. Three concepts underlie the way these operations work—<em>logical blocks</em>, <em>conditional newlines</em>, and <em>sections</em>. Before proceeding further, it is important to define these terms.</p>
<p>The first line of Figure 22–3 shows a schematic piece of output. Each of the characters in the output is represented by “-”. The positions of conditional newlines are indicated by digits. The beginnings and ends of logical blocks are indicated by “&lt;” and “&gt;” respectively.</p>
<p>The output as a whole is a logical block and the outermost section. This section is indicated by the 0’s on the second line of Figure 1. Logical blocks nested within the output are specified by the macro <strong>pprint-logical-block</strong>. Conditional newline positions are specified by calls to <strong>pprint-newline</strong>. Each conditional newline defines two sections (one before it and one after it) and is associated with a third (the section immediately containing it).</p>
<p>The section after a conditional newline consists of: all the output up to, but not including, (a) the next conditional newline immediately contained in the same logical block; or if (a) is not applicable, (b) the next newline that is at a lesser level of nesting in logical blocks; or if (b) is not applicable, (c) the end of the output.</p>
<p>The section before a conditional newline consists of: all the output back to, but not including, (a) the previous conditional newline that is immediately contained in the same logical block; or if (a)</p>
<p>is not applicable, (b) the beginning of the immediately containing logical block. The last four lines in Figure 1 indicate the sections before and after the four conditional newlines.</p>
<p>The section immediately containing a conditional newline is the shortest section that contains the conditional newline in question. In Figure 22–3, the first conditional newline is immediately contained in the section marked with 0’s, the second and third conditional newlines are immediately contained in the section before the fourth conditional newline, and the fourth conditional newline is immediately contained in the section after the first conditional newline.</p>
<p>&lt;-1–-&lt;–&lt;–2–-3-&gt;–4–&gt;-&gt;</p>
<p>000000000000000000000000000</p>
<p>11 111111111111111111111111</p>
<p>22 222</p>
<p>333 3333</p>
<p>44444444444444 44444</p>
<p><strong>Figure 22–3. Example of Logical Blocks, Conditional Newlines, and Sections</strong></p>
<p>Whenever possible, the pretty printer displays the entire contents of a section on a single line. However, if the section is too long to fit in the space available, line breaks are inserted at conditional newline positions within the section.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22212-format-directive-interface">22.2.1.2 Format Directive Interface<a href="#22212-format-directive-interface" class="hash-link" aria-label="Direct link to 22.2.1.2 Format Directive Interface" title="Direct link to 22.2.1.2 Format Directive Interface">​</a></h3>
<!-- -->
<p>The primary interface to operations for dynamically determining the arrangement of output is provided through the functions and macros of the pretty printer. Figure 22–4 shows the defined names related to <em>pretty printing</em>.</p>
<p>|</p><p><strong>*print-lines* pprint-dispatch pprint-pop *print-miser-width* pprint-exit-if-list-exhausted pprint-tab *print-pprint-dispatch* pprint-fill pprint-tabular *print-right-margin* pprint-indent set-pprint-dispatch copy-pprint-dispatch pprint-linear write</strong> </p><p><strong>format pprint-logical-block</strong> </p><p><strong>formatter pprint-newline</strong></p>|<p></p>
<p>| :- |</p>
<p><strong>Figure 22–4. Defined names related to pretty printing.</strong></p>
<p>Figure 22–5 identifies a set of <em>format directives</em> which serve as an alternate interface to the same pretty printing operations in a more textually compact form.</p>
<p>|</p><p>~I ~W ~&lt;...~:&gt; </p><p>~<!-- -->:T<!-- --> ~/.../ ~</p>|<p></p>
<p>| :- |</p>
<p><strong>Figure 22–5. Format directives related to Pretty Printing</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22213-compiling-format-strings">22.2.1.3 Compiling Format Strings<a href="#22213-compiling-format-strings" class="hash-link" aria-label="Direct link to 22.2.1.3 Compiling Format Strings" title="Direct link to 22.2.1.3 Compiling Format Strings">​</a></h3>
<!-- -->
<p>A <em>format string</em> is essentially a program in a special-purpose language that performs printing, and that is interpreted by the <em>function</em> <strong>format</strong>. The <strong>formatter</strong> <em>macro</em> provides the efficiency of using a <em>compiled function</em> to do that same printing but without losing the textual compactness of <em>format strings</em>.</p>
<p>A <em>format control</em> is either a <em>format string</em> or a <em>function</em> that was returned by the the <strong>formatter</strong> <em>macro</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22214-pretty-print-dispatch-tables">22.2.1.4 Pretty Print Dispatch Tables<a href="#22214-pretty-print-dispatch-tables" class="hash-link" aria-label="Direct link to 22.2.1.4 Pretty Print Dispatch Tables" title="Direct link to 22.2.1.4 Pretty Print Dispatch Tables">​</a></h3>
<!-- -->
<p>A <em>pprint dispatch table</em> is a mapping from keys to pairs of values. Each key is a <em>type specifier</em> . The values associated with a key are a “function” (specifically, a <em>function designator</em> or <strong>nil</strong>) and a “numerical priority” (specifically, a <em>real</em>). Basic insertion and retrieval is done based on the keys with the equality of keys being tested by <strong>equal</strong>.</p>
<p>When <strong>*print-pretty*</strong> is <em>true</em>, the <em>current pprint dispatch table</em> (in <strong>*print-pprint-dispatch*</strong>) controls how <em>objects</em> are printed. The information in this table takes precedence over all other mechanisms for specifying how to print <em>objects</em>. In particular, it has priority over user-defined <strong>print-object</strong> <em>methods</em> because the <em>current pprint dispatch table</em> is consulted first.</p>
<p>The function is chosen from the <em>current pprint dispatch table</em> by finding the highest priority function that is associated with a <em>type specifier</em> that matches the <em>object</em>; if there is more than one such function, it is <em>implementation-dependent</em> which is used.</p>
<p>However, if there is no information in the table about how to <em>pretty print</em> a particular kind of <em>object</em>, a <em>function</em> is invoked which uses <strong>print-object</strong> to print the <em>object</em>. The value of <strong>*print-pretty*</strong> is still <em>true</em> when this function is <em>called</em>, and individual methods for <strong>print-object</strong> might still elect to produce output in a special format conditional on the <em>value</em> of <strong>*print-pretty*</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22215-pretty-printer-margins">22.2.1.5 Pretty Printer Margins<a href="#22215-pretty-printer-margins" class="hash-link" aria-label="Direct link to 22.2.1.5 Pretty Printer Margins" title="Direct link to 22.2.1.5 Pretty Printer Margins">​</a></h3>
<!-- -->
<p>A primary goal of pretty printing is to keep the output between a pair of margins. The column where the output begins is taken as the left margin. If the current column cannot be determined at the time output begins, the left margin is assumed to be zero. The right margin is controlled by <strong>*print-right-margin*</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2222-examples-of-using-the-pretty-printer">22.2.2 Examples of using the Pretty Printer<a href="#2222-examples-of-using-the-pretty-printer" class="hash-link" aria-label="Direct link to 22.2.2 Examples of using the Pretty Printer" title="Direct link to 22.2.2 Examples of using the Pretty Printer">​</a></h2>
<!-- -->
<p>As an example of the interaction of logical blocks, conditional newlines, and indentation, consider the function simple-pprint-defun below. This function prints out lists whose <em>cars</em> are <strong>defun</strong> in the standard way assuming that the list has exactly length 4.</p>
<p>(defun simple-pprint-defun (*standard-output* list)</p>
<p>(pprint-logical-block (*standard-output* list <!-- -->:prefix<!-- --> &quot;(&quot; <!-- -->:suffix<!-- --> &quot;)&quot;)</p>
<p>(write (first list))</p>
<p>(write-char #\Space)</p>
<p>(pprint-newline <!-- -->:miser<!-- -->)</p>
<p>(pprint-indent <!-- -->:current<!-- --> 0)</p>
<p>(write (second list))</p>
<p>(write-char #\Space)</p>
<p>(pprint-newline <!-- -->:fill<!-- -->)</p>
<p>(write (third list))</p>
<p>(pprint-indent <!-- -->:block<!-- --> 1)</p>
<p>(write-char #\Space)</p>
<p>(pprint-newline <!-- -->:linear<!-- -->)</p>
<p>(write (fourth list))))</p>
<p>Suppose that one evaluates the following:</p>
<p>(simple-pprint-defun *standard-output* ’(defun prod (x y) (* x y)))</p>
<p>If the line width available is greater than or equal to 26, then all of the output appears on one line. If the line width available is reduced to 25, a line break is inserted at the linear-style conditional newline before the <em>expression</em> (* x y), producing the output shown. The (pprint-indent <!-- -->:block<!-- --> 1) causes (* x y) to be printed at a relative indentation of 1 in the logical block.</p>
<p>(DEFUN PROD (X Y)</p>
<p>(* X Y))</p>
<p>If the line width available is 15, a line break is also inserted at the fill style conditional newline before the argument list. The call on (pprint-indent <!-- -->:current<!-- --> 0) causes the argument list to line up under the function name.</p>
<p>(DEFUN PROD</p>
<p>(X Y)</p>
<p>(* X Y))</p>
<p>If <strong>*print-miser-width*</strong> were greater than or equal to 14, the example output above would have been as follows, because all indentation changes are ignored in miser mode and line breaks are inserted at miser-style conditional newlines.</p>
<p>(DEFUN</p>
<p>PROD</p>
<p>(X Y)</p>
<p>(* X Y))</p>
<p>As an example of a per-line prefix, consider that evaluating the following produces the output shown with a line width of 20 and <strong>*print-miser-width*</strong> of <strong>nil</strong>.</p>
<p>(pprint-logical-block (*standard-output* nil <!-- -->:per-line-prefix<!-- --> &quot;;;; &quot;)</p>
<p>(simple-pprint-defun *standard-output* ’(defun prod (x y) (* x y))))</p>
<p>;;; (DEFUN PROD</p>
<p>;;; (X Y)</p>
<p>;;; (* X Y))</p>
<p>As a more complex (and realistic) example, consider the function pprint-let below. This specifies how to print a <strong>let</strong> <em>form</em> in the traditional style. It is more complex than the example above, because it has to deal with nested structure. Also, unlike the example above it contains complete code to readably print any possible list that begins with the <em>symbol</em> <strong>let</strong>. The outermost <strong>pprint-logical-block</strong></p>
<p><em>form</em> handles the printing of the input list as a whole and specifies that parentheses should be printed in the output. The second <strong>pprint-logical-block</strong> <em>form</em> handles the list of binding pairs. Each pair in the list is itself printed by the innermost <strong>pprint-logical-block</strong>. (A <strong>loop</strong> <em>form</em> is used instead of merely decomposing the pair into two <em>objects</em> so that readable output will be produced no matter whether the list corresponding to the pair has one element, two elements, or (being malformed) has more than two elements.) A space and a fill-style conditional newline are placed after each pair except the last. The loop at the end of the topmost <strong>pprint-logical-block</strong> <em>form</em> prints out the forms in the body of the <strong>let</strong> <em>form</em> separated by spaces and linear-style conditional newlines.</p>
<p>(defun pprint-let (*standard-output* list)</p>
<p>(pprint-logical-block (nil list <!-- -->:prefix<!-- --> &quot;(&quot; <!-- -->:suffix<!-- --> &quot;)&quot;)</p>
<p>(write (pprint-pop))</p>
<p>(pprint-exit-if-list-exhausted)</p>
<p>(write-char #\Space)</p>
<p>(pprint-logical-block (nil (pprint-pop) <!-- -->:prefix<!-- --> &quot;(&quot; <!-- -->:suffix<!-- --> &quot;)&quot;)</p>
<p>(pprint-exit-if-list-exhausted)</p>
<p>(loop (pprint-logical-block (nil (pprint-pop) <!-- -->:prefix<!-- --> &quot;(&quot; <!-- -->:suffix<!-- --> &quot;)&quot;)</p>
<p>(pprint-exit-if-list-exhausted)</p>
<p>(loop (write (pprint-pop))</p>
<p>(pprint-exit-if-list-exhausted)</p>
<p>(write-char #\Space)</p>
<p>(pprint-newline <!-- -->:linear<!-- -->)))</p>
<p>(pprint-exit-if-list-exhausted)</p>
<p>(write-char #\Space)</p>
<p>(pprint-newline <!-- -->:fill<!-- -->)))</p>
<p>(pprint-indent <!-- -->:block<!-- --> 1)</p>
<p>(loop (pprint-exit-if-list-exhausted)</p>
<p>(write-char #\Space)</p>
<p>(pprint-newline <!-- -->:linear<!-- -->)</p>
<p>(write (pprint-pop)))))</p>
<p>Suppose that one evaluates the following with <strong>*print-level*</strong> being 4, and <strong>*print-circle*</strong> being <em>true</em>.</p>
<p>(pprint-let *standard-output*</p>
<p>’#1=(let (x (*print-length* (f (g 3)))</p>
<p>(z . 2) (k (car y)))</p>
<p>(setq x (sqrt z)) #1#))</p>
<p>If the line length is greater than or equal to 77, the output produced appears on one line. However,</p>
<p>if the line length is 76, line breaks are inserted at the linear-style conditional newlines separating the forms in the body and the output below is produced. Note that, the degenerate binding pair x is printed readably even though it fails to be a list; a depth abbreviation marker is printed in place of (g 3); the binding pair (z . 2) is printed readably even though it is not a proper list; and appropriate circularity markers are printed.</p>
<p>#1=(LET (X (*PRINT-LENGTH* (F #)) (Z . 2) (K (CAR Y)))</p>
<p>(SETQ X (SQRT Z))</p>
<p>#1#)</p>
<p>If the line length is reduced to 35, a line break is inserted at one of the fill-style conditional newlines separating the binding pairs.</p>
<p>#1=(LET (X (*PRINT-PRETTY* (F #))</p>
<p>(Z . 2) (K (CAR Y)))</p>
<p>(SETQ X (SQRT Z))</p>
<p>#1#)</p>
<p>Suppose that the line length is further reduced to 22 and <strong>*print-length*</strong> is set to 3. In this situation, line breaks are inserted after both the first and second binding pairs. In addition, the second binding pair is itself broken across two lines. Clause (b) of the description of fill-style conditional newlines (see the <em>function</em> <strong>pprint-newline</strong>) prevents the binding pair (z . 2) from being printed at the end of the third line. Note that the length abbreviation hides the circularity from view and therefore the printing of circularity markers disappears.</p>
<p>(LET (X</p>
<p>(*PRINT-LENGTH*</p>
<p>(F #))</p>
<p>(Z . 2) ...)</p>
<p>(SETQ X (SQRT Z))</p>
<p>...)</p>
<p>The next function prints a vector using “#(...)” notation.</p>
<p>(defun pprint-vector (*standard-output* v)</p>
<p>(pprint-logical-block (nil nil <!-- -->:prefix<!-- --> &quot;#(&quot; <!-- -->:suffix<!-- --> &quot;)&quot;)</p>
<p>(let ((end (length v)) (i 0))</p>
<p>(when (plusp end)</p>
<p>(loop (pprint-pop)</p>
<p>(write (aref v i))</p>
<p>(if (= (incf i) end) (return nil))</p>
<p>(write-char #\Space)</p>
<p>(pprint-newline <!-- -->:fill<!-- -->))))))</p>
<p>Evaluating the following with a line length of 15 produces the output shown.</p>
<p>(pprint-vector *standard-output* ’#(12 34 567 8 9012 34 567 89 0 1 23))</p>
<p>#(12 34 567 8</p>
<p>9012 34 567</p>
<p>89 0 1 23)</p>
<p>As examples of the convenience of specifying pretty printing with <em>format strings</em>, consider that the functions simple-pprint-defun and pprint-let used as examples above can be compactly defined as follows. (The function pprint-vector cannot be defined using <strong>format</strong> because the data structure it traverses is not a list.)</p>
<p>(defun simple-pprint-defun (*standard-output* list)</p>
<p>(format T &quot;~:&lt;~W ~@ ~<!-- -->:I<!-- -->~W ~: ~W~1I ~ ~W~:&gt;&quot; list))</p>
<p>(defun pprint-let (*standard-output* list)</p>
<p>(format T &quot;~:&lt;~W~<i><sup>^</sup></i>~:&lt;~@{~:&lt;~@{~W~<i><sup>^</sup></i>~ ~}~:&gt;~<i><sup>^</sup></i>~: ~}~:&gt;~1I~@{~<i><sup>^</sup></i>~ ~W~}~:&gt;&quot; list))</p>
<p>In the following example, the first <em>form</em> restores <strong>*print-pprint-dispatch*</strong> to the equivalent of its initial value. The next two forms then set up a special way to pretty print ratios. Note that the more specific <em>type specifier</em> has to be associated with a higher priority.</p>
<p>(setq *print-pprint-dispatch* (copy-pprint-dispatch nil))</p>
<p>(set-pprint-dispatch ’ratio</p>
<p>#’(lambda (s obj)</p>
<p>(format s &quot;#.(/ ~W ~W)&quot;</p>
<p>(numerator obj) (denominator obj))))</p>
<p>(set-pprint-dispatch ’(and ratio (satisfies minusp))</p>
<p>#’(lambda (s obj)</p>
<p>(format s &quot;#.(- (/ ~W ~W))&quot;</p>
<p>(- (numerator obj)) (denominator obj)))</p>
<p>\5)</p>
<p>(pprint ’(1/3 -2/3))</p>
<p>(#.(/ 1 3) #.(- (/ 2 3)))</p>
<p>The following two <em>forms</em> illustrate the definition of pretty printing functions for types of <em>code</em>. The first <em>form</em> illustrates how to specify the traditional method for printing quoted objects using <em>single-quote</em>. Note the care taken to ensure that data lists that happen to begin with <strong>quote</strong> will be printed readably. The second form specifies that lists beginning with the symbol my-let should print the same way that lists beginning with <strong>let</strong> print when the initial <em>pprint dispatch table</em> is in effect.</p>
<p>(set-pprint-dispatch ’(cons (member quote)) ()</p>
<p>#’(lambda (s list)</p>
<p>(if (and (consp (cdr list)) (null (cddr list)))</p>
<p>(funcall (formatter &quot;’~W&quot;) s (cadr list))</p>
<p>(pprint-fill s list))))</p>
<p>(set-pprint-dispatch ’(cons (member my-let))</p>
<p>(pprint-dispatch ’(let) nil))</p>
<p>The next example specifies a default method for printing lists that do not correspond to function calls. Note that the functions <strong>pprint-linear</strong>, <strong>pprint-fill</strong>, and <strong>pprint-tabular</strong> are all defined with optional <em>colon-p</em> and <em>at-sign-p</em> arguments so that they can be used as <strong>pprint dispatch functions</strong> as well as ~/.../ functions.</p>
<p>(set-pprint-dispatch ’(cons (not (and symbol (satisfies fboundp))))</p>
<p>#’pprint-fill -5)</p>
<p>;; Assume a line length of 9</p>
<p>(pprint ’(0 b c d e f g h i j k))</p>
<p>(0 b c d</p>
<p>e f g h</p>
<p>i j k)</p>
<p>This final example shows how to define a pretty printing function for a user defined data structure. (defstruct family mom kids)</p>
<p>(set-pprint-dispatch ’family</p>
<p>#’(lambda (s f)</p>
<p>(funcall (formatter &quot;~@&lt;#&lt;~;~W and ~2I~ ~/pprint-fill/~;&gt;~:&gt;&quot;)</p>
<p>s (family-mom f) (family-kids f))))</p>
<p>The pretty printing function for the structure family specifies how to adjust the layout of the output so that it can fit aesthetically into a variety of line widths. In addition, it obeys the printer control variables <strong>*print-level*</strong>, <strong>*print-length*</strong>, <strong>*print-lines*</strong>, <strong>*print-circle*</strong> and <strong>*print-escape*</strong>, and can tolerate several different kinds of malformity in the data structure. The output below shows what is printed out with a right margin of 25, <strong>*print-pretty*</strong> being <em>true</em>, <strong>*print-escape*</strong> being <em>false</em>, and a malformed kids list.</p>
<p>(write (list ’principal-family</p>
<p>(make-family <!-- -->:mom<!-- --> &quot;Lucy&quot;</p>
<p>:kids<!-- --> ’(&quot;Mark&quot; &quot;Bob&quot; . &quot;Dan&quot;)))</p>
<p>:right-margin<!-- --> 25 <!-- -->:pretty<!-- --> T <!-- -->:escape<!-- --> nil <!-- -->:miser-width<!-- --> nil)</p>
<p>(PRINCIPAL-FAMILY</p>
<p>#&lt;Lucy and</p>
<p>Mark Bob . Dan&gt;)</p>
<p>Note that a pretty printing function for a structure is different from the structure’s <strong>print-object</strong> <em>method</em>. While <strong>print-object</strong> <em>methods</em> are permanently associated with a structure, pretty printing functions are stored in <em>pprint dispatch tables</em> and can be rapidly changed to reflect different printing needs. If there is no pretty printing function for a structure in the current <em>pprint dispatch table</em>, its <strong>print-object</strong> <em>method</em> is used instead.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2223-notes-about-the-pretty-printer">22.2.3 Notes about the Pretty Printer<a href="#2223-notes-about-the-pretty-printer" class="hash-link" aria-label="Direct link to 22.2.3 Notes about the Pretty Printer" title="Direct link to 22.2.3 Notes about the Pretty Printer">​</a></h2>
<!-- -->
<!-- -->
<p>For a background reference to the abstract concepts detailed in this section, see <em>XP: A Common Lisp Pretty Printing System</em>. The details of that paper are not binding on this document, but may be helpful in establishing a conceptual basis for understanding this material.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-22/cc-c-the-lisp-pretty-printer.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cl-language-reference/docs/chap-22/cc-b-the-lisp-printer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">22.1 The Lisp Printer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cl-language-reference/docs/chap-22/cc-d-formatted-output"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">22.3 Formatted Output</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#2221-pretty-printer-concepts" class="table-of-contents__link toc-highlight">22.2.1 Pretty Printer Concepts</a><ul><li><a href="#22211-dynamic-control-of-the-arrangement-of-output" class="table-of-contents__link toc-highlight">22.2.1.1 Dynamic Control of the Arrangement of Output</a></li><li><a href="#22212-format-directive-interface" class="table-of-contents__link toc-highlight">22.2.1.2 Format Directive Interface</a></li><li><a href="#22213-compiling-format-strings" class="table-of-contents__link toc-highlight">22.2.1.3 Compiling Format Strings</a></li><li><a href="#22214-pretty-print-dispatch-tables" class="table-of-contents__link toc-highlight">22.2.1.4 Pretty Print Dispatch Tables</a></li><li><a href="#22215-pretty-printer-margins" class="table-of-contents__link toc-highlight">22.2.1.5 Pretty Printer Margins</a></li></ul></li><li><a href="#2222-examples-of-using-the-pretty-printer" class="table-of-contents__link toc-highlight">22.2.2 Examples of using the Pretty Printer</a></li><li><a href="#2223-notes-about-the-pretty-printer" class="table-of-contents__link toc-highlight">22.2.3 Notes about the Pretty Printer</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cl-language-reference/docs/intro">Cl Technical Reference</a></li><li class="footer__item"><a href="https://lisp-docs.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CL Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/common-lisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/hhk46CE" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/common_lisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://irclog.tymoon.eu/libera/commonlisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">IRC<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cl-language-reference/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/lisp-docs/cl-language-reference/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 LISP Docs, MIT License. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>