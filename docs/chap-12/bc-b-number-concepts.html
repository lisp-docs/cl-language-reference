<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chap-12/bc-b-number-concepts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">12.1 Number Concepts | Common Lisp (New) Language Reference</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lisp-docs.github.io/cl-language-reference/img/1024px-Lisp_logo.svg.png"><meta data-rh="true" name="twitter:image" content="https://lisp-docs.github.io/cl-language-reference/img/1024px-Lisp_logo.svg.png"><meta data-rh="true" property="og:url" content="https://lisp-docs.github.io/cl-language-reference/docs/chap-12/bc-b-number-concepts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="12.1 Number Concepts | Common Lisp (New) Language Reference"><meta data-rh="true" name="description" content="12.1.1 Numeric Operations"><meta data-rh="true" property="og:description" content="12.1.1 Numeric Operations"><link data-rh="true" rel="icon" href="/cl-language-reference/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lisp-docs.github.io/cl-language-reference/docs/chap-12/bc-b-number-concepts"><link data-rh="true" rel="alternate" href="https://lisp-docs.github.io/cl-language-reference/docs/chap-12/bc-b-number-concepts" hreflang="en"><link data-rh="true" rel="alternate" href="https://lisp-docs.github.io/cl-language-reference/docs/chap-12/bc-b-number-concepts" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/cl-language-reference/blog/rss.xml" title="Common Lisp (New) Language Reference RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cl-language-reference/blog/atom.xml" title="Common Lisp (New) Language Reference Atom Feed"><link rel="stylesheet" href="/cl-language-reference/assets/css/styles.d3a7613c.css">
<script src="/cl-language-reference/assets/js/runtime~main.dde6b9e7.js" defer="defer"></script>
<script src="/cl-language-reference/assets/js/main.8ad038d5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cl-language-reference/"><div class="navbar__logo"><img src="/cl-language-reference/img/logo.svg" alt="LISP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cl-language-reference/img/logo.svg" alt="LISP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">CL Technical Reference </b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cl-language-reference/docs/category/nil">The CL Reference</a><a class="navbar__item navbar__link" href="/cl-language-reference/contribue">Contribute!</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/cl-language-reference/blog">Blog</a><a href="https://github.com/lisp-docs/cl-language-reference/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/nil">NIL</a><button aria-label="Expand sidebar category &#x27;NIL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/1-introduction">1. Introduction</a><button aria-label="Expand sidebar category &#x27;1. Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/10-symbols">10. Symbols</a><button aria-label="Expand sidebar category &#x27;10. Symbols&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/11-packages">11. Packages</a><button aria-label="Expand sidebar category &#x27;11. Packages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/cl-language-reference/docs/category/12-numbers">12. Numbers</a><button aria-label="Collapse sidebar category &#x27;12. Numbers&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cl-language-reference/docs/chap-12/bc-b-number-concepts">12.1 Number Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cl-language-reference/docs/chap-12/intro">intro</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/13-characters">13. Characters</a><button aria-label="Expand sidebar category &#x27;13. Characters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/14-conses">14. Conses</a><button aria-label="Expand sidebar category &#x27;14. Conses&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/15-arrays">15. Arrays</a><button aria-label="Expand sidebar category &#x27;15. Arrays&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/16-strings">16. Strings</a><button aria-label="Expand sidebar category &#x27;16. Strings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/17-sequences">17. Sequences</a><button aria-label="Expand sidebar category &#x27;17. Sequences&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/18-hash-tables">18. Hash Tables</a><button aria-label="Expand sidebar category &#x27;18. Hash Tables&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/19-filenames">19. Filenames</a><button aria-label="Expand sidebar category &#x27;19. Filenames&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/2-syntax">2. Syntax</a><button aria-label="Expand sidebar category &#x27;2. Syntax&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/20-files">20. Files</a><button aria-label="Expand sidebar category &#x27;20. Files&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/21-streams">21. Streams</a><button aria-label="Expand sidebar category &#x27;21. Streams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/22-printer">22. Printer</a><button aria-label="Expand sidebar category &#x27;22. Printer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/23-reader">23. Reader</a><button aria-label="Expand sidebar category &#x27;23. Reader&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/24-system-construction">24. System Construction</a><button aria-label="Expand sidebar category &#x27;24. System Construction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/25-environment">25. Environment</a><button aria-label="Expand sidebar category &#x27;25. Environment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/26-glossary">26. Glossary</a><button aria-label="Expand sidebar category &#x27;26. Glossary&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/3-evaluation-and-compilation">3. Evaluation and Compilation</a><button aria-label="Expand sidebar category &#x27;3. Evaluation and Compilation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/4-types-and-classes">4. Types and Classes</a><button aria-label="Expand sidebar category &#x27;4. Types and Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/5-data-and-control-flow">5. Data and Control Flow</a><button aria-label="Expand sidebar category &#x27;5. Data and Control Flow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/6-iteration">6. Iteration</a><button aria-label="Expand sidebar category &#x27;6. Iteration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/7-objects">7. Objects</a><button aria-label="Expand sidebar category &#x27;7. Objects&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/8-structures">8. Structures</a><button aria-label="Expand sidebar category &#x27;8. Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/9-conditions">9. Conditions</a><button aria-label="Expand sidebar category &#x27;9. Conditions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cl-language-reference/docs/category/a-appendix">A. Appendix</a><button aria-label="Expand sidebar category &#x27;A. Appendix&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cl-language-reference/docs/intro">intro</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cl-language-reference/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cl-language-reference/docs/category/12-numbers"><span itemprop="name">12. Numbers</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">12.1 Number Concepts</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>12.1 Number Concepts</h1>
<!-- -->
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1211-numeric-operations">12.1.1 Numeric Operations<a href="#1211-numeric-operations" class="hash-link" aria-label="Direct link to 12.1.1 Numeric Operations" title="Direct link to 12.1.1 Numeric Operations">​</a></h2>
<!-- -->
<p>Common Lisp provides a large variety of operations related to <em>numbers</em>. This section provides an overview of those operations by grouping them into categories that emphasize some of the relationships among them.</p>
<p>Figure 12–1 shows <em>operators</em> relating to arithmetic operations.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>* 1+ gcd</strong> &lt;/p&gt;&lt;p&gt;<strong>+ 1- incf</strong> &lt;/p&gt;&lt;p&gt;<strong>- conjugate lcm</strong> &lt;/p&gt;&lt;p&gt;<strong>/ decf</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–1. Operators relating to Arithmetic.</strong></p>
<p>Figure 12–2 shows <em>defined names</em> relating to exponential, logarithmic, and trigonometric operations.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>abs cos signum</strong> &lt;/p&gt;&lt;p&gt;<strong>acos cosh sin</strong> &lt;/p&gt;&lt;p&gt;<strong>acosh exp sinh</strong> &lt;/p&gt;&lt;p&gt;<strong>asin expt sqrt</strong> &lt;/p&gt;&lt;p&gt;<strong>asinh isqrt tan</strong> &lt;/p&gt;&lt;p&gt;<strong>atan log tanh</strong> &lt;/p&gt;&lt;p&gt;<strong>atanh phase</strong> &lt;/p&gt;&lt;p&gt;<strong>cis pi</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–2. Defined names relating to Exponentials, Logarithms, and Trigonometry.</strong> Figure 12–3 shows <em>operators</em> relating to numeric comparison and predication.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>/=</strong> &gt;<strong>= oddp</strong> &lt;/p&gt;&lt;p&gt;&lt; <strong>evenp plusp</strong> &lt;/p&gt;&lt;p&gt;&lt;<strong>= max zerop</strong> &lt;/p&gt;&lt;p&gt;<strong>= min</strong> &lt;/p&gt;&lt;p&gt;&gt; <strong>minusp</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–3. Operators for numeric comparison and predication.</strong></p>
<p>Numbers <strong>12–1</strong></p>
<p>Figure 12–4 shows <em>defined names</em> relating to numeric type manipulation and coercion.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>ceiling float-radix rational</strong> &lt;/p&gt;&lt;p&gt;<strong>complex float-sign rationalize decode-float floor realpart</strong> &lt;/p&gt;&lt;p&gt;<strong>denominator fround rem</strong> &lt;/p&gt;&lt;p&gt;<strong>fceiling ftruncate round</strong> &lt;/p&gt;&lt;p&gt;<strong>ffloor imagpart scale-float float integer-decode-float truncate</strong> &lt;/p&gt;&lt;p&gt;<strong>float-digits mod</strong> &lt;/p&gt;&lt;p&gt;<strong>float-precision numerator</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–4. Defined names relating to numeric type manipulation and coercion.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12111-associativity-and-commutativity-in-numeric-operations">12.1.1.1 Associativity and Commutativity in Numeric Operations<a href="#12111-associativity-and-commutativity-in-numeric-operations" class="hash-link" aria-label="Direct link to 12.1.1.1 Associativity and Commutativity in Numeric Operations" title="Direct link to 12.1.1.1 Associativity and Commutativity in Numeric Operations">​</a></h3>
<!-- -->
<p>For functions that are mathematically associative (and possibly commutative), a <em>conforming implementation</em> may process the <em>arguments</em> in any manner consistent with associative (and possibly commutative) rearrangement. This does not affect the order in which the <em>argument</em></p>
<p><em>forms</em> are <em>evaluated</em>; for a discussion of evaluation order, see Section 3.1.2.1.2.3 (Function Forms). What is unspecified is only the order in which the <em>parameter values</em> are processed. This implies that <em>implementations</em> may differ in which automatic <em>coercions</em> are applied; see Section 12.1.1.2 (Contagion in Numeric Operations).</p>
<p>A <em>conforming program</em> can control the order of processing explicitly by separating the operations into separate (possibly nested) <em>function forms</em>, or by writing explicit calls to <em>functions</em> that perform coercions.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="121111-examples-of-associativity-and-commutativity-in-numeric-operations">12.1.1.1.1 Examples of Associativity and Commutativity in Numeric Operations<a href="#121111-examples-of-associativity-and-commutativity-in-numeric-operations" class="hash-link" aria-label="Direct link to 12.1.1.1.1 Examples of Associativity and Commutativity in Numeric Operations" title="Direct link to 12.1.1.1.1 Examples of Associativity and Commutativity in Numeric Operations">​</a></h4>
<!-- -->
<p>Consider the following expression, in which we assume that 1.0 and 1.0e-15 both denote <em>single floats</em>:</p>
<p>(+ 1/3 2/3 1.0d0 1.0 1.0e-15)</p>
<p>One <em>conforming implementation</em> might process the <em>arguments</em> from left to right, first adding 1/3 and 2/3 to get 1, then converting that to a <em>double float</em> for combination with 1.0d0, then successively converting and adding 1.0 and 1.0e-15.</p>
<p>Another <em>conforming implementation</em> might process the <em>arguments</em> from right to left, first performing a <em>single float</em> addition of 1.0 and 1.0e-15 (perhaps losing accuracy in the process), then converting the sum to a <em>double float</em> and adding 1.0d0, then converting 2/3 to a <em>double float</em> and adding it, and then converting 1/3 and adding that.</p>
<p>A third <em>conforming implementation</em> might first scan all the <em>arguments</em>, process all the <em>rationals</em> first to keep that part of the computation exact, then find an <em>argument</em> of the largest floating-point</p>
<p>format among all the <em>arguments</em> and add that, and then add in all other <em>arguments</em>, converting each in turn (all in a perhaps misguided attempt to make the computation as accurate as possible).</p>
<p>In any case, all three strategies are legitimate.</p>
<p>A <em>conforming program</em> could control the order by writing, for example,</p>
<p>(+ (+ 1/3 2/3) (+ 1.0d0 1.0e-15) 1.0)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12112-contagion-in-numeric-operations">12.1.1.2 Contagion in Numeric Operations<a href="#12112-contagion-in-numeric-operations" class="hash-link" aria-label="Direct link to 12.1.1.2 Contagion in Numeric Operations" title="Direct link to 12.1.1.2 Contagion in Numeric Operations">​</a></h3>
<!-- -->
<p>For information about the contagion rules for implicit coercions of <em>arguments</em> in numeric operations, see Section 12.1.4.4 (Rule of Float Precision Contagion), Section 12.1.4.1 (Rule of Float and Rational Contagion), and Section 12.1.5.2 (Rule of Complex Contagion).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12113-viewing-integers-as-bits-and-bytes">12.1.1.3 Viewing Integers as Bits and Bytes<a href="#12113-viewing-integers-as-bits-and-bytes" class="hash-link" aria-label="Direct link to 12.1.1.3 Viewing Integers as Bits and Bytes" title="Direct link to 12.1.1.3 Viewing Integers as Bits and Bytes">​</a></h3>
<!-- -->
<!-- -->
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="121131-logical-operations-on-integers">12.1.1.3.1 Logical Operations on Integers<a href="#121131-logical-operations-on-integers" class="hash-link" aria-label="Direct link to 12.1.1.3.1 Logical Operations on Integers" title="Direct link to 12.1.1.3.1 Logical Operations on Integers">​</a></h4>
<!-- -->
<p>Logical operations require <em>integers</em> as arguments; an error of <em>type</em> <strong>type-error</strong> should be signaled if an argument is supplied that is not an <em>integer</em> . <em>Integer</em> arguments to logical operations are treated as if they were represented in two’s-complement notation.</p>
<p>Figure 12–5 shows <em>defined names</em> relating to logical operations on numbers.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>ash boole-ior logbitp</strong> &lt;/p&gt;&lt;p&gt;<strong>boole boole-nand logcount</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-1 boole-nor logeqv</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-2 boole-orc1 logior</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-and boole-orc2 lognand</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-andc1 boole-set lognor</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-andc2 boole-xor lognot</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-c1 integer-length logorc1</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-c2 logand logorc2</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-clr logandc1 logtest</strong> &lt;/p&gt;&lt;p&gt;<strong>boole-eqv logandc2 logxor</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–5. Defined names relating to logical operations on numbers.</strong></p>
<p>Numbers <strong>12–3</strong></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="121132-byte-operations-on-integers">12.1.1.3.2 Byte Operations on Integers<a href="#121132-byte-operations-on-integers" class="hash-link" aria-label="Direct link to 12.1.1.3.2 Byte Operations on Integers" title="Direct link to 12.1.1.3.2 Byte Operations on Integers">​</a></h4>
<!-- -->
<p>The byte-manipulation <em>functions</em> use <em>objects</em> called <em>byte specifiers</em> to designate the size and position of a specific <em>byte</em> within an <em>integer</em> . The representation of a <em>byte specifier</em> is <em>implementation dependent</em>; it might or might not be a <em>number</em> . The <em>function</em> <strong>byte</strong> will construct a <em>byte specifier</em> , which various other byte-manipulation <em>functions</em> will accept.</p>
<p>Figure 12–6 shows <em>defined names</em> relating to manipulating <em>bytes</em> of <em>numbers</em>.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>byte deposit-field ldb-test</strong> &lt;/p&gt;&lt;p&gt;<strong>byte-position dpb mask-field</strong> &lt;/p&gt;&lt;p&gt;<strong>byte-size ldb</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–6. Defined names relating to byte manipulation.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1212-implementation">12.1.2 Implementation<a href="#1212-implementation" class="hash-link" aria-label="Direct link to 12.1.2 Implementation" title="Direct link to 12.1.2 Implementation">​</a></h2>
<!-- -->
<p>Figure 12–7 shows <em>defined names</em> relating to <em>implementation-dependent</em> details about <em>numbers</em>.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>double-float-epsilon most-negative-fixnum</strong> &lt;/p&gt;&lt;p&gt;<strong>double-float-negative-epsilon most-negative-long-float</strong> &lt;/p&gt;&lt;p&gt;<strong>least-negative-double-float most-negative-short-float</strong> &lt;/p&gt;&lt;p&gt;<strong>least-negative-long-float most-negative-single-float</strong> &lt;/p&gt;&lt;p&gt;<strong>least-negative-short-float most-positive-double-float</strong> &lt;/p&gt;&lt;p&gt;<strong>least-negative-single-float most-positive-fixnum</strong> &lt;/p&gt;&lt;p&gt;<strong>least-positive-double-float most-positive-long-float</strong> &lt;/p&gt;&lt;p&gt;<strong>least-positive-long-float most-positive-short-float</strong> &lt;/p&gt;&lt;p&gt;<strong>least-positive-short-float most-positive-single-float</strong> &lt;/p&gt;&lt;p&gt;<strong>least-positive-single-float short-float-epsilon</strong> &lt;/p&gt;&lt;p&gt;<strong>long-float-epsilon short-float-negative-epsilon long-float-negative-epsilon single-float-epsilon</strong> &lt;/p&gt;&lt;p&gt;<strong>most-negative-double-float single-float-negative-epsilon</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–7. Defined names relating to implementation-dependent details about numbers.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1213-rational-computations">12.1.3 Rational Computations<a href="#1213-rational-computations" class="hash-link" aria-label="Direct link to 12.1.3 Rational Computations" title="Direct link to 12.1.3 Rational Computations">​</a></h2>
<!-- -->
<p>The rules in this section apply to <em>rational</em> computations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12131-rule-of-unbounded-rational-precision">12.1.3.1 Rule of Unbounded Rational Precision<a href="#12131-rule-of-unbounded-rational-precision" class="hash-link" aria-label="Direct link to 12.1.3.1 Rule of Unbounded Rational Precision" title="Direct link to 12.1.3.1 Rule of Unbounded Rational Precision">​</a></h3>
<!-- -->
<p>Rational computations cannot overflow in the usual sense (though there may not be enough storage to represent a result), since <em>integers</em> and <em>ratios</em> may in principle be of any magnitude.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12132-rule-of-canonical-representation-for-rationals">12.1.3.2 Rule of Canonical Representation for Rationals<a href="#12132-rule-of-canonical-representation-for-rationals" class="hash-link" aria-label="Direct link to 12.1.3.2 Rule of Canonical Representation for Rationals" title="Direct link to 12.1.3.2 Rule of Canonical Representation for Rationals">​</a></h3>
<!-- -->
<p>If any computation produces a result that is a mathematical ratio of two integers such that the denominator evenly divides the numerator, then the result is converted to the equivalent <em>integer</em> .</p>
<p>If the denominator does not evenly divide the numerator, the canonical representation of a <em>rational</em> number is as the <em>ratio</em> that numerator and that denominator, where the greatest common divisor of the numerator and denominator is one, and where the denominator is positive and greater than one.</p>
<p>When used as input (in the default syntax), the notation -0 always denotes the <em>integer</em> 0. A <em>conforming implementation</em> must not have a representation of “minus zero” for <em>integers</em> that is distinct from its representation of zero for <em>integers</em>. However, such a distinction is possible for <em>floats</em>; see the <em>type</em> <strong>float</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12133-rule-of-float-substitutability">12.1.3.3 Rule of Float Substitutability<a href="#12133-rule-of-float-substitutability" class="hash-link" aria-label="Direct link to 12.1.3.3 Rule of Float Substitutability" title="Direct link to 12.1.3.3 Rule of Float Substitutability">​</a></h3>
<!-- -->
<p>When the arguments to an irrational mathematical <em>function</em> are all <em>rational</em> and the true mathe matical result is also (mathematically) rational, then unless otherwise noted an implementation is free to return either an accurate <em>rational</em> result or a <em>single float</em> approximation. If the arguments</p>
<p>are all <em>rational</em> but the result cannot be expressed as a <em>rational</em> number, then a <em>single float</em> approximation is always returned.</p>
<p>If the arguments to an irrational mathematical <em>function</em> are all of type</p>
<p>(or rational (complex rational)) and the true mathematical result is (mathematically) a complex number with rational real and imaginary parts, then unless otherwise noted an imple mentation is free to return either an accurate result of type (or rational (complex rational)) or a <em>single float</em> (permissible only if the imaginary part of the true mathematical result is zero) or (complex single-float). If the arguments are all of type (or rational (complex rational)) but the result cannot be expressed as a <em>rational</em> or <em>complex rational</em>, then the returned value will be of <em>type</em> <strong>single-float</strong> (permissible only if the imaginary part of the true mathematical result is zero) or (complex single-float).</p>
<p>Float substitutability applies neither to the rational <em>functions</em> <strong>+</strong>, <strong>-</strong>, <strong>*</strong>, and <strong>/</strong> nor to the related <em>operators</em> <strong>1+</strong>, <strong>1-</strong>, <strong>incf</strong>, <strong>decf</strong>, and <strong>conjugate</strong>. For rational <em>functions</em>, if all arguments are <em>rational</em>, then the result is <em>rational</em>; if all arguments are of type (or rational (complex rational)), then the result is of type (or rational (complex rational)).</p>
<p>Numbers <strong>12–5</strong></p>
<table><thead><tr><th style="text-align:left"><strong>Function Sample Results</strong></th></tr></thead><tbody><tr><td style="text-align:left">&lt;p&gt;<strong>abs</strong> (abs #c(3 4)) <em>→</em> 5 <em>or</em> 5.0 &lt;/p&gt;&lt;p&gt;<strong>acos</strong> (acos 1) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>acosh</strong> (acosh 1) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>asin</strong> (asin 0) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>asinh</strong> (asinh 0) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>atan</strong> (atan 0) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>atanh</strong> (atanh 0) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>cis</strong> (cis 0) <em>→</em> 1 <em>or</em> #c(1.0 0.0) &lt;/p&gt;&lt;p&gt;<strong>cos</strong> (cos 0) <em>→</em> 1 <em>or</em> 1.0 &lt;/p&gt;&lt;p&gt;<strong>cosh</strong> (cosh 0) <em>→</em> 1 <em>or</em> 1.0 &lt;/p&gt;&lt;p&gt;<strong>exp</strong> (exp 0) <em>→</em> 1 <em>or</em> 1.0 &lt;/p&gt;&lt;p&gt;<strong>expt</strong> (expt 8 1/3) <em>→</em> 2 <em>or</em> 2.0 &lt;/p&gt;&lt;p&gt;<strong>log</strong> (log 1) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;(log 8 2) <em>→</em> 3 <em>or</em> 3.0 &lt;/p&gt;&lt;p&gt;<strong>phase</strong> (phase 7) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>signum</strong> (signum #c(3 4)) <em>→</em> #c(3/5 4/5) <em>or</em> #c(0.6 0.8) <strong>sin</strong> (sin 0) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>sinh</strong> (sinh 0) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>sqrt</strong> (sqrt 4) <em>→</em> 2 <em>or</em> 2.0 &lt;/p&gt;&lt;p&gt;(sqrt 9/16) <em>→</em> 3/4 <em>or</em> 0.75 &lt;/p&gt;&lt;p&gt;<strong>tan</strong> (tan 0) <em>→</em> 0 <em>or</em> 0.0 &lt;/p&gt;&lt;p&gt;<strong>tanh</strong> (tanh 0) <em>→</em> 0 <em>or</em> 0.0&lt;/p&gt;</td></tr></tbody></table>
<p><strong>Figure 12–8. Functions Affected by Rule of Float Substitutability</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1214-floating">12.1.4 Floating<a href="#1214-floating" class="hash-link" aria-label="Direct link to 12.1.4 Floating" title="Direct link to 12.1.4 Floating">​</a></h2>
<!-- -->
<p>The following rules apply to floating point computations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12141-rule-of-float-and-rational-contagion">12.1.4.1 Rule of Float and Rational Contagion<a href="#12141-rule-of-float-and-rational-contagion" class="hash-link" aria-label="Direct link to 12.1.4.1 Rule of Float and Rational Contagion" title="Direct link to 12.1.4.1 Rule of Float and Rational Contagion">​</a></h3>
<!-- -->
<p>When <em>rationals</em> and <em>floats</em> are combined by a numerical function, the <em>rational</em> is first converted to a <em>float</em> of the same format. For <em>functions</em> such as <strong>+</strong> that take more than two arguments, it is permitted that part of the operation be carried out exactly using <em>rationals</em> and the rest be done using floating-point arithmetic.</p>
<p>When <em>rationals</em> and <em>floats</em> are compared by a numerical function, the <em>function</em> <strong>rational</strong> is effectively called to convert the <em>float</em> to a <em>rational</em> and then an exact comparison is performed. In the case of <em>complex</em> numbers, the real and imaginary parts are effectively handled individually.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="121411-examples-of-rule-of-float-and-rational-contagion">12.1.4.1.1 Examples of Rule of Float and Rational Contagion<a href="#121411-examples-of-rule-of-float-and-rational-contagion" class="hash-link" aria-label="Direct link to 12.1.4.1.1 Examples of Rule of Float and Rational Contagion" title="Direct link to 12.1.4.1.1 Examples of Rule of Float and Rational Contagion">​</a></h4>
<!-- -->
<p>;;;; Combining rationals with floats.</p>
<p>;;; This example assumes an implementation in which</p>
<p>;;; (float-radix 0.5) is 2 (as in IEEE) or 16 (as in IBM/360),</p>
<p>;;; or else some other implementation in which 1/2 has an exact</p>
<p>;;; representation in floating point.</p>
<p>(+ 1/2 0.5) <em>→</em> 1.0</p>
<p>(- 1/2 0.5d0) <em>→</em> 0.0d0</p>
<p>(+ 0.5 -0.5 1/2) <em>→</em> 0.5</p>
<p>;;;; Comparing rationals with floats.</p>
<p>;;; This example assumes an implementation in which the default float</p>
<p>;;; format is IEEE single-float, IEEE double-float, or some other format</p>
<p>;;; in which 5/7 is rounded upwards by FLOAT.</p>
<p>(&lt; 5/7 (float 5/7)) <em>→ true</em></p>
<p>(&lt; 5/7 (rational (float 5/7))) <em>→ true</em></p>
<p>(&lt; (float 5/7) (float 5/7)) <em>→ false</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12142-rule-of-float-approximation">12.1.4.2 Rule of Float Approximation<a href="#12142-rule-of-float-approximation" class="hash-link" aria-label="Direct link to 12.1.4.2 Rule of Float Approximation" title="Direct link to 12.1.4.2 Rule of Float Approximation">​</a></h3>
<!-- -->
<p>Computations with <em>floats</em> are only approximate, although they are described as if the results were mathematically accurate. Two mathematically identical expressions may be computationally different because of errors inherent in the floating-point approximation process. The precision of a <em>float</em> is not necessarily correlated with the accuracy of that number. For instance, 3.142857142857142857 is a more precise approximation to <em>π</em> than 3.14159, but the latter is more accurate. The precision refers to the number of bits retained in the representation. When an operation combines a <em>short float</em> with a <em>long float</em>, the result will be a <em>long float</em>. Common Lisp functions assume that the accuracy of arguments to them does not exceed their precision. Therefore when two <em>small floats</em> are combined, the result is a <em>small float</em>. Common Lisp functions never convert automatically from a larger size to a smaller one.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12143-rule-of-float-underflow-and-overflow">12.1.4.3 Rule of Float Underflow and Overflow<a href="#12143-rule-of-float-underflow-and-overflow" class="hash-link" aria-label="Direct link to 12.1.4.3 Rule of Float Underflow and Overflow" title="Direct link to 12.1.4.3 Rule of Float Underflow and Overflow">​</a></h3>
<!-- -->
<p>An error of <em>type</em> <strong>floating-point-overflow</strong> or <strong>floating-point-underflow</strong> should be signaled if a floating-point computation causes exponent overflow or underflow, respectively.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12144-rule-of-float-precision-contagion">12.1.4.4 Rule of Float Precision Contagion<a href="#12144-rule-of-float-precision-contagion" class="hash-link" aria-label="Direct link to 12.1.4.4 Rule of Float Precision Contagion" title="Direct link to 12.1.4.4 Rule of Float Precision Contagion">​</a></h3>
<!-- -->
<p>The result of a numerical function is a <em>float</em> of the largest format among all the floating-point arguments to the <em>function</em>.</p>
<p>Numbers <strong>12–7</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1215-complex-computations">12.1.5 Complex Computations<a href="#1215-complex-computations" class="hash-link" aria-label="Direct link to 12.1.5 Complex Computations" title="Direct link to 12.1.5 Complex Computations">​</a></h2>
<!-- -->
<p>The following rules apply to <em>complex</em> computations:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12151-rule-of-complex-substitutability">12.1.5.1 Rule of Complex Substitutability<a href="#12151-rule-of-complex-substitutability" class="hash-link" aria-label="Direct link to 12.1.5.1 Rule of Complex Substitutability" title="Direct link to 12.1.5.1 Rule of Complex Substitutability">​</a></h3>
<!-- -->
<p>Except during the execution of irrational and transcendental <em>functions</em>, no numerical <em>function</em> ever <em>yields</em> a <em>complex</em> unless one or more of its <em>arguments</em> is a <em>complex</em> .</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12152-rule-of-complex-contagion">12.1.5.2 Rule of Complex Contagion<a href="#12152-rule-of-complex-contagion" class="hash-link" aria-label="Direct link to 12.1.5.2 Rule of Complex Contagion" title="Direct link to 12.1.5.2 Rule of Complex Contagion">​</a></h3>
<!-- -->
<p>When a <em>real</em> and a <em>complex</em> are both part of a computation, the <em>real</em> is first converted to a <em>complex</em> by providing an imaginary part of 0.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12153-rule-of-canonical-representation-for-complex-rationals">12.1.5.3 Rule of Canonical Representation for Complex Rationals<a href="#12153-rule-of-canonical-representation-for-complex-rationals" class="hash-link" aria-label="Direct link to 12.1.5.3 Rule of Canonical Representation for Complex Rationals" title="Direct link to 12.1.5.3 Rule of Canonical Representation for Complex Rationals">​</a></h3>
<!-- -->
<p>If the result of any computation would be a <em>complex</em> number whose real part is of <em>type</em> <strong>rational</strong> and whose imaginary part is zero, the result is converted to the <em>rational</em> which is the real part. This rule does not apply to <em>complex</em> numbers whose parts are <em>floats</em>. For example, #C(5 0) and 5 are not <em>different objects</em> in Common Lisp(they are always the <em>same</em> under <strong>eql</strong>); #C(5.0 0.0) and</p>
<p>5.0 are always <em>different objects</em> in Common Lisp (they are never the <em>same</em> under <strong>eql</strong>, although they are the <em>same</em> under <strong>equalp</strong> and <strong>=</strong>).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="121531-examples-of-rule-of-canonical-representation-for-complex-rationals">12.1.5.3.1 Examples of Rule of Canonical Representation for Complex Rationals<a href="#121531-examples-of-rule-of-canonical-representation-for-complex-rationals" class="hash-link" aria-label="Direct link to 12.1.5.3.1 Examples of Rule of Canonical Representation for Complex Rationals" title="Direct link to 12.1.5.3.1 Examples of Rule of Canonical Representation for Complex Rationals">​</a></h4>
<!-- -->
<p>#c(1.0 1.0) <em>→</em> #C(1.0 1.0)</p>
<p>#c(0.0 0.0) <em>→</em> #C(0.0 0.0)</p>
<p>#c(1.0 1) <em>→</em> #C(1.0 1.0)</p>
<p>#c(0.0 0) <em>→</em> #C(0.0 0.0)</p>
<p>#c(1 1) <em>→</em> #C(1 1)</p>
<p>#c(0 0) <em>→</em> 0</p>
<p>(typep #c(1 1) ’(complex (eql 1))) <em>→ true</em></p>
<p>(typep #c(0 0) ’(complex (eql 0))) <em>→ false</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12154-principal-values-and-branch-cuts">12.1.5.4 Principal Values and Branch Cuts<a href="#12154-principal-values-and-branch-cuts" class="hash-link" aria-label="Direct link to 12.1.5.4 Principal Values and Branch Cuts" title="Direct link to 12.1.5.4 Principal Values and Branch Cuts">​</a></h3>
<!-- -->
<p>Many of the irrational and transcendental functions are multiply defined in the complex domain; for example, there are in general an infinite number of complex values for the logarithm function. In each such case, a <em>principal value</em> must be chosen for the function to return. In general, such values cannot be chosen so as to make the range continuous; lines in the domain called branch cuts must be defined, which in turn define the discontinuities in the range. Common Lisp defines the branch cuts, <em>principal values</em>, and boundary conditions for the complex functions following “Principal Values and Branch Cuts in Complex APL.” The branch cut rules that apply to each function are located with the description of that function.</p>
<p>Figure 12–9 lists the identities that are obeyed throughout the applicable portion of the complex domain, even on the branch cuts:</p>
<table><thead><tr><th style="text-align:left">sin i z = i sinh z sinh i z = i sin z arctan i z = i arctanh z cos i z = cosh z cosh i z = cos z arcsinh i z = i arcsin z tan i z = i tanh z arcsin i z = i arcsinh z arctanh i z = i arctan z</th></tr></thead></table>
<p><strong>Figure 12–9. Trigonometric Identities for Complex Domain</strong></p>
<p>The quadrant numbers referred to in the discussions of branch cuts are as illustrated in Figure 12–10.</p>
<p>Positive</p>
<p>Imaginary Axis</p>
<p>&lt;sup&gt;..&lt;/sup&gt;.</p>
<p>&lt;sub&gt;II&lt;/sub&gt;&lt;sup&gt;..&lt;/sup&gt;. I</p>
<p>Negative Real Axis <em>· · · · · · · · · · · · · · · · · ·</em> Positive Real Axis</p>
<p>&lt;sub&gt;III&lt;/sub&gt;&lt;sup&gt;..&lt;/sup&gt;. IV</p>
<p>&lt;sup&gt;..&lt;/sup&gt;.</p>
<p>Negative</p>
<p>Imaginary Axis</p>
<p><strong>Figure 12–10. Quadrant Numbering for Branch Cuts</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1216-interval-designators">12.1.6 Interval Designators<a href="#1216-interval-designators" class="hash-link" aria-label="Direct link to 12.1.6 Interval Designators" title="Direct link to 12.1.6 Interval Designators">​</a></h2>
<!-- -->
<p>The <em>compound type specifier</em> form of the numeric <em>type specifiers</em> permit the user to specify an interval on the real number line which describe a <em>subtype</em> of the <em>type</em> which would be described by the corresponding <em>atomic type specifier</em> . A <em>subtype</em> of some <em>type T</em> is specified using an ordered pair of <em>objects</em> called <em>interval designators</em> for <em>type T</em>.</p>
<p>Numbers <strong>12–9</strong></p>
<p>The first of the two <em>interval designators</em> for <em>type T</em> can be any of the following:</p>
<p>a number <em>N</em> of <em>type T</em></p>
<p>This denotes a lower inclusive bound of <em>N</em>. That is, <em>elements</em> of the <em>subtype</em> of <em>T</em> will be greater than or equal to <em>N</em>.</p>
<p>a <em>singleton list</em> whose <em>element</em> is a number <em>M</em> of <em>type T</em></p>
<p>This denotes a lower exclusive bound of <em>M</em>. That is, <em>elements</em> of the <em>subtype</em> of <em>T</em> will be greater than <em>M</em>.</p>
<p>the symbol <strong>*</strong></p>
<p>This denotes the absence of a lower bound on the interval.</p>
<p>The second of the two <em>interval designators</em> for <em>type T</em> can be any of the following:</p>
<p>a number <em>N</em> of <em>type T</em></p>
<p>This denotes an upper inclusive bound of <em>N</em>. That is, <em>elements</em> of the <em>subtype</em> of <em>T</em> will be less than or equal to <em>N</em>.</p>
<p>a <em>singleton list</em> whose <em>element</em> is a number <em>M</em> of <em>type T</em></p>
<p>This denotes an upper exclusive bound of <em>M</em>. That is, <em>elements</em> of the <em>subtype</em> of <em>T</em> will be less than <em>M</em>.</p>
<p>the symbol <strong>*</strong></p>
<p>This denotes the absence of an upper bound on the interval.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1217-random">12.1.7 Random<a href="#1217-random" class="hash-link" aria-label="Direct link to 12.1.7 Random" title="Direct link to 12.1.7 Random">​</a></h2>
<!-- -->
<!-- -->
<p>Figure 12–11 lists some <em>defined names</em> that are applicable to <em>random states</em>.</p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;<strong>*random-state* random</strong> &lt;/p&gt;&lt;p&gt;<strong>make-random-state random-state-p</strong>&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–11. Random-state defined names</strong></p>
<p><strong>number</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The <em>type</em> <strong>number</strong> contains <em>objects</em> which represent mathematical numbers. The <em>types</em> <strong>real</strong> and <strong>complex</strong> are <em>disjoint subtypes</em> of <strong>number</strong>.</p>
<p>The <em>function</em> <strong>=</strong> tests for numerical equality. The <em>function</em> <strong>eql</strong>, when its arguments are both <em>numbers</em>, tests that they have both the same <em>type</em> and numerical value. Two <em>numbers</em> that are the <em>same</em> under <strong>eql</strong> or <strong>=</strong> are not necessarily the <em>same</em> under <strong>eq</strong>.</p>
<p><strong>Notes:</strong></p>
<p>Common Lisp differs from mathematics on some naming issues. In mathematics, the set of real numbers is traditionally described as a subset of the complex numbers, but in Common Lisp, the <em>type</em> <strong>real</strong> and the <em>type</em> <strong>complex</strong> are disjoint. The Common Lisp type which includes all mathematical complex numbers is called <strong>number</strong>. The reasons for these differences include historical precedent, compatibility with most other popular computer languages, and various issues of time and space efficiency.</p>
<p><strong>complex</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>complex</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The <em>type</em> <strong>complex</strong> includes all mathematical complex numbers other than those included in the <em>type</em> <strong>rational</strong>. <em>Complexes</em> are expressed in Cartesian form with a real part and an imaginary part, each of which is a <em>real</em>. The real part and imaginary part are either both <em>rational</em> or both of the same <em>float type</em>. The imaginary part can be a <em>float</em> zero, but can never be a <em>rational</em> zero, for such a number is always represented by Common Lisp as a <em>rational</em> rather than a <em>complex</em> .</p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Specializing.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(complex [<em>typespec |</em> <strong>*</strong>])</p>
<p>Numbers <strong>12–11</strong></p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>typespec</em>—a <em>type specifier</em> that denotes a <em>subtype</em> of <em>type</em> <strong>real</strong>.</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>Every element of this <em>type</em> is a <em>complex</em> whose real part and imaginary part are each of type (upgraded-complex-part-type <em>typespec</em>). This <em>type</em> encompasses those <em>complexes</em> that can result by giving numbers of <em>type typespec</em> to <strong>complex</strong>.</p>
<p>(complex <em>type-specifier</em>) refers to all <em>complexes</em> that can result from giving <em>numbers</em> of <em>type type specifier</em> to the <em>function</em> <strong>complex</strong>, plus all other <em>complexes</em> of the same specialized representation.</p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.5.3 (Rule of Canonical Representation for Complex Rationals), Section 2.3.2 (Constructing Numbers from Tokens), Section 22.1.3.1.4 (Printing Complexes)</p>
<p><strong>Notes:</strong></p>
<p>The input syntax for a <em>complex</em> with real part <em>r</em> and imaginary part <em>i</em> is #C(<em>r i</em>). For further details, see Section 2.4 (Standard Macro Characters).</p>
<p>For every <em>float</em>, <em>n</em>, there is a <em>complex</em> which represents the same mathematical number and which can be obtained by (COERCE <em>n</em> ’COMPLEX).</p>
<p><strong>real</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The <em>type</em> <strong>real</strong> includes all <em>numbers</em> that represent mathematical real numbers, though there are mathematical real numbers (<em>e.g.</em>, irrational numbers) that do not have an exact representation in Common Lisp. Only <em>reals</em> can be ordered using the &lt;, &gt;, &lt;<strong>=</strong>, and &gt;<strong>=</strong> functions.</p>
<p>The <em>types</em> <strong>rational</strong> and <strong>float</strong> are <em>disjoint subtypes</em> of <em>type</em> <strong>real</strong>.</p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(real [<em>lower-limit</em> [<em>upper-limit</em>]])</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>lower-limit</em>, <em>upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>real</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>This denotes the <em>reals</em> on the interval described by <em>lower-limit</em> and <em>upper-limit</em>.</p>
<p><strong>float</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>float</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>A &lt;i&gt;float&lt;/i&gt; is a mathematical rational (but &lt;i&gt;not&lt;/i&gt; a Common Lisp &lt;i&gt;rational&lt;/i&gt;) of the form &lt;i&gt;s · f · b&lt;sup&gt;e−p&lt;/sup&gt;&lt;/i&gt;, where &lt;i&gt;s&lt;/i&gt; is +1 or &lt;i&gt;−&lt;/i&gt;1, the &lt;i&gt;sign&lt;/i&gt;; &lt;i&gt;b&lt;/i&gt; is an &lt;i&gt;integer&lt;/i&gt; greater than 1, the &lt;i&gt;base&lt;/i&gt; or &lt;i&gt;radix&lt;/i&gt; of the representation; &lt;i&gt;p&lt;/i&gt; is a positive &lt;i&gt;integer&lt;/i&gt; , the &lt;i&gt;precision&lt;/i&gt; (in base-&lt;i&gt;b&lt;/i&gt; digits) of the &lt;i&gt;float&lt;/i&gt;; &lt;i&gt;f&lt;/i&gt; is a positive &lt;i&gt;integer&lt;/i&gt; between &lt;i&gt;b&lt;sup&gt;p−&lt;/sup&gt;&lt;/i&gt;1&lt;/sup&gt; and &lt;i&gt;b&lt;sup&gt;p&lt;/sup&gt; −&lt;/i&gt; 1 (inclusive), the significand; and &lt;i&gt;e&lt;/i&gt; is an &lt;i&gt;integer&lt;/i&gt; , the exponent. The value of &lt;i&gt;p&lt;/i&gt; and the</p>
<p>range of <em>e</em> depends on the implementation and on the type of <em>float</em> within that implementation. In addition, there is a floating-point zero; depending on the implementation, there can also be a “minus zero”. If there is no minus zero, then 0▷0 and <em>−</em>0▷0 are both interpreted as simply a floating-point zero. (= 0.0 -0.0) is always true. If there is a minus zero, (eql -0.0 0.0) is <em>false</em>, otherwise it is <em>true</em>.</p>
<p>The <em>types</em> <strong>short-float</strong>, <strong>single-float</strong>, <strong>double-float</strong>, and <strong>long-float</strong> are <em>subtypes</em> of <em>type</em> <strong>float</strong>. Any two of them must be either <em>disjoint types</em> or the <em>same type</em>; if the <em>same type</em>, then any other <em>types</em> between them in the above ordering must also be the <em>same type</em>. For example, if the <em>type</em> <strong>single-float</strong> and the <em>type</em> <strong>long-float</strong> are the <em>same type</em>, then the <em>type</em> <strong>double-float</strong> must be the <em>same type</em> also.</p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(float [<em>lower-limit</em> [<em>upper-limit</em>]])</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>lower-limit</em>, <em>upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>float</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>This denotes the <em>floats</em> on the interval described by <em>lower-limit</em> and <em>upper-limit</em>.</p>
<p>Numbers <strong>12–13</strong></p>
<p><strong>See Also:</strong></p>
<p>Figure 2–9, Section 2.3.2 (Constructing Numbers from Tokens), Section 22.1.3.1.3 (Printing Floats)</p>
<p><strong>Notes:</strong></p>
<p>Note that all mathematical integers are representable not only as Common Lisp <em>reals</em>, but also as <em>complex floats</em>. For example, possible representations of the mathematical number 1 include the <em>integer</em> 1, the <em>float</em> 1.0, or the <em>complex</em> #C(1.0 0.0).</p>
<p><strong>short-float, single-float, double-float, long-float</strong> <em>Type</em></p>
<p><strong>Supertypes:</strong></p>
<p><strong>short-float</strong>: <strong>short-float</strong>, <strong>float</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>single-float</strong>: <strong>single-float</strong>, <strong>float</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>double-float</strong>: <strong>double-float</strong>, <strong>float</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>long-float</strong>: <strong>long-float</strong>, <strong>float</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>For the four defined <em>subtypes</em> of <em>type</em> <strong>float</strong>, it is true that intermediate between the <em>type</em> <strong>short-float</strong> and the <em>type</em> <strong>long-float</strong> are the <em>type</em> <strong>single-float</strong> and the <em>type</em> <strong>double-float</strong>. The precise definition of these categories is <em>implementation-defined</em>. The precision (measured in “bits”, computed as <em>p</em> log&lt;sub&gt;2&lt;/sub&gt;<em>b</em>) and the exponent size (also measured in “bits,” computed as log&lt;sub&gt;2&lt;/sub&gt;(<em>n</em> + 1), where <em>n</em> is the maximum exponent value) is recommended to be at least as great as the values in Figure 12–12. Each of the defined <em>subtypes</em> of <em>type</em> <strong>float</strong> might or might not have a minus zero.</p>
<table><thead><tr><th style="text-align:left"><strong>Format Minimum Precision Minimum Exponent Size</strong></th></tr></thead><tbody><tr><td style="text-align:left">&lt;p&gt;Short 13 bits 5 bits &lt;/p&gt;&lt;p&gt;Single 24 bits 8 bits &lt;/p&gt;&lt;p&gt;Double 50 bits 8 bits &lt;/p&gt;&lt;p&gt;Long 50 bits 8 bits&lt;/p&gt;</td></tr></tbody></table>
<p><strong>Figure 12–12. Recommended Minimum Floating-Point Precision and Exponent Size</strong></p>
<p>There can be fewer than four internal representations for <em>floats</em>. If there are fewer distinct representations, the following rules apply:</p>
<p>– If there is only one, it is the <em>type</em> <strong>single-float</strong>. In this representation, an <em>object</em> is simultaneously of <em>types</em> <strong>single-float</strong>, <strong>double-float</strong>, <strong>short-float</strong>, and <strong>long-float</strong>.</p>
<p>– Two internal representations can be arranged in either of the following ways:</p>
<p><em>•</em> Two <em>types</em> are provided: <strong>single-float</strong> and <strong>short-float</strong>. An <em>object</em> is simultaneously of <em>types</em> <strong>single-float</strong>, <strong>double-float</strong>, and <strong>long-float</strong>.</p>
<p><em>•</em> Two <em>types</em> are provided: <strong>single-float</strong> and <strong>double-float</strong>. An <em>object</em> is simultaneously of <em>types</em> <strong>single-float</strong> and <strong>short-float</strong>, or <strong>double-float</strong> and <strong>long-float</strong>.</p>
<p>– Three internal representations can be arranged in either of the following ways:</p>
<p><em>•</em> Three <em>types</em> are provided: <strong>short-float</strong>, <strong>single-float</strong>, and <strong>double-float</strong>. An <em>object</em> can simultaneously be of <em>type</em> <strong>double-float</strong> and <strong>long-float</strong>.</p>
<p><em>•</em> Three <em>types</em> are provided: <strong>single-float</strong>, <strong>double-float</strong>, and <strong>long-float</strong>. An <em>object</em> can simultaneously be of <em>types</em> <strong>single-float</strong> and <strong>short-float</strong>.</p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(short-float [<em>short-lower-limit</em> [<em>short-upper-limit</em>]])</p>
<p>(single-float [<em>single-lower-limit</em> [<em>single-upper-limit</em>]])</p>
<p>(double-float [<em>double-lower-limit</em> [<em>double-upper-limit</em>]])</p>
<p>(long-float [<em>long-lower-limit</em> [<em>long-upper-limit</em>]])</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>short-lower-limit</em>, <em>short-upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>short-float</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><em>single-lower-limit</em>, <em>single-upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>single-float</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><em>double-lower-limit</em>, <em>double-upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>double-float</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><em>long-lower-limit</em>, <em>long-upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>long-float</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>Each of these denotes the set of <em>floats</em> of the indicated <em>type</em> that are on the interval specified by the <em>interval designators</em>.</p>
<p>Numbers <strong>12–15</strong></p>
<p><strong>rational</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The canonical representation of a <em>rational</em> is as an <em>integer</em> if its value is integral, and otherwise as a <em>ratio</em>.</p>
<p>The <em>types</em> <strong>integer</strong> and <strong>ratio</strong> are <em>disjoint subtypes</em> of <em>type</em> <strong>rational</strong>.</p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(rational [<em>lower-limit</em> [<em>upper-limit</em>]])</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>lower-limit</em>, <em>upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>rational</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>This denotes the <em>rationals</em> on the interval described by <em>lower-limit</em> and <em>upper-limit</em>.</p>
<p><strong>ratio</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>ratio</strong>, <strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>A <em>ratio</em> is a <em>number</em> representing the mathematical ratio of two non-zero integers, the numerator and denominator, whose greatest common divisor is one, and of which the denominator is positive and greater than one.</p>
<p><strong>See Also:</strong></p>
<p>Figure 2–9, Section 2.3.2 (Constructing Numbers from Tokens), Section 22.1.3.1.2 (Printing Ratios)</p>
<p><strong>integer</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>integer</strong>, <strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>An <em>integer</em> is a mathematical integer. There is no limit on the magnitude of an <em>integer</em> . The <em>types</em> <strong>fixnum</strong> and <strong>bignum</strong> form an <em>exhaustive partition</em> of <em>type</em> <strong>integer</strong>.</p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(integer [<em>lower-limit</em> [<em>upper-limit</em>]])</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>lower-limit</em>, <em>upper-limit</em>—<em>interval designators</em> for <em>type</em> <strong>integer</strong>. The defaults for each of <em>lower-limit</em> and <em>upper-limit</em> is the <em>symbol</em> <strong>*</strong>.</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>This denotes the <em>integers</em> on the interval described by <em>lower-limit</em> and <em>upper-limit</em>.</p>
<p><strong>See Also:</strong></p>
<p>Figure 2–9, Section 2.3.2 (Constructing Numbers from Tokens), Section 22.1.3.1.1 (Printing Integers)</p>
<p><strong>Notes:</strong></p>
<p>The <em>type</em> (integer <em>lower upper</em>), where <em>lower</em> and <em>upper</em> are <strong>most-negative-fixnum</strong> and <strong>most-positive-fixnum</strong>, respectively, is also called <strong>fixnum</strong>.</p>
<p>The <em>type</em> (integer 0 1) is also called <strong>bit</strong>. The <em>type</em> (integer 0 *) is also called <strong>unsigned-byte</strong>. <strong>signed-byte</strong> <em>Type</em></p>
<p><strong>Supertypes:</strong></p>
<p><strong>signed-byte</strong>, <strong>integer</strong>, <strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The atomic <em>type specifier</em> <strong>signed-byte</strong> denotes the same type as is denoted by the <em>type specifier</em> <strong>integer</strong>; however, the list forms of these two <em>type specifiers</em> have different semantics.</p>
<p>Numbers <strong>12–17</strong></p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(signed-byte [<em>s |</em> <strong>*</strong>])</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>s</em>—a positive <em>integer</em> .</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>This denotes the set of &lt;i&gt;integers&lt;/i&gt; that can be represented in two’s-complement form in a &lt;i&gt;byte&lt;/i&gt; of &lt;i&gt;s&lt;/i&gt; bits. This is equivalent to (integer &lt;i&gt;−&lt;/i&gt;2&lt;sup&gt;&lt;i&gt;s−&lt;/i&gt;1&lt;/sup&gt; 2&lt;sup&gt;&lt;i&gt;s−&lt;/i&gt;1&lt;/sup&gt; &lt;i&gt;−&lt;/i&gt; 1). The type &lt;b&gt;signed-byte&lt;/b&gt; or the type (signed-byte *) is the same as the &lt;i&gt;type&lt;/i&gt; &lt;b&gt;integer&lt;/b&gt;.</p>
<p><strong>unsigned-byte</strong> <em>Type</em></p>
<p><strong>Supertypes:</strong></p>
<p><strong>unsigned-byte</strong>, <strong>signed-byte</strong>, <strong>integer</strong>, <strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The atomic <em>type specifier</em> <strong>unsigned-byte</strong> denotes the same type as is denoted by the <em>type specifier</em> (integer 0 *).</p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(unsigned-byte [<em>s |</em> <strong>*</strong>])</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>s</em>—a positive <em>integer</em> .</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>This denotes the set of non-negative &lt;i&gt;integers&lt;/i&gt; that can be represented in a byte of size &lt;i&gt;s&lt;/i&gt; (bits). This is equivalent to (mod &lt;i&gt;m&lt;/i&gt;) for &lt;i&gt;m&lt;/i&gt; = 2&lt;i&gt;&lt;sup&gt;s&lt;/sup&gt;&lt;/i&gt;, or to (integer 0 &lt;i&gt;n&lt;/i&gt;) for &lt;i&gt;n&lt;/i&gt; = 2&lt;i&gt;&lt;sup&gt;s&lt;/sup&gt; −&lt;/i&gt;1. The &lt;i&gt;type&lt;/i&gt; &lt;b&gt;unsigned-byte&lt;/b&gt; or the type (unsigned-byte *) is the same as the type (integer 0 *), the set of non-negative &lt;i&gt;integers&lt;/i&gt;.</p>
<p><strong>Notes:</strong></p>
<p>The <em>type</em> (unsigned-byte 1) is also called <strong>bit</strong>.</p>
<p><strong>mod</strong> <em>Type Specifier</em></p>
<p><strong>Compound Type Specifier Kind:</strong></p>
<p>Abbreviating.</p>
<p><strong>Compound Type Specifier Syntax:</strong></p>
<p>(mod <em>n</em>)</p>
<p><strong>Compound Type Specifier Arguments:</strong></p>
<p><em>n</em>—a positive <em>integer</em> .</p>
<p><strong>Compound Type Specifier Description:</strong></p>
<p>This denotes the set of non-negative <em>integers</em> less than <em>n</em>. This is equivalent to (integer 0 (<em>n</em>)) or to (integer 0 <em>m</em>), where <em>m</em> = <em>n −</em> 1.</p>
<p>The argument is required, and cannot be <strong>*</strong>.</p>
<p>The symbol <strong>mod</strong> is not valid as a <em>type specifier</em> .</p>
<p><strong>bit</strong> <em>Type</em></p>
<p><strong>Supertypes:</strong></p>
<p><strong>bit</strong>, <strong>unsigned-byte</strong>, <strong>signed-byte</strong>, <strong>integer</strong>, <strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The <em>type</em> <strong>bit</strong> is equivalent to the <em>type</em> (integer 0 1) and (unsigned-byte 1).</p>
<p><strong>fixnum</strong> <em>Type</em></p>
<p><strong>Supertypes:</strong></p>
<p><strong>fixnum</strong>, <strong>integer</strong>, <strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>A <em>fixnum</em> is an <em>integer</em> whose value is between <strong>most-negative-fixnum</strong> and <strong>most-positive-fixnum</strong> inclusive. Exactly which <em>integers</em> are <em>fixnums</em> is <em>implementation-defined</em>. The <em>type</em> <strong>fixnum</strong> is required to be a supertype of (signed-byte 16).</p>
<p>Numbers <strong>12–19</strong></p>
<p><strong>bignum</strong> <em>Type</em></p>
<p><strong>Supertypes:</strong></p>
<p><strong>bignum</strong>, <strong>integer</strong>, <strong>rational</strong>, <strong>real</strong>, <strong>number</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>The <em>type</em> <strong>bignum</strong> is defined to be exactly (and integer (not fixnum)).</p>
<p><strong>=, /=,</strong> <em>&lt;</em><strong>,</strong> <em>&gt;</em><strong>,</strong> <em>&lt;</em><strong>=,</strong> <em>&gt;</em><strong>=</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>=</strong> &amp;rest <em>numbers</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ generalized-boolean</em></p>
<p><strong>/=</strong> &amp;rest <em>numbers</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ generalized-boolean</em></p>
<p>&lt; &amp;rest <em>numbers</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ generalized-boolean</em></p>
<p>\&gt; &amp;rest <em>numbers</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ generalized-boolean</em></p>
<p>&lt;<strong>=</strong> &amp;rest <em>numbers</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ generalized-boolean</em></p>
<p>\&gt;<strong>=</strong> &amp;rest <em>numbers</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—for &lt;, &gt;, &lt;<strong>=</strong>, &gt;<strong>=</strong>: a <em>real</em>; for <strong>=</strong>, <strong>/=</strong>: a <em>number</em> .</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>=</strong>, <strong>/=</strong>, &lt;, &gt;, &lt;<strong>=</strong>, and &gt;<strong>=</strong> perform arithmetic comparisons on their arguments as follows: <strong>=</strong></p>
<p>The value of <strong>=</strong> is <em>true</em> if all <em>numbers</em> are the same in value; otherwise it is <em>false</em>. Two <em>complexes</em> are considered equal by <strong>=</strong> if their real and imaginary parts are equal according to <strong>=</strong>.</p>
<p><strong>/=</strong></p>
<p>The value of <strong>/=</strong> is <em>true</em> if no two <em>numbers</em> are the same in value; otherwise it is <em>false</em>.</p>
<p><strong>=, /=,</strong> <em>&lt;</em><strong>,</strong> <em>&gt;</em><strong>,</strong> <em>&lt;</em><strong>=,</strong> <em>&gt;</em><strong>=</strong></p>
<p>&lt;</p>
<p>The value of &lt; is <em>true</em> if the <em>numbers</em> are in monotonically increasing order; otherwise it is <em>false</em>.</p>
<p>\&gt;</p>
<p>The value of &gt; is <em>true</em> if the <em>numbers</em> are in monotonically decreasing order; otherwise it is <em>false</em>.</p>
<p>&lt;<strong>=</strong></p>
<p>The value of &lt;<strong>=</strong> is <em>true</em> if the <em>numbers</em> are in monotonically nondecreasing order; otherwise it is <em>false</em>.</p>
<p>\&gt;<strong>=</strong></p>
<p>The value of &gt;<strong>=</strong> is <em>true</em> if the <em>numbers</em> are in monotonically nonincreasing order; otherwise it is <em>false</em>.</p>
<p><strong>=</strong>, <strong>/=</strong>, &lt;, &gt;, &lt;<strong>=</strong>, and &gt;<strong>=</strong> perform necessary type conversions.</p>
<p><strong>Examples:</strong></p>
<p>The uses of these functions are illustrated in Figure 12–13.</p>
<p>Numbers <strong>12–21</strong></p>
<table><thead><tr><th style="text-align:left">&lt;p&gt;(= 3 3) is <em>true</em>. (/= 3 3) is <em>false</em>. &lt;/p&gt;&lt;p&gt;(= 3 5) is <em>false</em>. (/= 3 5) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(= 3 3 3 3) is <em>true</em>. (/= 3 3 3 3) is <em>false</em>. &lt;/p&gt;&lt;p&gt;(= 3 3 5 3) is <em>false</em>. (/= 3 3 5 3) is <em>false</em>. &lt;/p&gt;&lt;p&gt;(= 3 6 5 2) is <em>false</em>. (/= 3 6 5 2) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(= 3 2 3) is <em>false</em>. (/= 3 2 3) is <em>false</em>. &lt;/p&gt;&lt;p&gt;(&lt; 3 5) is <em>true</em>. (&lt;= 3 5) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&lt; 3 -5) is <em>false</em>. (&lt;= 3 -5) is <em>false</em>. &lt;/p&gt;&lt;p&gt;(&lt; 3 3) is <em>false</em>. (&lt;= 3 3) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&lt; 0 3 4 6 7) is <em>true</em>. (&lt;= 0 3 4 6 7) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&lt; 0 3 4 4 6) is <em>false</em>. (&lt;= 0 3 4 4 6) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&gt; 4 3) is <em>true</em>. (&gt;= 4 3) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&gt; 4 3 2 1 0) is <em>true</em>. (&gt;= 4 3 2 1 0) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&gt; 4 3 3 2 0) is <em>false</em>. (&gt;= 4 3 3 2 0) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&gt; 4 3 1 2 0) is <em>false</em>. (&gt;= 4 3 1 2 0) is <em>false</em>. &lt;/p&gt;&lt;p&gt;(= 3) is <em>true</em>. (/= 3) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&lt; 3) is <em>true</em>. (&lt;= 3) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(= 3.0 #c(3.0 0.0)) is <em>true</em>. (/= 3.0 #c(3.0 1.0)) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(= 3 3.0) is <em>true</em>. (= 3.0s0 3.0d0) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(= 0.0 -0.0) is <em>true</em>. (= 5/2 2.5) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&gt; 0.0 -0.0) is <em>false</em>. (= 0 -0.0) is <em>true</em>. &lt;/p&gt;&lt;p&gt;(&lt;= 0 x 9) is <em>true</em> if x is between 0 and 9, inclusive &lt;/p&gt;&lt;p&gt;(&lt; 0.0 x 1.0) is <em>true</em> if x is between 0.0 and 1.0, exclusive &lt;/p&gt;&lt;p&gt;(&lt; -1 j (length v)) is <em>true</em> if j is a <em>valid array index</em> for a <em>vector</em> v&lt;/p&gt;</th></tr></thead></table>
<p><strong>Figure 12–13. Uses of /=, =,</strong> &lt;<strong>,</strong> &gt;<strong>,</strong> &lt;<strong>=, and</strong> &gt;<strong>=</strong></p>
<p><strong>Exceptional Situations:</strong></p>
<p>Might signal <strong>type-error</strong> if some <em>argument</em> is not a <em>real</em>. Might signal <strong>arithmetic-error</strong> if otherwise unable to fulfill its contract.</p>
<p><strong>Notes:</strong></p>
<p><strong>=</strong> differs from <strong>eql</strong> in that (= 0.0 -0.0) is always true, because <strong>=</strong> compares the mathematical values of its operands, whereas <strong>eql</strong> compares the representational values, so to speak.</p>
<p><strong>max, min</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>max</strong> &amp;rest <em>reals</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ max-real</em></p>
<p><strong>max, min</strong></p>
<p><strong>min</strong> &amp;rest <em>reals</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ min-real</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>real</em>—a <em>real</em>.</p>
<p><em>max-real</em>, <em>min-real</em>—a <em>real</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>max</strong> returns the <em>real</em> that is greatest (closest to positive infinity). <strong>min</strong> returns the <em>real</em> that is least (closest to negative infinity).</p>
<p>For <strong>max</strong>, the implementation has the choice of returning the largest argument as is or applying the rules of floating-point <em>contagion</em>, taking all the arguments into consideration for <em>contagion</em> purposes. Also, if one or more of the arguments are <strong>=</strong>, then any one of them may be chosen as the value to return. For example, if the <em>reals</em> are a mixture of <em>rationals</em> and <em>floats</em>, and the largest argument is a <em>rational</em>, then the implementation is free to produce either that <em>rational</em> or its <em>float</em> approximation; if the largest argument is a <em>float</em> of a smaller format than the largest format of any <em>float</em> argument, then the implementation is free to return the argument in its given format or expanded to the larger format. Similar remarks apply to <strong>min</strong> (replacing “largest argument” by “smallest argument”).</p>
<p><strong>Examples:</strong></p>
<p>(max 3) <em>→</em> 3</p>
<p>(min 3) <em>→</em> 3</p>
<p>(max 6 12) <em>→</em> 12</p>
<p>(min 6 12) <em>→</em> 6</p>
<p>(max -6 -12) <em>→</em> -6</p>
<p>(min -6 -12) <em>→</em> -12</p>
<p>(max 1 3 2 -7) <em>→</em> 3</p>
<p>(min 1 3 2 -7) <em>→</em> -7</p>
<p>(max -2 3 0 7) <em>→</em> 7</p>
<p>(min -2 3 0 7) <em>→</em> -2</p>
<p>(max 5.0 2) <em>→</em> 5.0</p>
<p>(min 5.0 2)</p>
<p><em>→</em> 2</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 2.0</p>
<p>(max 3.0 7 1)</p>
<p><em>→</em> 7</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 7.0</p>
<p>(min 3.0 7 1)</p>
<p><em>→</em> 1</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 1.0</p>
<p>(max 1.0s0 7.0d0) <em>→</em> 7.0d0</p>
<p>Numbers <strong>12–23</strong></p>
<p>(min 1.0s0 7.0d0)</p>
<p><em>→</em> 1.0s0</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 1.0d0</p>
<p>(max 3 1 1.0s0 1.0d0)</p>
<p><em>→</em> 3</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 3.0d0</p>
<p>(min 3 1 1.0s0 1.0d0)</p>
<p><em>→</em> 1</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 1.0s0</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 1.0d0</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if any <em>number</em> is not a <em>real</em>.</p>
<p><strong>minusp, plusp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>minusp</strong> <em>real → generalized-boolean</em></p>
<p><strong>plusp</strong> <em>real → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>real</em>—a <em>real</em>.</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>minusp</strong> returns <em>true</em> if <em>real</em> is less than zero; otherwise, returns <em>false</em>.</p>
<p><strong>plusp</strong> returns <em>true</em> if <em>real</em> is greater than zero; otherwise, returns <em>false</em>.</p>
<p>Regardless of whether an <em>implementation</em> provides distinct representations for positive and negative <em>float</em> zeros, (minusp -0.0) always returns <em>false</em>.</p>
<p><strong>Examples:</strong></p>
<p>(minusp -1) <em>→ true</em></p>
<p>(plusp 0) <em>→ false</em></p>
<p>(plusp least-positive-single-float) <em>→ true</em></p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>real</em> is not a <em>real</em>.</p>
<p><strong>zerop</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>zerop</strong> <em>number → generalized-boolean</em></p>
<p><strong>Pronunciation:</strong></p>
<p>[ <strong>z—e( )r—o( )p—e</strong> ]</p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if <em>number</em> is zero (<em>integer</em> , <em>float</em>, or <em>complex</em> ); otherwise, returns <em>false</em>.</p>
<p>Regardless of whether an <em>implementation</em> provides distinct representations for positive and negative floating-point zeros, (zerop -0.0) always returns <em>true</em>.</p>
<p><strong>Examples:</strong></p>
<p>(zerop 0) <em>→ true</em></p>
<p>(zerop 1) <em>→ false</em></p>
<p>(zerop -0.0) <em>→ true</em></p>
<p>(zerop 0/100) <em>→ true</em></p>
<p>(zerop #c(0 0.0)) <em>→ true</em></p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>number</em> is not a <em>number</em> .</p>
<p><strong>Notes:</strong></p>
<p>(zerop <em>number</em>) <em>≡</em> (= <em>number</em> 0)</p>
<p><strong>floor, ffloor, ceiling, fceiling, truncate, ftruncate, round, fround</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>floor</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p><strong>ffloor</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p><strong>ceiling</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p>Numbers <strong>12–25</strong></p>
<p><strong>floor, ffloor, ceiling, fceiling, truncate, ftruncate,</strong> <em>. . .</em></p>
<p><strong>fceiling</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p><strong>truncate</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p><strong>ftruncate</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p><strong>round</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p><strong>fround</strong> <em>number</em> &amp;optional <em>divisor → quotient, remainder</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>real</em>.</p>
<p><em>divisor</em>—a non-zero <em>real</em>. The default is the <em>integer</em> 1.</p>
<p><em>quotient</em>—for <strong>floor</strong>, <strong>ceiling</strong>, <strong>truncate</strong>, and <strong>round</strong>: an <em>integer</em> ; for <strong>ffloor</strong>, <strong>fceiling</strong>, <strong>ftruncate</strong>, and <strong>fround</strong>: a <em>float</em>.</p>
<p><em>remainder</em>—a <em>real</em>.</p>
<p><strong>Description:</strong></p>
<p>These functions divide <em>number</em> by <em>divisor</em>, returning a <em>quotient</em> and <em>remainder</em>, such that <em>quotient·divisor</em>+<em>remainder</em>=<em>number</em></p>
<p>The <em>quotient</em> always represents a mathematical integer. When more than one mathematical integer might be possible (<em>i.e.</em>, when the remainder is not zero), the kind of rounding or truncation depends on the <em>operator</em> :</p>
<p><strong>floor</strong>, <strong>ffloor</strong></p>
<p><strong>floor</strong> and <strong>ffloor</strong> produce a <em>quotient</em> that has been truncated toward negative infinity; that is, the <em>quotient</em> represents the largest mathematical integer that is not larger than the mathematical quotient.</p>
<p><strong>ceiling</strong>, <strong>fceiling</strong></p>
<p><strong>ceiling</strong> and <strong>fceiling</strong> produce a <em>quotient</em> that has been truncated toward positive infinity; that is, the <em>quotient</em> represents the smallest mathematical integer that is not smaller than the mathematical result.</p>
<p><strong>truncate</strong>, <strong>ftruncate</strong></p>
<p><strong>truncate</strong> and <strong>ftruncate</strong> produce a <em>quotient</em> that has been truncated towards zero; that is, the <em>quotient</em> represents the mathematical integer of the same sign as the mathematical quotient, and that has the greatest integral magnitude not greater than that of the mathematical quotient.</p>
<p><strong>round</strong>, <strong>fround</strong></p>
<p><strong>round</strong> and <strong>fround</strong> produce a <em>quotient</em> that has been rounded to the nearest mathematical integer; if the mathematical quotient is exactly halfway between two integers, (that is, it</p>
<p><strong>floor, ffloor, ceiling, fceiling, truncate, ftruncate,</strong> <em>. . .</em></p>
<p>has the form <em>integer</em>+&lt;sup&gt;1&lt;/sup&gt;&lt;sub&gt;2&lt;/sub&gt;), then the <em>quotient</em> has been rounded to the even (divisible by two) integer.</p>
<p>All of these functions perform type conversion operations on <em>numbers</em>.</p>
<p>The <em>remainder</em> is an <em>integer</em> if both x and y are <em>integers</em>, is a <em>rational</em> if both x and y are <em>rationals</em>, and is a <em>float</em> if either x or y is a <em>float</em>.</p>
<p><strong>ffloor</strong>, <strong>fceiling</strong>, <strong>ftruncate</strong>, and <strong>fround</strong> handle arguments of different <em>types</em> in the following way: If <em>number</em> is a <em>float</em>, and <em>divisor</em> is not a <em>float</em> of longer format, then the first result is a <em>float</em> of the same <em>type</em> as <em>number</em>. Otherwise, the first result is of the <em>type</em> determined by <em>contagion</em> rules; see Section 12.1.1.2 (Contagion in Numeric Operations).</p>
<p><strong>Examples:</strong></p>
<p>(floor 3/2) <em>→</em> 1, 1/2</p>
<p>(ceiling 3 2) <em>→</em> 2, -1</p>
<p>(ffloor 3 2) <em>→</em> 1.0, 1</p>
<p>(ffloor -4.7) <em>→</em> -5.0, 0.3</p>
<p>(ffloor 3.5d0) <em>→</em> 3.0d0, 0.5d0</p>
<p>(fceiling 3/2) <em>→</em> 2.0, -1/2</p>
<p>(truncate 1) <em>→</em> 1, 0</p>
<p>(truncate .5) <em>→</em> 0, 0.5</p>
<p>(round .5) <em>→</em> 0, 0.5</p>
<p>(ftruncate -7 2) <em>→</em> -3.0, -1</p>
<p>(fround -7 2) <em>→</em> -4.0, 1</p>
<p>(dolist (n ’(2.6 2.5 2.4 0.7 0.3 -0.3 -0.7 -2.4 -2.5 -2.6))</p>
<p>(format t &quot;~&amp;~4,1@F ~2,’ D ~2,’ D ~2,’ D ~2,’ D&quot;</p>
<p>n (floor n) (ceiling n) (truncate n) (round n)))</p>
<p>▷ +2.6 2 3 2 3</p>
<p>▷ +2.5 2 3 2 2</p>
<p>▷ +2.4 2 3 2 2</p>
<p>▷ +0.7 0 1 0 1</p>
<p>▷ +0.3 0 1 0 0</p>
<p>▷ -0.3 -1 0 0 0</p>
<p>▷ -0.7 -1 0 0 -1</p>
<p>▷ -2.4 -3 -2 -2 -2</p>
<p>▷ -2.5 -3 -2 -2 -2</p>
<p>▷ -2.6 -3 -2 -2 -3</p>
<p><em>→</em> NIL</p>
<p><strong>Notes:</strong></p>
<p>When only <em>number</em> is given, the two results are exact; the mathematical sum of the two results is always equal to the mathematical value of <em>number</em>.</p>
<p>(<em>function number divisor</em>) and (<em>function</em> (/ <em>number divisor</em>)) (where <em>function</em> is any of one of <strong>floor</strong>, <strong>ceiling</strong>, <strong>ffloor</strong>, <strong>fceiling</strong>, <strong>truncate</strong>, <strong>round</strong>, <strong>ftruncate</strong>, and <strong>fround</strong>) return the same first value,</p>
<p>Numbers <strong>12–27</strong></p>
<p>but they return different remainders as the second value. For example:</p>
<p>(floor 5 2) <em>→</em> 2, 1</p>
<p>(floor (/ 5 2)) <em>→</em> 2, 1/2</p>
<p>If an effect is desired that is similar to <strong>round</strong>, but that always rounds up or down (rather than toward the nearest even integer) if the mathematical quotient is exactly halfway between two integers, the programmer should consider a construction such as (floor (+ x 1/2)) or (ceiling (- x 1/2)).</p>
<p><strong>sin, cos, tan</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>sin</strong> <em>radians → number</em></p>
<p><strong>cos</strong> <em>radians → number</em></p>
<p><strong>tan</strong> <em>radians → number</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>radians</em>—a <em>number</em> given in radians.</p>
<p><em>number</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>sin</strong>, <strong>cos</strong>, and <strong>tan</strong> return the sine, cosine, and tangent, respectively, of <em>radians</em>.</p>
<p><strong>Examples:</strong></p>
<p>(sin 0) <em>→</em> 0.0</p>
<p>(cos 0.7853982) <em>→</em> 0.707107</p>
<p>(tan #c(0 1)) <em>→</em> #C(0.0 0.761594)</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>radians</em> is not a <em>number</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>asin</strong>, <strong>acos</strong>, <strong>atan</strong>, Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>asin, acos, atan</strong></p>
<p><strong>asin, acos, atan</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>asin</strong> <em>number → radians</em></p>
<p><strong>acos</strong> <em>number → radians</em></p>
<p><strong>atan</strong> <em>number1</em> &amp;optional <em>number2 → radians</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>number1</em>—a <em>number</em> if <em>number2</em> is not supplied, or a <em>real</em> if <em>number2</em> is supplied.</p>
<p><em>number2</em>—a <em>real</em>.</p>
<p><em>radians</em>—a <em>number</em> (of radians).</p>
<p><strong>Description:</strong></p>
<p><strong>asin</strong>, <strong>acos</strong>, and <strong>atan</strong> compute the arc sine, arc cosine, and arc tangent respectively.</p>
<p>The arc sine, arc cosine, and arc tangent (with only <em>number1</em> supplied) functions can be defined mathematically for <em>number</em> or <em>number1</em> specified as <em>x</em> as in Figure 12–14.</p>
<table><thead><tr><th style="text-align:left">&lt;b&gt;&lt;sup&gt;Function Definition&lt;/sup&gt;&lt;/b&gt;&lt;i&gt;√&lt;/i&gt;</th></tr></thead><tbody><tr><td style="text-align:left">&lt;p&gt;Arc sine <em>−i</em> log <em>ix</em> +1 <em>− x</em>&lt;sup&gt;2&lt;/sup&gt; &lt;/p&gt;&lt;p&gt;Arc cosine (*π/*2) <em>−</em> arcsin <em>x</em> &lt;/p&gt;&lt;p&gt;&lt;sub&gt;Arc tangent &lt;i&gt;−i&lt;/i&gt; log (1 + &lt;i&gt;ix&lt;/i&gt;)&lt;/sub&gt;&lt;sup&gt;p&lt;/sup&gt;1&lt;i&gt;/&lt;/i&gt;(1 + &lt;i&gt;x&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;sub&gt;)&lt;/sub&gt; &lt;/p&gt;</td></tr></tbody></table>
<p><strong>Figure 12–14. Mathematical definition of arc sine, arc cosine, and arc tangent</strong></p>
<p>These formulae are mathematically correct, assuming completely accurate computation. They are not necessarily the simplest ones for real-valued computations.</p>
<p>If both <em>number1</em> and <em>number2</em> are supplied for <strong>atan</strong>, the result is the arc tangent of <em>number1</em>/<em>number2</em>. The value of <strong>atan</strong> is always between <em>−π</em> (exclusive) and <em>π</em> (inclusive) when minus zero is not supported. The range of the two-argument arc tangent when minus zero is supported includes <em>−π</em>.</p>
<p>For a <em>real number1</em>, the result is a <em>real</em> and lies between *−π/*2 and *π/*2 (both exclusive). <em>number1</em> can be a <em>complex</em> if <em>number2</em> is not supplied. If both are supplied, <em>number2</em> can be zero provided <em>number1</em> is not zero.</p>
<p>The following definition for arc sine determines the range and branch cuts:</p>
<p>Numbers <strong>12–29</strong></p>
<p><strong>asin, acos, atan</strong></p>
<p>arcsin <em>z</em> = <em>−i</em> log</p>
<p>&lt;sub&gt;&lt;i&gt;iz&lt;/i&gt; +&lt;/sub&gt;&lt;sup&gt;p&lt;/sup&gt;1 &lt;i&gt;− z&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;</p>
<p>The branch cut for the arc sine function is in two pieces: one along the negative real axis to the left of <em>−</em>1 (inclusive), continuous with quadrant II, and one along the positive real axis to the right of 1 (inclusive), continuous with quadrant IV. The range is that strip of the complex plane containing numbers whose real part is between *−π/*2 and *π/*2. A number with real part equal to *−π/*2 is in the range if and only if its imaginary part is non-negative; a number with real part equal to *π/*2 is in the range if and only if its imaginary part is non-positive.</p>
<p>The following definition for arc cosine determines the range and branch cuts: &lt;sub&gt;arccos &lt;i&gt;z&lt;/i&gt; =&lt;/sub&gt;&lt;i&gt;&lt;sup&gt;π&lt;/sup&gt;&lt;/i&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;i&gt;−&lt;/i&gt; arcsin &lt;i&gt;z&lt;/i&gt;</p>
<p>or, which are equivalent,</p>
<p>arccos <em>z</em> = <em>−i</em> log</p>
<p>&lt;sub&gt;&lt;i&gt;z&lt;/i&gt; + &lt;i&gt;i&lt;/i&gt;&lt;/sub&gt;&lt;sup&gt;p&lt;/sup&gt;1 &lt;i&gt;− z&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;</p>
<p>&lt;sub&gt;arccos &lt;i&gt;z&lt;/i&gt; =2 log&lt;/sub&gt; &lt;sup&gt;p&lt;/sup&gt;&lt;sub&gt;(1 + &lt;i&gt;z&lt;/i&gt;)&lt;i&gt;/&lt;/i&gt;2 + &lt;i&gt;i&lt;/i&gt;&lt;/sub&gt;&lt;sup&gt;p&lt;/sup&gt;&lt;sub&gt;(1 &lt;i&gt;− z&lt;/i&gt;)&lt;i&gt;/&lt;/i&gt;2&lt;/sub&gt;</p>
<p><em>i</em></p>
<p>The branch cut for the arc cosine function is in two pieces: one along the negative real axis to the left of <em>−</em>1 (inclusive), continuous with quadrant II, and one along the positive real axis to the right of 1 (inclusive), continuous with quadrant IV. This is the same branch cut as for arc sine. The range is that strip of the complex plane containing numbers whose real part is between 0 and <em>π</em>. A number with real part equal to 0 is in the range if and only if its imaginary part is non-negative; a number with real part equal to <em>π</em> is in the range if and only if its imaginary part is non-positive.</p>
<p>The following definition for (one-argument) arc tangent determines the range and branch cuts:</p>
<p>arctan &lt;i&gt;z&lt;/i&gt; =&lt;sup&gt;log (1 + &lt;i&gt;iz&lt;/i&gt;) &lt;i&gt;−&lt;/i&gt; log (1 &lt;i&gt;− iz&lt;/i&gt;)&lt;/sup&gt;</p>
<p>2<em>i</em></p>
<p>Beware of simplifying this formula; “obvious” simplifications are likely to alter the branch cuts or the values on the branch cuts incorrectly. The branch cut for the arc tangent function is in two pieces: one along the positive imaginary axis above <em>i</em> (exclusive), continuous with quadrant</p>
<p>II, and one along the negative imaginary axis below <em>−i</em> (exclusive), continuous with quadrant IV. The points <em>i</em> and <em>−i</em> are excluded from the domain. The range is that strip of the complex plane containing numbers whose real part is between *−π/*2 and *π/*2. A number with real part equal to *−π/*2 is in the range if and only if its imaginary part is strictly positive; a number with real part equal to *π/*2 is in the range if and only if its imaginary part is strictly negative. Thus the range of</p>
<p>arc tangent is identical to that of arc sine with the points *−π/*2 and *π/*2 excluded.</p>
<p><strong>asin, acos, atan</strong></p>
<p>For <strong>atan</strong>, the signs of <em>number1</em> (indicated as <em>x</em>) and <em>number2</em> (indicated as <em>y</em>) are used to derive quadrant information. Figure 12–15 details various special cases. The asterisk (*) indicates that the entry in the figure applies to implementations that support minus zero.</p>
<table><thead><tr><th style="text-align:left"><em>y</em> <strong>Condition</strong> <em>x</em> <strong>Condition Cartesian locus Range of result</strong></th></tr></thead><tbody><tr><td style="text-align:left">&lt;p&gt;<em>y</em> = 0 <em>x</em> &gt; 0 Positive x-axis 0 &lt;/p&gt;&lt;p&gt;* <em>y</em> = +0 <em>x</em> &gt; 0 Positive x-axis +0 &lt;/p&gt;&lt;p&gt;* <em>y</em> = <em>−</em>0 <em>x</em> &gt; 0 Positive x-axis <em>−</em>0 &lt;/p&gt;&lt;p&gt;<em>y</em> &gt; 0 <em>x</em> &gt; 0 Quadrant I 0 &lt; result &lt; *π/*2 <em>y</em> &gt; 0 <em>x</em> = 0 Positive y-axis *π/*2 &lt;/p&gt;&lt;p&gt;<em>y</em> &gt; 0 <em>x</em> &lt; 0 Quadrant II *π/*2 &lt; result &lt; <em>π y</em> = 0 <em>x</em> &lt; 0 Negative x-axis <em>π</em> &lt;/p&gt;&lt;p&gt;* <em>y</em> = +0 <em>x</em> &lt; 0 Negative x-axis +<em>π</em> &lt;/p&gt;&lt;p&gt;* <em>y</em> = <em>−</em>0 <em>x</em> &lt; 0 Negative x-axis <em>−π</em> &lt;/p&gt;&lt;p&gt;<em>y</em> &lt; 0 <em>x</em> &lt; 0 Quadrant III <em>−π</em> &lt; result &lt; *−π/*2 <em>y</em> &lt; 0 <em>x</em> = 0 Negative y-axis *−π/*2 &lt;/p&gt;&lt;p&gt;<em>y</em> &lt; 0 <em>x</em> &gt; 0 Quadrant IV *−π/*2 &lt; result &lt; 0 <em>y</em> = 0 <em>x</em> = 0 Origin undefined consequences * <em>y</em> = +0 <em>x</em> = +0 Origin +0 &lt;/p&gt;&lt;p&gt;* <em>y</em> = <em>−</em>0 <em>x</em> = +0 Origin <em>−</em>0 &lt;/p&gt;&lt;p&gt;* <em>y</em> = +0 <em>x</em> = <em>−</em>0 Origin +<em>π</em> &lt;/p&gt;&lt;p&gt;* <em>y</em> = <em>−</em>0 <em>x</em> = <em>−</em>0 Origin <em>−π</em>&lt;/p&gt;</td></tr></tbody></table>
<p><strong>Figure 12–15. Quadrant information for arc tangent</strong></p>
<p><strong>Examples:</strong></p>
<p>(asin 0) <em>→</em> 0.0</p>
<p>(acos #c(0 1)) <em>→</em> #C(1.5707963267948966 -0.8813735870195432)</p>
<p>(/ (atan 1 (sqrt 3)) 6) <em>→</em> 0.087266</p>
<p>(atan #c(0 2)) <em>→</em> #C(-1.5707964 0.54930615)</p>
<p><strong>Exceptional Situations:</strong></p>
<p><strong>acos</strong> and <strong>asin</strong> should signal an error of <em>type</em> <strong>type-error</strong> if <em>number</em> is not a <em>number</em> . <strong>atan</strong> should signal <strong>type-error</strong> if one argument is supplied and that argument is not a <em>number</em> , or if two arguments are supplied and both of those arguments are not <em>reals</em>.</p>
<p><strong>acos</strong>, <strong>asin</strong>, and <strong>atan</strong> might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>log</strong>, <strong>sqrt</strong>, Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p>Numbers <strong>12–31</strong></p>
<p><strong>Notes:</strong></p>
<p>The result of either <strong>asin</strong> or <strong>acos</strong> can be a <em>complex</em> even if <em>number</em> is not a <em>complex</em> ; this occurs when the absolute value of <em>number</em> is greater than one.</p>
<p><strong>pi</strong> <em>Constant Variable</em></p>
<p><strong>Value:</strong></p>
<p>an <em>implementation-dependent long float</em>.</p>
<p><strong>Description:</strong></p>
<p>The best <em>long float</em> approximation to the mathematical constant <em>π</em>.</p>
<p><strong>Examples:</strong></p>
<p>;; In each of the following computations, the precision depends</p>
<p>;; on the implementation. Also, if ‘long float’ is treated by</p>
<p>;; the implementation as equivalent to some other float format</p>
<p>;; (e.g., ‘double float’) the exponent marker might be the marker</p>
<p>;; for that equivalent (e.g., ‘D’ instead of ‘L’).</p>
<p>pi <em>→</em> 3.141592653589793L0</p>
<p>(cos pi) <em>→</em> -1.0L0</p>
<p>(defun sin-of-degrees (degrees)</p>
<p>(let ((x (if (floatp degrees) degrees (float degrees pi))))</p>
<p>(sin (* x (/ (float pi x) 180)))))</p>
<p><strong>Notes:</strong></p>
<p>An approximation to <em>π</em> in some other precision can be obtained by writing (float pi x), where x is a <em>float</em> of the desired precision, or by writing (coerce pi <em>type</em>), where <em>type</em> is the desired type, such as <strong>short-float</strong>.</p>
<p><strong>sinh, cosh, tanh, asinh, acosh, atanh</strong></p>
<p><strong>sinh, cosh, tanh, asinh, acosh, atanh</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>sinh</strong> <em>number → result</em></p>
<p><strong>cosh</strong> <em>number → result</em></p>
<p><strong>tanh</strong> <em>number → result</em></p>
<p><strong>asinh</strong> <em>number → result</em></p>
<p><strong>acosh</strong> <em>number → result</em></p>
<p><strong>atanh</strong> <em>number → result</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>result</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p>These functions compute the hyperbolic sine, cosine, tangent, arc sine, arc cosine, and arc tangent functions, which are mathematically defined for an argument <em>x</em> as given in Figure 12–16.</p>
<table><thead><tr><th style="text-align:left"><strong>Function Definition</strong></th></tr></thead><tbody><tr><td style="text-align:left">&lt;p&gt;Hyperbolic sine (&lt;i&gt;e&lt;sup&gt;x&lt;/sup&gt; − e&lt;sup&gt;−x&lt;/sup&gt;&lt;/i&gt;)&lt;i&gt;/&lt;/i&gt;2 &lt;/p&gt;&lt;p&gt;Hyperbolic cosine (&lt;i&gt;e&lt;sup&gt;x&lt;/sup&gt;&lt;/i&gt; + &lt;i&gt;e&lt;sup&gt;−x&lt;/sup&gt;&lt;/i&gt;)&lt;i&gt;/&lt;/i&gt;2 &lt;/p&gt;&lt;p&gt;Hyperbolic tangent (&lt;i&gt;e&lt;sup&gt;x&lt;/sup&gt; − e&lt;sup&gt;−x&lt;/sup&gt;&lt;/i&gt;)&lt;i&gt;/&lt;/i&gt;(&lt;i&gt;e&lt;sup&gt;x&lt;/sup&gt;&lt;/i&gt; + &lt;i&gt;e&lt;sup&gt;−x&lt;/sup&gt;&lt;/i&gt;) &lt;/p&gt;&lt;p&gt;&lt;sub&gt;Hyperbolic arc sine log (&lt;i&gt;x&lt;/i&gt; +&lt;/sub&gt;&lt;i&gt;&lt;sup&gt;√&lt;/sup&gt;&lt;/i&gt;1 + &lt;i&gt;x&lt;/i&gt;&lt;s&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/s&gt;) &lt;/p&gt;&lt;p&gt;&lt;sub&gt;Hyperbolic arc cosine 2 log (&lt;/sub&gt;&lt;sup&gt;p&lt;/sup&gt;&lt;sub&gt;(&lt;i&gt;x&lt;/i&gt; + 1)&lt;i&gt;/&lt;/i&gt;2 +&lt;/sub&gt; &lt;sup&gt;p&lt;/sup&gt;(&lt;i&gt;x −&lt;/i&gt; 1)&lt;i&gt;/&lt;/i&gt;2) &lt;/p&gt;&lt;p&gt;Hyperbolic arc tangent (log (1 + <em>x</em>) <em>−</em> log (1 <em>− x</em>))*/*2&lt;/p&gt;</td></tr></tbody></table>
<p><strong>Figure 12–16. Mathematical definitions for hyperbolic functions</strong></p>
<p>The following definition for the inverse hyperbolic cosine determines the range and branch cuts:</p>
<p>arccosh <em>z</em> = 2 log</p>
<p><code> </code>&lt;sup&gt;p&lt;/sup&gt;&lt;sub&gt;(&lt;i&gt;z&lt;/i&gt; + 1)&lt;i&gt;/&lt;/i&gt;2 +&lt;/sub&gt; &lt;sup&gt;p&lt;/sup&gt;&lt;sub&gt;(&lt;i&gt;z −&lt;/i&gt; 1)&lt;i&gt;/&lt;/i&gt;2&lt;/sub&gt;&lt;/sup&gt; &lt;i&gt;.&lt;/i&gt;</p>
<p>The branch cut for the inverse hyperbolic cosine function lies along the real axis to the left of 1 (inclusive), extending indefinitely along the negative real axis, continuous with quadrant II and (between 0 and 1) with quadrant I. The range is that half-strip of the complex plane containing</p>
<p>numbers whose real part is non-negative and whose imaginary part is between <em>−π</em> (exclusive) and <em>π</em> (inclusive). A number with real part zero is in the range if its imaginary part is between zero (inclusive) and <em>π</em> (inclusive).</p>
<p>Numbers <strong>12–33</strong></p>
<p><strong>sinh, cosh, tanh, asinh, acosh, atanh</strong></p>
<p>The following definition for the inverse hyperbolic sine determines the range and branch cuts:</p>
<p>arcsinh <em>z</em> = log</p>
<p>&lt;sub&gt;&lt;i&gt;z&lt;/i&gt; +&lt;/sub&gt;&lt;sup&gt;p&lt;/sup&gt;1 + &lt;i&gt;z&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt; &lt;i&gt;.&lt;/i&gt;</p>
<p>The branch cut for the inverse hyperbolic sine function is in two pieces: one along the positive imaginary axis above <em>i</em> (inclusive), continuous with quadrant I, and one along the negative imaginary axis below <em>−i</em> (inclusive), continuous with quadrant III. The range is that strip of the complex plane containing numbers whose imaginary part is between *−π/*2 and *π/*2. A number with imaginary part equal to *−π/*2 is in the range if and only if its real part is non-positive; a number with imaginary part equal to *π/*2 is in the range if and only if its imaginary part is non-negative.</p>
<p>The following definition for the inverse hyperbolic tangent determines the range and branch cuts: arctanh &lt;i&gt;z&lt;/i&gt; =&lt;sup&gt;log (1 + &lt;i&gt;z&lt;/i&gt;) &lt;i&gt;−&lt;/i&gt; log (1 &lt;i&gt;− z&lt;/i&gt;)&lt;/sup&gt;</p>
<p>&lt;sub&gt;2&lt;/sub&gt;▷</p>
<p>Note that:</p>
<p><em>i</em> arctan <em>z</em> = arctanh <em>iz.</em></p>
<p>The branch cut for the inverse hyperbolic tangent function is in two pieces: one along the negative real axis to the left of <em>−</em>1 (inclusive), continuous with quadrant III, and one along the positive real axis to the right of 1 (inclusive), continuous with quadrant I. The points <em>−</em>1 and 1 are excluded from the domain. The range is that strip of the complex plane containing numbers whose imaginary part is between *−π/*2 and *π/*2. A number with imaginary part equal to *−π/*2 is in the range if and only if its real part is strictly negative; a number with imaginary part equal to *π/*2 is in the range if and only if its imaginary part is strictly positive. Thus the range of the inverse hyperbolic tangent function is identical to that of the inverse hyperbolic sine function with the points *−πi/*2 and *πi/*2 excluded.</p>
<p><strong>Examples:</strong></p>
<p>(sinh 0) <em>→</em> 0.0</p>
<p>(cosh (complex 0 -1)) <em>→</em> #C(0.540302 -0.0)</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>number</em> is not a <em>number</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>log</strong>, <strong>sqrt</strong>, Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>Notes:</strong></p>
<p>The result of <strong>acosh</strong> may be a <em>complex</em> even if <em>number</em> is not a <em>complex</em> ; this occurs when <em>number</em> is less than one. Also, the result of <strong>atanh</strong> may be a <em>complex</em> even if <em>number</em> is not a <em>complex</em> ; this occurs when the absolute value of <em>number</em> is greater than one.</p>
<p>The branch cut formulae are mathematically correct, assuming completely accurate computation. Implementors should consult a good text on numerical analysis. The formulae given above are not necessarily the simplest ones for real-valued computations; they are chosen to define the branch cuts in desirable ways for the complex case.</p>
<p><em>∗ Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>*</strong> &amp;rest <em>numbers → product</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>product</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p>Returns the product of <em>numbers</em>, performing any necessary type conversions in the process. If no <em>numbers</em> are supplied, 1 is returned.</p>
<p><strong>Examples:</strong></p>
<p>(*) <em>→</em> 1</p>
<p>(* 3 5) <em>→</em> 15</p>
<p>(* 1.0 #c(22 33) 55/98) <em>→</em> #C(12.346938775510203 18.520408163265305)</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Might signal <strong>type-error</strong> if some <em>argument</em> is not a <em>number</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.1 (Numeric Operations), Section 12.1.3 (Rational Computations), Section 12.1.4 (Floating-point Computations), Section 12.1.5 (Complex Computations)</p>
<p>Numbers <strong>12–35</strong></p>
<p><strong>+</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>+</strong> &amp;rest <em>numbers → sum</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>sum</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p>Returns the sum of <em>numbers</em>, performing any necessary type conversions in the process. If no <em>numbers</em> are supplied, 0 is returned.</p>
<p><strong>Examples:</strong></p>
<p>(+) <em>→</em> 0</p>
<p>(+ 1) <em>→</em> 1</p>
<p>(+ 31/100 69/100) <em>→</em> 1</p>
<p>(+ 1/5 0.8) <em>→</em> 1.0</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Might signal <strong>type-error</strong> if some <em>argument</em> is not a <em>number</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.1 (Numeric Operations), Section 12.1.3 (Rational Computations), Section 12.1.4 (Floating-point Computations), Section 12.1.5 (Complex Computations)</p>
<p><em>− Function</em></p>
<p><strong>Syntax:</strong></p>
<p><em>− number → negation</em></p>
<p><em>− minuend</em> &amp;rest <em>subtrahends</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ difference</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>, <em>minuend</em>, <em>subtrahend</em>—a <em>number</em> .</p>
<p><em>negation</em>, <em>difference</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p>The <em>function</em> <strong>-</strong> performs arithmetic subtraction and negation.</p>
<p>If only one <em>number</em> is supplied, the negation of that <em>number</em> is returned.</p>
<p>If more than one <em>argument</em> is given, it subtracts all of the <em>subtrahends</em> from the <em>minuend</em> and returns the result.</p>
<p>The <em>function</em> <strong>-</strong> performs necessary type conversions.</p>
<p><strong>Examples:</strong></p>
<p>(- 55.55) <em>→</em> -55.55</p>
<p>(- #c(3 -5)) <em>→</em> #C(-3 5)</p>
<p>(- 0) <em>→</em> 0</p>
<p>(eql (- 0.0) -0.0) <em>→ true</em></p>
<p>(- #c(100 45) #c(0 45)) <em>→</em> 100</p>
<p>(- 10 1 2 3 4) <em>→</em> 0</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Might signal <strong>type-error</strong> if some <em>argument</em> is not a <em>number</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.1 (Numeric Operations), Section 12.1.3 (Rational Computations), Section 12.1.4 (Floating-point Computations), Section 12.1.5 (Complex Computations)</p>
<p><strong>/</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>/</strong> <em>number → reciprocal</em></p>
<p><strong>/</strong> <em>numerator</em> &amp;rest <em>denominators</em>&lt;sup&gt;+&lt;/sup&gt; <em>→ quotient</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>, <em>denominator</em>—a non-zero <em>number</em> .</p>
<p><em>numerator</em>, <em>quotient</em>, <em>reciprocal</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p>The <em>function</em> <strong>/</strong> performs division or reciprocation.</p>
<p>If no <em>denominators</em> are supplied, the <em>function</em> <strong>/</strong> returns the reciprocal of <em>number</em>.</p>
<p>If at least one <em>denominator</em> is supplied, the <em>function</em> <strong>/</strong> divides the <em>numerator</em> by all of the <em>denominators</em> and returns the resulting <em>quotient</em>.</p>
<p>If each <em>argument</em> is either an <em>integer</em> or a <em>ratio</em>, and the result is not an <em>integer</em> , then it is a <em>ratio</em>. Numbers <strong>12–37</strong></p>
<p>The <em>function</em> <strong>/</strong> performs necessary type conversions.</p>
<p>If any <em>argument</em> is a <em>float</em> then the rules of floating-point contagion apply; see Section 12.1.4 (Floating-point Computations).</p>
<p><strong>Examples:</strong></p>
<p>(/ 12 4) <em>→</em> 3</p>
<p>(/ 13 4) <em>→</em> 13/4</p>
<p>(/ -8) <em>→</em> -1/8</p>
<p>(/ 3 4 5) <em>→</em> 3/20</p>
<p>(/ 0.5) <em>→</em> 2.0</p>
<p>(/ 20 5) <em>→</em> 4</p>
<p>(/ 5 20) <em>→</em> 1/4</p>
<p>(/ 60 -2 3 5.0) <em>→</em> -2.0</p>
<p>(/ 2 #c(2 2)) <em>→</em> #C(1/2 -1/2)</p>
<p><strong>Exceptional Situations:</strong></p>
<p>The consequences are unspecified if any <em>argument</em> other than the first is zero. If there is only one <em>argument</em>, the consequences are unspecified if it is zero.</p>
<p>Might signal <strong>type-error</strong> if some <em>argument</em> is not a <em>number</em> . Might signal <strong>division-by-zero</strong> if division by zero is attempted. Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>floor</strong>, <strong>ceiling</strong>, <strong>truncate</strong>, <strong>round</strong></p>
<p><strong>1+, 1</strong><em>− Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>1+</strong> <em>number → successor</em></p>
<p><strong>1</strong><em>− number → predecessor</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>successor</em>, <em>predecessor</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>1+</strong> returns a <em>number</em> that is one more than its argument <em>number</em>. <strong>1-</strong> returns a <em>number</em> that is one less than its argument <em>number</em>.</p>
<p><strong>Examples:</strong></p>
<p>(1+ 99) <em>→</em> 100</p>
<p>(1- 100) <em>→</em> 99</p>
<p>(1+ (complex 0.0)) <em>→</em> #C(1.0 0.0)</p>
<p>(1- 5/3) <em>→</em> 2/3</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Might signal <strong>type-error</strong> if its <em>argument</em> is not a <em>number</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>incf</strong>, <strong>decf</strong></p>
<p><strong>Notes:</strong></p>
<p>(1+ <em>number</em>) <em>≡</em> (+ <em>number</em> 1)</p>
<p>(1- <em>number</em>) <em>≡</em> (- <em>number</em> 1)</p>
<p>Implementors are encouraged to make the performance of both the previous expressions be the same.</p>
<p><strong>abs</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>abs</strong> <em>number → absolute-value</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>absolute-value</em>—a non-negative <em>real</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>abs</strong> returns the absolute value of <em>number</em>.</p>
<p>If <em>number</em> is a <em>real</em>, the result is of the same <em>type</em> as <em>number</em>.</p>
<p>If <em>number</em> is a <em>complex</em> , the result is a positive <em>real</em> with the same magnitude as <em>number</em>. The result can be a <em>float</em> even if <em>number</em>’s components are <em>rationals</em> and an exact rational result would have been possible. Thus the result of (abs #c(3 4)) can be either 5 or 5.0, depending on the implementation.</p>
<p><strong>Examples:</strong></p>
<p>(abs 0) <em>→</em> 0</p>
<p>Numbers <strong>12–39</strong></p>
<p>(abs 12/13) <em>→</em> 12/13</p>
<p>(abs -1.09) <em>→</em> 1.09</p>
<p>(abs #c(5.0 -5.0)) <em>→</em> 7.071068</p>
<p>(abs #c(5 5)) <em>→</em> 7.071068</p>
<p>(abs #c(3/5 4/5)) <em>→</em> 1 or approximately 1.0</p>
<p>(eql (abs -0.0) -0.0) <em>→ true</em></p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>Notes:</strong></p>
<p>If <em>number</em> is a <em>complex</em> , the result is equivalent to the following:</p>
<p>(sqrt (+ (expt (realpart <em>number</em>) 2) (expt (imagpart <em>number</em>) 2)))</p>
<p>An implementation should not use this formula directly for all <em>complexes</em> but should handle very large or very small components specially to avoid intermediate overflow or underflow.</p>
<p><strong>evenp, oddp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>evenp</strong> <em>integer → generalized-boolean</em></p>
<p><strong>oddp</strong> <em>integer → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>evenp</strong> returns <em>true</em> if <em>integer</em> is even (divisible by two); otherwise, returns <em>false</em>.</p>
<p><strong>oddp</strong> returns <em>true</em> if <em>integer</em> is odd (not divisible by two); otherwise, returns <em>false</em>. <strong>Examples:</strong></p>
<p>(evenp 0) <em>→ true</em></p>
<p>(oddp 10000000000000000000000) <em>→ false</em></p>
<p>(oddp -1) <em>→ true</em></p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>integer</em> is not an <em>integer</em> .</p>
<p><strong>Notes:</strong></p>
<p>(evenp <em>integer</em>) <em>≡</em> (not (oddp <em>integer</em>))</p>
<p>(oddp <em>integer</em>) <em>≡</em> (not (evenp <em>integer</em>))</p>
<p><strong>exp, expt</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>exp</strong> <em>number → result</em></p>
<p><strong>expt</strong> <em>base-number power-number → result</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>base-number</em>—a <em>number</em> .</p>
<p><em>power-number</em>—a <em>number</em> .</p>
<p><em>result</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>exp</strong> and <strong>expt</strong> perform exponentiation.</p>
<p><strong>exp</strong> returns <em>e</em> raised to the power <em>number</em>, where <em>e</em> is the base of the natural logarithms. <strong>exp</strong> has no branch cut.</p>
<p><strong>expt</strong> returns <em>base-number</em> raised to the power <em>power-number</em>. If the <em>base-number</em> is a <em>rational</em> and <em>power-number</em> is an <em>integer</em> , the calculation is exact and the result will be of <em>type</em> <strong>rational</strong>; otherwise a floating-point approximation might result. For <strong>expt</strong> of a <em>complex rational</em> to an <em>integer</em> power, the calculation must be exact and the result is of type (or rational (complex rational)).</p>
<p>The result of <strong>expt</strong> can be a <em>complex</em> , even when neither argument is a <em>complex</em> , if <em>base-number</em> is negative and <em>power-number</em> is not an <em>integer</em> . The result is always the <em>principal complex value</em>. For example, (expt -8 1/3) is not permitted to return -2, even though -2 is one of the cube roots of -8. The <em>principal</em> cube root is a <em>complex</em> approximately equal to #C(1.0 1.73205), not -2.</p>
<p>&lt;b&gt;expt&lt;/b&gt; is defined as &lt;i&gt;b&lt;sup&gt;x&lt;/sup&gt; = e&lt;sup&gt;xlogb&lt;/sup&gt;&lt;/i&gt;. This defines the &lt;i&gt;principal values&lt;/i&gt; precisely. The range of &lt;b&gt;expt&lt;/b&gt; is the entire complex plane. Regarded as a function of &lt;i&gt;x&lt;/i&gt;, with &lt;i&gt;b&lt;/i&gt; fixed, there is no branch cut. Regarded as a function of &lt;i&gt;b&lt;/i&gt;, with &lt;i&gt;x&lt;/i&gt; fixed, there is in general a branch cut along the negative real axis, continuous with quadrant II. The domain excludes the origin. By definition, 0&lt;sup&gt;0&lt;/sup&gt;=1. If &lt;i&gt;b&lt;/i&gt;=0 and the real part of &lt;i&gt;x&lt;/i&gt; is strictly positive, then &lt;i&gt;b&lt;sup&gt;x&lt;/sup&gt;&lt;/i&gt;=0. For all other values of &lt;i&gt;x&lt;/i&gt;, 0&lt;i&gt;&lt;sup&gt;x&lt;/sup&gt;&lt;/i&gt;is an error.</p>
<p>Numbers <strong>12–41</strong></p>
<p>When <em>power-number</em> is an <em>integer</em> 0, then the result is always the value one in the <em>type</em> of <em>base-number</em>, even if the <em>base-number</em> is zero (of any <em>type</em>). That is:</p>
<p>(expt x 0) <em>≡</em> (coerce 1 (type-of x))</p>
<p>If <em>power-number</em> is a zero of any other <em>type</em>, then the result is also the value one, in the <em>type</em> of the arguments after the application of the contagion rules in Section 12.1.1.2 (Contagion in Numeric Operations), with one exception: the consequences are undefined if <em>base-number</em> is zero when <em>power-number</em> is zero and not of <em>type</em> <strong>integer</strong>.</p>
<p><strong>Examples:</strong></p>
<p>(exp 0) <em>→</em> 1.0</p>
<p>(exp 1) <em>→</em> 2.718282</p>
<p>(exp (log 5)) <em>→</em> 5.0</p>
<p>(expt 2 8) <em>→</em> 256</p>
<p>(expt 4 .5) <em>→</em> 2.0</p>
<p>(expt #c(0 1) 2) <em>→</em> -1</p>
<p>(expt #c(2 2) 3) <em>→</em> #C(-16 16)</p>
<p>(expt #c(2 2) 4) <em>→</em> -64</p>
<p><strong>See Also:</strong></p>
<p><strong>log</strong>, Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>Notes:</strong></p>
<p>Implementations of <strong>expt</strong> are permitted to use different algorithms for the cases of a <em>power-number</em> of <em>type</em> <strong>rational</strong> and a <em>power-number</em> of <em>type</em> <strong>float</strong>.</p>
<p>Note that by the following logic, (sqrt (expt <em>x</em> 3)) is not equivalent to (expt <em>x</em> 3/2).</p>
<p>(setq x (exp (/ (* 2 pi #c(0 1)) 3))) ;exp(2.pi.i/3)</p>
<p>(expt x 3) <em>→</em> 1 ;except for round-off error</p>
<p>(sqrt (expt x 3)) <em>→</em> 1 ;except for round-off error</p>
<p>(expt x 3/2) <em>→</em> -1 ;except for round-off error</p>
<p><strong>gcd</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>gcd</strong> &amp;rest <em>integers → greatest-common-denominator</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>greatest-common-denominator</em>—a non-negative <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p>Returns the greatest common divisor of <em>integers</em>. If only one <em>integer</em> is supplied, its absolute value is returned. If no <em>integers</em> are given, <strong>gcd</strong> returns 0, which is an identity for this operation.</p>
<p><strong>Examples:</strong></p>
<p>(gcd) <em>→</em> 0</p>
<p>(gcd 60 42) <em>→</em> 6</p>
<p>(gcd 3333 -33 101) <em>→</em> 1</p>
<p>(gcd 3333 -33 1002001) <em>→</em> 11</p>
<p>(gcd 91 -49) <em>→</em> 7</p>
<p>(gcd 63 -42 35) <em>→</em> 7</p>
<p>(gcd 5) <em>→</em> 5</p>
<p>(gcd -4) <em>→</em> 4</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if any <em>integer</em> is not an <em>integer</em> .</p>
<p><strong>See Also:</strong></p>
<p><strong>lcm</strong></p>
<p><strong>Notes:</strong></p>
<p>For three or more arguments,</p>
<p>(gcd b c ... z) <em>≡</em> (gcd (gcd a b) c ... z)</p>
<p><strong>incf, decf</strong> <em>Macro</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>incf</strong> <em>place</em> [<em>delta-form</em>] <em>→ new-value</em></p>
<p><strong>decf</strong> <em>place</em> [<em>delta-form</em>] <em>→ new-value</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>place</em>—a <em>place</em>.</p>
<p><em>delta-form</em>—a <em>form</em>; evaluated to produce a <em>delta</em>. The default is 1.</p>
<p><em>delta</em>—a <em>number</em> .</p>
<p><em>new-value</em>—a <em>number</em> .</p>
<p>Numbers <strong>12–43</strong></p>
<p><strong>Description:</strong></p>
<p><strong>incf</strong> and <strong>decf</strong> are used for incrementing and decrementing the <em>value</em> of <em>place</em>, respectively.</p>
<p>The <em>delta</em> is added to (in the case of <strong>incf</strong>) or subtracted from (in the case of <strong>decf</strong>) the number in <em>place</em> and the result is stored in <em>place</em>.</p>
<p>Any necessary type conversions are performed automatically.</p>
<p>For information about the <em>evaluation</em> of <em>subforms</em> of <em>places</em>, see Section 5.1.1.1 (Evaluation of Subforms to Places).</p>
<p><strong>Examples:</strong></p>
<p>(setq n 0)</p>
<p>(incf n) <em>→</em> 1</p>
<p>n <em>→</em> 1</p>
<p>(decf n 3) <em>→</em> -2</p>
<p>n <em>→</em> -2</p>
<p>(decf n -5) <em>→</em> 3</p>
<p>(decf n) <em>→</em> 2</p>
<p>(incf n 0.5) <em>→</em> 2.5</p>
<p>(decf n) <em>→</em> 1.5</p>
<p>n <em>→</em> 1.5</p>
<p><strong>Side Effects:</strong></p>
<p><em>Place</em> is modified.</p>
<p><strong>See Also:</strong></p>
<p><strong>+</strong>, <strong>-</strong>, <strong>1+</strong>, <strong>1-</strong>, <strong>setf</strong></p>
<p><strong>lcm</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>lcm</strong> &amp;rest <em>integers → least-common-multiple</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>least-common-multiple</em>—a non-negative <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>lcm</strong> returns the least common multiple of the <em>integers</em>.</p>
<p>If no <em>integer</em> is supplied, the <em>integer</em> 1 is returned.</p>
<p>If only one <em>integer</em> is supplied, the absolute value of that <em>integer</em> is returned.</p>
<p>For two arguments that are not both zero,</p>
<p>(lcm a b) <em>≡</em> (/ (abs (* a b)) (gcd a b))</p>
<p>If one or both arguments are zero,</p>
<p>(lcm a 0) <em>≡</em> (lcm 0 a) <em>≡</em> 0</p>
<p>For three or more arguments,</p>
<p>(lcm a b c ... z) <em>≡</em> (lcm (lcm a b) c ... z)</p>
<p><strong>Examples:</strong></p>
<p>(lcm 10) <em>→</em> 10</p>
<p>(lcm 25 30) <em>→</em> 150</p>
<p>(lcm -24 18 10) <em>→</em> 360</p>
<p>(lcm 14 35) <em>→</em> 70</p>
<p>(lcm 0 5) <em>→</em> 0</p>
<p>(lcm 1 2 3 4 5 6) <em>→</em> 60</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal <strong>type-error</strong> if any argument is not an <em>integer</em> .</p>
<p><strong>See Also:</strong></p>
<p><strong>gcd</strong></p>
<p><strong>log</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>log</strong> <em>number</em> &amp;optional <em>base → logarithm</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a non-zero <em>number</em> .</p>
<p><em>base</em>—a <em>number</em> .</p>
<p><em>logarithm</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>log</strong> returns the logarithm of <em>number</em> in base <em>base</em>. If <em>base</em> is not supplied its value is <em>e</em>, the base of the natural logarithms.</p>
<p>Numbers <strong>12–45</strong></p>
<p><strong>log</strong></p>
<p><strong>log</strong> may return a <em>complex</em> when given a <em>real</em> negative <em>number</em>.</p>
<p>(log -1.0) <em>≡</em> (complex 0.0 (float pi 0.0))</p>
<p>If <em>base</em> is zero, <strong>log</strong> returns zero.</p>
<p>The result of (log 8 2) may be either 3 or 3.0, depending on the implementation. An implementation can use floating-point calculations even if an exact integer result is possible.</p>
<p>The branch cut for the logarithm function of one argument (natural logarithm) lies along the negative real axis, continuous with quadrant II. The domain excludes the origin.</p>
<p>The mathematical definition of a complex logarithm is as follows, whether or not minus zero is supported by the implementation:</p>
<p>(log <em>x</em>) <em>≡</em> (complex (log (abs <em>x</em>)) (phase <em>x</em>))</p>
<p>Therefore the range of the one-argument logarithm function is that strip of the complex plane containing numbers with imaginary parts between <em>−π</em> (exclusive) and <em>π</em> (inclusive) if minus zero is not supported, or <em>−π</em> (inclusive) and <em>π</em> (inclusive) if minus zero is supported.</p>
<p>The two-argument logarithm function is defined as</p>
<p>(log <em>base number</em>)</p>
<p><em>≡</em> (/ (log <em>number</em>) (log <em>base</em>))</p>
<p>This defines the <em>principal values</em> precisely. The range of the two-argument logarithm function is the entire complex plane.</p>
<p><strong>Examples:</strong></p>
<p>(log 100 10)</p>
<p><em>→</em> 2.0</p>
<p><em>→</em> 2</p>
<p>(log 100.0 10) <em>→</em> 2.0</p>
<p>(log #c(0 1) #c(0 -1))</p>
<p><em>→</em> #C(-1.0 0.0)</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; #C(-1 0)</p>
<p>(log 8.0 2) <em>→</em> 3.0</p>
<p>(log #c(-16 16) #c(2 2)) <em>→</em> 3 or approximately #c(3.0 0.0)</p>
<p>or approximately 3.0 (unlikely)</p>
<p><strong>Affected By:</strong></p>
<p>The implementation.</p>
<p><strong>See Also:</strong></p>
<p><strong>exp</strong>, <strong>expt</strong>, Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>mod, rem</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>mod</strong> <em>number divisor → modulus</em></p>
<p><strong>rem</strong> <em>number divisor → remainder</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>real</em>.</p>
<p><em>divisor</em>—a <em>real</em>.</p>
<p><em>modulus</em>, <em>remainder</em>—a <em>real</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>mod</strong> and <strong>rem</strong> are generalizations of the modulus and remainder functions respectively.</p>
<p><strong>mod</strong> performs the operation <strong>floor</strong> on <em>number</em> and <em>divisor</em> and returns the remainder of the <strong>floor</strong> operation.</p>
<p><strong>rem</strong> performs the operation <strong>truncate</strong> on <em>number</em> and <em>divisor</em> and returns the remainder of the <strong>truncate</strong> operation.</p>
<p><strong>mod</strong> and <strong>rem</strong> are the modulus and remainder functions when <em>number</em> and <em>divisor</em> are <em>integers</em>. <strong>Examples:</strong></p>
<p>(rem -1 5) <em>→</em> -1</p>
<p>(mod -1 5) <em>→</em> 4</p>
<p>(mod 13 4) <em>→</em> 1</p>
<p>(rem 13 4) <em>→</em> 1</p>
<p>(mod -13 4) <em>→</em> 3</p>
<p>(rem -13 4) <em>→</em> -1</p>
<p>(mod 13 -4) <em>→</em> -3</p>
<p>(rem 13 -4) <em>→</em> 1</p>
<p>(mod -13 -4) <em>→</em> -1</p>
<p>(rem -13 -4) <em>→</em> -1</p>
<p>(mod 13.4 1) <em>→</em> 0.4</p>
<p>(rem 13.4 1) <em>→</em> 0.4</p>
<p>(mod -13.4 1) <em>→</em> 0.6</p>
<p>(rem -13.4 1) <em>→</em> -0.4</p>
<p>Numbers <strong>12–47</strong></p>
<p><strong>See Also:</strong></p>
<p><strong>floor</strong>, <strong>truncate</strong></p>
<p><strong>Notes:</strong></p>
<p>The result of <strong>mod</strong> is either zero or a <em>real</em> with the same sign as <em>divisor</em>.</p>
<p><strong>signum</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>signum</strong> <em>number → signed-prototype</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>signed-prototype</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>signum</strong> determines a numerical value that indicates whether <em>number</em> is negative, zero, or positive.</p>
<p>For a <em>rational</em>, <strong>signum</strong> returns one of -1, 0, or 1 according to whether <em>number</em> is negative, zero, or positive. For a <em>float</em>, the result is a <em>float</em> of the same format whose value is minus one, zero, or one. For a <em>complex</em> number z, (signum <em>z</em>) is a complex number of the same phase but with unit magnitude, unless z is a complex zero, in which case the result is z.</p>
<p>For <em>rational arguments</em>, <strong>signum</strong> is a rational function, but it may be irrational for <em>complex arguments</em>.</p>
<p>If <em>number</em> is a <em>float</em>, the result is a <em>float</em>. If <em>number</em> is a <em>rational</em>, the result is a <em>rational</em>. If <em>number</em> is a <em>complex float</em>, the result is a <em>complex float</em>. If <em>number</em> is a <em>complex rational</em>, the result is a <em>complex</em> , but it is <em>implementation-dependent</em> whether that result is a <em>complex rational</em> or a <em>complex float</em>.</p>
<p><strong>Examples:</strong></p>
<p>(signum 0) <em>→</em> 0</p>
<p>(signum 99) <em>→</em> 1</p>
<p>(signum 4/5) <em>→</em> 1</p>
<p>(signum -99/100) <em>→</em> -1</p>
<p>(signum 0.0) <em>→</em> 0.0</p>
<p>(signum #c(0 33)) <em>→</em> #C(0.0 1.0)</p>
<p>(signum #c(7.5 10.0)) <em>→</em> #C(0.6 0.8)</p>
<p>(signum #c(0.0 -14.7)) <em>→</em> #C(0.0 -1.0)</p>
<p>(eql (signum -0.0) -0.0) <em>→ true</em></p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>Notes:</strong></p>
<p>(signum x) <em>≡</em> (if (zerop x) x (/ x (abs x)))</p>
<p><strong>sqrt, isqrt</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>sqrt</strong> <em>number → root</em></p>
<p><strong>isqrt</strong> <em>natural → natural-root</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>, <em>root</em>—a <em>number</em> .</p>
<p><em>natural</em>, <em>natural-root</em>—a non-negative <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>sqrt</strong> and <strong>isqrt</strong> compute square roots.</p>
<p><strong>sqrt</strong> returns the <em>principal</em> square root of <em>number</em>. If the <em>number</em> is not a <em>complex</em> but is negative, then the result is a <em>complex</em> .</p>
<p><strong>isqrt</strong> returns the greatest <em>integer</em> less than or equal to the exact positive square root of <em>natural</em>.</p>
<p>If <em>number</em> is a positive <em>rational</em>, it is <em>implementation-dependent</em> whether <em>root</em> is a <em>rational</em> or a <em>float</em>. If <em>number</em> is a negative <em>rational</em>, it is <em>implementation-dependent</em> whether <em>root</em> is a <em>complex rational</em> or a <em>complex float</em>.</p>
<p>The mathematical definition of complex square root (whether or not minus zero is supported) follows:</p>
<p>(sqrt <em>x</em>) = (exp (/ (log <em>x</em>) 2))</p>
<p>The branch cut for square root lies along the negative real axis, continuous with quadrant II. The range consists of the right half-plane, including the non-negative imaginary axis and excluding the negative imaginary axis.</p>
<p><strong>Examples:</strong></p>
<p>(sqrt 9.0) <em>→</em> 3.0</p>
<p>(sqrt -9.0) <em>→</em> #C(0.0 3.0)</p>
<p>Numbers <strong>12–49</strong></p>
<p>(isqrt 9) <em>→</em> 3</p>
<p>(sqrt 12) <em>→</em> 3.4641016</p>
<p>(isqrt 12) <em>→</em> 3</p>
<p>(isqrt 300) <em>→</em> 17</p>
<p>(isqrt 325) <em>→</em> 18</p>
<p>(sqrt 25)</p>
<p><em>→</em> 5</p>
<p>&lt;i&gt;&lt;sup&gt;or&lt;/sup&gt;→&lt;/i&gt; 5.0</p>
<p>(isqrt 25) <em>→</em> 5</p>
<p>(sqrt -1) <em>→</em> #C(0.0 1.0)</p>
<p>(sqrt #c(0 2)) <em>→</em> #C(1.0 1.0)</p>
<p><strong>Exceptional Situations:</strong></p>
<p>The <em>function</em> <strong>sqrt</strong> should signal <strong>type-error</strong> if its argument is not a <em>number</em> .</p>
<p>The <em>function</em> <strong>isqrt</strong> should signal <strong>type-error</strong> if its argument is not a non-negative <em>integer</em> . The functions <strong>sqrt</strong> and <strong>isqrt</strong> might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>exp</strong>, <strong>log</strong>, Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>Notes:</strong></p>
<p>(isqrt x) <em>≡</em> (values (floor (sqrt x)))</p>
<p>but it is potentially more efficient.</p>
<p><strong>random-state</strong> <em>System Class</em></p>
<p><strong>Class Precedence List:</strong></p>
<p><strong>random-state</strong>, <strong>t</strong></p>
<p><strong>Description:</strong></p>
<p>A <em>random state object</em> contains state information used by the pseudo-random number generator. The nature of a <em>random state object</em> is <em>implementation-dependent</em>. It can be printed out and successfully read back in by the same <em>implementation</em>, but might not function correctly as a <em>random state</em> in another <em>implementation</em>.</p>
<p><em>Implementations</em> are required to provide a read syntax for <em>objects</em> of <em>type</em> <strong>random-state</strong>, but the specific nature of that syntax is <em>implementation-dependent</em>.</p>
<p><strong>See Also:</strong></p>
<p><strong>*random-state*</strong>, <strong>random</strong>, Section 22.1.3.10 (Printing Random States)</p>
<p><strong>make-random-state</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>make-random-state</strong> &amp;optional <em>state → new-state</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>state</em>—a <em>random state</em>, or <strong>nil</strong>, or <strong>t</strong>. The default is <strong>nil</strong>.</p>
<p><em>new-state</em>—a <em>random state object</em>.</p>
<p><strong>Description:</strong></p>
<p>Creates a <em>fresh object</em> of <em>type</em> <strong>random-state</strong> suitable for use as the <em>value</em> of <strong>*random-state*</strong>.</p>
<p>If <em>state</em> is a <em>random state object</em>, the <em>new-state</em> is a <em>copy</em>&lt;sub&gt;5&lt;/sub&gt; of that <em>object</em>. If <em>state</em> is <strong>nil</strong>, the <em>new-state</em> is a <em>copy</em>&lt;sub&gt;5&lt;/sub&gt; of the <em>current random state</em>. If <em>state</em> is <strong>t</strong>, the <em>new-state</em> is a <em>fresh random state object</em> that has been randomly initialized by some means.</p>
<p><strong>Examples:</strong></p>
<p>(let* ((rs1 (make-random-state nil))</p>
<p>(rs2 (make-random-state t))</p>
<p>(rs3 (make-random-state rs2))</p>
<p>(rs4 nil))</p>
<p>(list (loop for i from 1 to 10</p>
<p>collect (random 100)</p>
<p>when (= i 5)</p>
<p>do (setq rs4 (make-random-state)))</p>
<p>(loop for i from 1 to 10 collect (random 100 rs1))</p>
<p>(loop for i from 1 to 10 collect (random 100 rs2))</p>
<p>(loop for i from 1 to 10 collect (random 100 rs3))</p>
<p>(loop for i from 1 to 10 collect (random 100 rs4))))</p>
<p><em>→</em> ((29 25 72 57 55 68 24 35 54 65)</p>
<p>(29 25 72 57 55 68 24 35 54 65)</p>
<p>(93 85 53 99 58 62 2 23 23 59)</p>
<p>(93 85 53 99 58 62 2 23 23 59)</p>
<p>(68 24 35 54 65 54 55 50 59 49))</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>state</em> is not a <em>random state</em>, or <strong>nil</strong>, or <strong>t</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>random</strong>, <strong>*random-state*</strong></p>
<p>Numbers <strong>12–51</strong></p>
<p><strong>Notes:</strong></p>
<p>One important use of <strong>make-random-state</strong> is to allow the same series of pseudo-random <em>numbers</em> to be generated many times within a single program.</p>
<p><strong>random</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>random</strong> <em>limit</em> &amp;optional <em>random-state → random-number</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>limit</em>—a positive <em>integer</em> , or a positive <em>float</em>.</p>
<p><em>random-state</em>—a <em>random state</em>. The default is the <em>current random state</em>.</p>
<p><em>random-number</em>—a non-negative <em>number</em> less than <em>limit</em> and of the same <em>type</em> as <em>limit</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns a pseudo-random number that is a non-negative <em>number</em> less than <em>limit</em> and of the same <em>type</em> as <em>limit</em>.</p>
<p>The <em>random-state</em>, which is modified by this function, encodes the internal state maintained by the random number generator.</p>
<p>An approximately uniform choice distribution is used. If <em>limit</em> is an <em>integer</em> , each of the possible results occurs with (approximate) probability 1/<em>limit</em>.</p>
<p><strong>Examples:</strong></p>
<p>(&lt;= 0 (random 1000) 1000) <em>→ true</em></p>
<p>(let ((state1 (make-random-state))</p>
<p>(state2 (make-random-state)))</p>
<p>(= (random 1000 state1) (random 1000 state2))) <em>→ true</em></p>
<p><strong>Side Effects:</strong></p>
<p>The <em>random-state</em> is modified.</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>limit</em> is not a positive <em>integer</em> or a positive <em>real</em>.</p>
<p><strong>See Also:</strong></p>
<p><strong>make-random-state</strong>, <strong>*random-state*</strong></p>
<p><strong>Notes:</strong></p>
<p>See <em>Common Lisp: The Language</em> for information about generating random numbers.</p>
<p><strong>random-state-p</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>random-state-p</strong> <em>object → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>object</em>—an <em>object</em>.</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if <em>object</em> is of <em>type</em> <strong>random-state</strong>; otherwise, returns <em>false</em>.</p>
<p><strong>Examples:</strong></p>
<p>(random-state-p *random-state*) <em>→ true</em></p>
<p>(random-state-p (make-random-state)) <em>→ true</em></p>
<p>(random-state-p ’test-function) <em>→ false</em></p>
<p><strong>See Also:</strong></p>
<p><strong>make-random-state</strong>, <strong>*random-state*</strong></p>
<p><strong>Notes:</strong></p>
<p>(random-state-p <em>object</em>) <em>≡</em> (typep <em>object</em> ’random-state)</p>
<p><em>∗</em><strong>random-state</strong><em>∗ Variable</em></p>
<p><strong>Value Type:</strong></p>
<p>a <em>random state</em>.</p>
<p><strong>Initial Value:</strong></p>
<p><em>implementation-dependent</em>.</p>
<p><strong>Description:</strong></p>
<p>The <em>current random state</em>, which is used, for example, by the <em>function</em> <strong>random</strong> when a <em>random state</em> is not explicitly supplied.</p>
<p>Numbers <strong>12–53</strong></p>
<p><strong>Examples:</strong></p>
<p>(random-state-p *random-state*) <em>→ true</em></p>
<p>(setq snap-shot (make-random-state))</p>
<p>;; The series from any given point is random,</p>
<p>;; but if you backtrack to that point, you get the same series.</p>
<p>(list (loop for i from 1 to 10 collect (random))</p>
<p>(let ((*random-state* snap-shot))</p>
<p>(loop for i from 1 to 10 collect (random)))</p>
<p>(loop for i from 1 to 10 collect (random))</p>
<p>(let ((*random-state* snap-shot))</p>
<p>(loop for i from 1 to 10 collect (random))))</p>
<p><em>→</em> ((19 16 44 19 96 15 76 96 13 61)</p>
<p>(19 16 44 19 96 15 76 96 13 61)</p>
<p>(16 67 0 43 70 79 58 5 63 50)</p>
<p>(16 67 0 43 70 79 58 5 63 50))</p>
<p><strong>Affected By:</strong></p>
<p>The <em>implementation</em>.</p>
<p><strong>random</strong>.</p>
<p><strong>See Also:</strong></p>
<p><strong>make-random-state</strong>, <strong>random</strong>, <strong>random-state</strong></p>
<p><strong>Notes:</strong></p>
<p><em>Binding</em> <strong>*random-state*</strong> to a different <em>random state object</em> correctly saves and restores the old <em>random state object</em>.</p>
<p><strong>numberp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>numberp</strong> <em>object → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>object</em>—an <em>object</em>.</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if <em>object</em> is of <em>type</em> <strong>number</strong>; otherwise, returns <em>false</em>.</p>
<p><strong>Examples:</strong></p>
<p>(numberp 12) <em>→ true</em></p>
<p>(numberp (expt 2 130)) <em>→ true</em></p>
<p>(numberp #c(5/3 7.2)) <em>→ true</em></p>
<p>(numberp nil) <em>→ false</em></p>
<p>(numberp (cons 1 2)) <em>→ false</em></p>
<p><strong>Notes:</strong></p>
<p>(numberp <em>object</em>) <em>≡</em> (typep <em>object</em> ’number)</p>
<p><strong>cis</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>cis</strong> <em>radians → number</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>radians</em>—a <em>real</em>.</p>
<p><em>number</em>—a <em>complex</em> .</p>
<p><strong>Description:</strong></p>
<p>&lt;b&gt;cis&lt;/b&gt; returns the value of &lt;i&gt;e&lt;sup&gt;i· radians&lt;/sup&gt;&lt;/i&gt; , which is a &lt;i&gt;complex&lt;/i&gt; in which the real part is equal to the cosine of &lt;i&gt;radians&lt;/i&gt;, and the imaginary part is equal to the sine of &lt;i&gt;radians&lt;/i&gt;.</p>
<p><strong>Examples:</strong></p>
<p>(cis 0) <em>→</em> #C(1.0 0.0)</p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p>Numbers <strong>12–55</strong></p>
<p><strong>complex</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>complex</strong> <em>realpart</em> &amp;optional <em>imagpart → complex</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>realpart</em>—a <em>real</em>.</p>
<p><em>imagpart</em>—a <em>real</em>.</p>
<p><em>complex</em>—a <em>rational</em> or a <em>complex</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>complex</strong> returns a <em>number</em> whose real part is <em>realpart</em> and whose imaginary part is <em>imagpart</em>.</p>
<p>If <em>realpart</em> is a <em>rational</em> and <em>imagpart</em> is the <em>rational</em> number zero, the result of <strong>complex</strong> is <em>realpart</em>, a <em>rational</em>. Otherwise, the result is a <em>complex</em> .</p>
<p>If either <em>realpart</em> or <em>imagpart</em> is a <em>float</em>, the non-<em>float</em> is converted to a <em>float</em> before the <em>complex</em> is created. If <em>imagpart</em> is not supplied, the imaginary part is a zero of the same <em>type</em> as <em>realpart</em>; <em>i.e.</em>, (coerce 0 (type-of <em>realpart</em>)) is effectively used.</p>
<p>Type upgrading implies a movement upwards in the type hierarchy lattice. In the case of <em>complexes</em>, the <em>type-specifier</em> must be a subtype of (upgraded-complex-part-type <em>type-specifier</em>). If <em>type-specifier1</em> is a subtype of <em>type-specifier2</em>, then (upgraded-complex-element-type ’<em>type specifier1</em>) must also be a subtype of (upgraded-complex-element-type ’<em>type-specifier2</em>). Two disjoint types can be upgraded into the same thing.</p>
<p><strong>Examples:</strong></p>
<p>(complex 0) <em>→</em> 0</p>
<p>(complex 0.0) <em>→</em> #C(0.0 0.0)</p>
<p>(complex 1 1/2) <em>→</em> #C(1 1/2)</p>
<p>(complex 1 .99) <em>→</em> #C(1.0 0.99)</p>
<p>(complex 3/2 0.0) <em>→</em> #C(1.5 0.0)</p>
<p><strong>See Also:</strong></p>
<p><strong>realpart</strong>, <strong>imagpart</strong>, Section 2.4.8.11 (Sharpsign C)</p>
<p><strong>complexp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>complexp</strong> <em>object → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>object</em>—an <em>object</em>.</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if <em>object</em> is of <em>type</em> <strong>complex</strong>; otherwise, returns <em>false</em>.</p>
<p><strong>Examples:</strong></p>
<p>(complexp 1.2d2) <em>→ false</em></p>
<p>(complexp #c(5/3 7.2)) <em>→ true</em></p>
<p><strong>See Also:</strong></p>
<p><strong>complex</strong> (<em>function</em> and <em>type</em>), <strong>typep</strong></p>
<p><strong>Notes:</strong></p>
<p>(complexp <em>object</em>) <em>≡</em> (typep <em>object</em> ’complex)</p>
<p><strong>conjugate</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>conjugate</strong> <em>number → conjugate</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>conjugate</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p>Returns the complex conjugate of <em>number</em>. The conjugate of a <em>real</em> number is itself. Numbers <strong>12–57</strong></p>
<p><strong>Examples:</strong></p>
<p>(conjugate #c(0 -1)) <em>→</em> #C(0 1)</p>
<p>(conjugate #c(1 1)) <em>→</em> #C(1 -1)</p>
<p>(conjugate 1.5) <em>→</em> 1.5</p>
<p>(conjugate #C(3/5 4/5)) <em>→</em> #C(3/5 -4/5)</p>
<p>(conjugate #C(0.0D0 -1.0D0)) <em>→</em> #C(0.0D0 1.0D0)</p>
<p>(conjugate 3.7) <em>→</em> 3.7</p>
<p><strong>Notes:</strong></p>
<p>For a <em>complex</em> number z,</p>
<p>(conjugate z) <em>≡</em> (complex (realpart z) (- (imagpart z)))</p>
<p><strong>phase</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>phase</strong> <em>number → phase</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>phase</em>—a <em>number</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>phase</strong> returns the phase of <em>number</em> (the angle part of its polar representation) in radians, in the range <em>−π</em> (exclusive) if minus zero is not supported, or <em>−π</em> (inclusive) if minus zero is supported, to <em>π</em> (inclusive). The phase of a positive <em>real</em> number is zero; that of a negative <em>real</em> number is <em>π</em>. The phase of zero is defined to be zero.</p>
<p>If <em>number</em> is a <em>complex float</em>, the result is a <em>float</em> of the same <em>type</em> as the components of <em>number</em>. If <em>number</em> is a <em>float</em>, the result is a <em>float</em> of the same <em>type</em>. If <em>number</em> is a <em>rational</em> or a <em>complex rational</em>, the result is a <em>single float</em>.</p>
<p>The branch cut for <strong>phase</strong> lies along the negative real axis, continuous with quadrant II. The range consists of that portion of the real axis between <em>−π</em> (exclusive) and <em>π</em> (inclusive).</p>
<p>The mathematical definition of <strong>phase</strong> is as follows:</p>
<p>(phase <em>x</em>) = (atan (imagpart <em>x</em>) (realpart <em>x</em>))</p>
<p><strong>Examples:</strong></p>
<p>(phase 1) <em>→</em> 0.0s0</p>
<p>(phase 0) <em>→</em> 0.0s0</p>
<p>(phase (cis 30)) <em>→</em> -1.4159266</p>
<p>(phase #c(0 1)) <em>→</em> 1.5707964</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal <strong>type-error</strong> if its argument is not a <em>number</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>See Also:</strong></p>
<p>Section 12.1.3.3 (Rule of Float Substitutability)</p>
<p><strong>realpart, imagpart</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>realpart</strong> <em>number → real</em></p>
<p><strong>imagpart</strong> <em>number → real</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>number</em> .</p>
<p><em>real</em>—a <em>real</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>realpart</strong> and <strong>imagpart</strong> return the real and imaginary parts of <em>number</em> respectively. If <em>number</em> is <em>real</em>, then <strong>realpart</strong> returns <em>number</em> and <strong>imagpart</strong> returns (* 0 <em>number</em>), which has the effect that the imaginary part of a <em>rational</em> is 0 and that of a <em>float</em> is a floating-point zero of the same format.</p>
<p><strong>Examples:</strong></p>
<p>(realpart #c(23 41)) <em>→</em> 23</p>
<p>(imagpart #c(23 41.0)) <em>→</em> 41.0</p>
<p>(realpart #c(23 41.0)) <em>→</em> 23.0</p>
<p>(imagpart 23.0) <em>→</em> 0.0</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>number</em> is not a <em>number</em> .</p>
<p><strong>See Also:</strong></p>
<p><strong>complex</strong></p>
<p>Numbers <strong>12–59</strong></p>
<p><strong>upgraded-complex-part-type</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>upgraded-complex-part-type</strong> <em>typespec</em> &amp;optional <em>environment → upgraded-typespec</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>typespec</em>—a <em>type specifier</em> .</p>
<p><em>environment</em>—an <em>environment object</em>. The default is <strong>nil</strong>, denoting the <em>null lexical environment</em> and the and current <em>global environment</em>.</p>
<p><em>upgraded-typespec</em>—a <em>type specifier</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>upgraded-complex-part-type</strong> returns the part type of the most specialized <em>complex</em> number representation that can hold parts of <em>type typespec</em>.</p>
<p>The <em>typespec</em> is a <em>subtype</em> of (and possibly <em>type equivalent</em> to) the <em>upgraded-typespec</em>.</p>
<p>The purpose of <strong>upgraded-complex-part-type</strong> is to reveal how an implementation does its <em>upgrading</em>.</p>
<p><strong>See Also:</strong></p>
<p><strong>complex</strong> (<em>function</em> and <em>type</em>)</p>
<p><strong>Notes:</strong></p>
<p><strong>realp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>realp</strong> <em>object → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>object</em>—an <em>object</em>.</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if <em>object</em> is of <em>type</em> <strong>real</strong>; otherwise, returns <em>false</em>.</p>
<p><strong>Examples:</strong></p>
<p>(realp 12) <em>→ true</em></p>
<p>(realp #c(5/3 7.2)) <em>→ false</em></p>
<p>(realp nil) <em>→ false</em></p>
<p>(realp (cons 1 2)) <em>→ false</em></p>
<p><strong>Notes:</strong></p>
<p>(realp <em>object</em>) <em>≡</em> (typep <em>object</em> ’real)</p>
<p><strong>numerator, denominator</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>numerator</strong> <em>rational → numerator</em></p>
<p><strong>denominator</strong> <em>rational → denominator</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>rational</em>—a <em>rational</em>.</p>
<p><em>numerator</em>—an <em>integer</em> .</p>
<p><em>denominator</em>—a positive <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>numerator</strong> and <strong>denominator</strong> reduce <em>rational</em> to canonical form and compute the numerator or denominator of that number.</p>
<p><strong>numerator</strong> and <strong>denominator</strong> return the numerator or denominator of the canonical form of <em>rational</em>.</p>
<p>If <em>rational</em> is an <em>integer</em> , <strong>numerator</strong> returns <em>rational</em> and <strong>denominator</strong> returns 1.</p>
<p><strong>Examples:</strong></p>
<p>(numerator 1/2) <em>→</em> 1</p>
<p>(denominator 12/36) <em>→</em> 3</p>
<p>(numerator -1) <em>→</em> -1</p>
<p>(denominator (/ -33)) <em>→</em> 33</p>
<p>(numerator (/ 8 -6)) <em>→</em> -4</p>
<p>(denominator (/ 8 -6)) <em>→</em> 3</p>
<p><strong>See Also:</strong></p>
<p><strong>/</strong></p>
<p>Numbers <strong>12–61</strong></p>
<p><strong>Notes:</strong></p>
<p>(gcd (numerator x) (denominator x)) <em>→</em> 1</p>
<p><strong>rational, rationalize</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>rational</strong> <em>number → rational</em></p>
<p><strong>rationalize</strong> <em>number → rational</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>number</em>—a <em>real</em>.</p>
<p><em>rational</em>—a <em>rational</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>rational</strong> and <strong>rationalize</strong> convert <em>reals</em> to <em>rationals</em>.</p>
<p>If <em>number</em> is already <em>rational</em>, it is returned.</p>
<p>If <em>number</em> is a <em>float</em>, <strong>rational</strong> returns a <em>rational</em> that is mathematically equal in value to the <em>float</em>. <strong>rationalize</strong> returns a <em>rational</em> that approximates the <em>float</em> to the accuracy of the underlying floating-point representation.</p>
<p><strong>rational</strong> assumes that the <em>float</em> is completely accurate.</p>
<p><strong>rationalize</strong> assumes that the <em>float</em> is accurate only to the precision of the floating-point representation.</p>
<p><strong>Examples:</strong></p>
<p>(rational 0) <em>→</em> 0</p>
<p>(rationalize -11/100) <em>→</em> -11/100</p>
<p>(rational .1) <em>→</em> 13421773/134217728 ;implementation-dependent</p>
<p>(rationalize .1) <em>→</em> 1/10</p>
<p><strong>Affected By:</strong></p>
<p>The <em>implementation</em>.</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>number</em> is not a <em>real</em>. Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>Notes:</strong></p>
<p>It is always the case that</p>
<p>(float (rational x) x) <em>≡</em> x</p>
<p>and</p>
<p>(float (rationalize x) x) <em>≡</em> x</p>
<p>That is, rationalizing a <em>float</em> by either method and then converting it back to a <em>float</em> of the same format produces the original <em>number</em>.</p>
<p><strong>rationalp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>rationalp</strong> <em>object → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>object</em>—an <em>object</em>.</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if <em>object</em> is of <em>type</em> <strong>rational</strong>; otherwise, returns <em>false</em>.</p>
<p><strong>Examples:</strong></p>
<p>(rationalp 12) <em>→ true</em></p>
<p>(rationalp 6/5) <em>→ true</em></p>
<p>(rationalp 1.212) <em>→ false</em></p>
<p><strong>See Also:</strong></p>
<p><strong>rational</strong></p>
<p><strong>Notes:</strong></p>
<p>(rationalp <em>object</em>) <em>≡</em> (typep <em>object</em> ’rational)</p>
<p>Numbers <strong>12–63</strong></p>
<p><strong>ash</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>ash</strong> <em>integer count → shifted-integer</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>count</em>—an <em>integer</em> .</p>
<p><em>shifted-integer</em>—an <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>ash</strong> performs the arithmetic shift operation on the binary representation of <em>integer</em>, which is treated as if it were binary.</p>
<p><strong>ash</strong> shifts <em>integer</em> arithmetically left by <em>count</em> bit positions if <em>count</em> is positive, or right <em>count</em> bit positions if <em>count</em> is negative. The shifted value of the same sign as <em>integer</em> is returned.</p>
<p>Mathematically speaking, &lt;b&gt;ash&lt;/b&gt; performs the computation floor(&lt;i&gt;integer·&lt;/i&gt;2&lt;i&gt;&lt;sup&gt;count&lt;/sup&gt;&lt;/i&gt;). Logically, &lt;b&gt;ash&lt;/b&gt; moves all of the bits in &lt;i&gt;integer&lt;/i&gt; to the left, adding zero-bits at the right, or moves them to the right, discarding bits.</p>
<p><strong>ash</strong> is defined to behave as if <em>integer</em> were represented in two’s complement form, regardless of how <em>integers</em> are represented internally.</p>
<p><strong>Examples:</strong></p>
<p>(ash 16 1) <em>→</em> 32</p>
<p>(ash 16 0) <em>→</em> 16</p>
<p>(ash 16 -1) <em>→</em> 8</p>
<p>(ash -100000000000000000000000000000000 -100) <em>→</em> -79</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>integer</em> is not an <em>integer</em> . Should signal an error of <em>type</em> <strong>type-error</strong> if <em>count</em> is not an <em>integer</em> . Might signal <strong>arithmetic-error</strong>.</p>
<p><strong>Notes:</strong></p>
<p>(logbitp <em>j</em> (ash <em>n k</em>))</p>
<p><em>≡</em> (and (&gt;= <em>j k</em>) (logbitp (- <em>j k</em>) <em>n</em>))</p>
<p><strong>integer-length</strong></p>
<p><strong>integer-length</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>integer-length</strong> <em>integer → number-of-bits</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>number-of-bits</em>—a non-negative <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p>Returns the number of bits needed to represent <em>integer</em> in binary two’s-complement format. <strong>Examples:</strong></p>
<p>(integer-length 0) <em>→</em> 0</p>
<p>(integer-length 1) <em>→</em> 1</p>
<p>(integer-length 3) <em>→</em> 2</p>
<p>(integer-length 4) <em>→</em> 3</p>
<p>(integer-length 7) <em>→</em> 3</p>
<p>(integer-length -1) <em>→</em> 0</p>
<p>(integer-length -4) <em>→</em> 2</p>
<p>(integer-length -7) <em>→</em> 3</p>
<p>(integer-length -8) <em>→</em> 3</p>
<p>(integer-length (expt 2 9)) <em>→</em> 10</p>
<p>(integer-length (1- (expt 2 9))) <em>→</em> 9</p>
<p>(integer-length (- (expt 2 9))) <em>→</em> 9</p>
<p>(integer-length (- (1+ (expt 2 9)))) <em>→</em> 10</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>integer</em> is not an <em>integer</em> .</p>
<p><strong>Notes:</strong></p>
<p>This function could have been defined by:</p>
<p>(defun integer-length (integer)</p>
<p>(ceiling (log (if (minusp integer)</p>
<p>(- integer)</p>
<p>(1+ integer))</p>
<p>2)))</p>
<p>If <em>integer</em> is non-negative, then its value can be represented in unsigned binary form in a field whose width in bits is no smaller than (integer-length <em>integer</em>). Regardless of the sign of <em>integer</em>, its value can be represented in signed binary two’s-complement form in a field whose width in bits is no smaller than (+ (integer-length <em>integer</em>) 1).</p>
<p>Numbers <strong>12–65</strong></p>
<p><strong>integerp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>integerp</strong> <em>object → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>object</em>—an <em>object</em>.</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if <em>object</em> is of <em>type</em> <strong>integer</strong>; otherwise, returns <em>false</em>.</p>
<p><strong>Examples:</strong></p>
<p>(integerp 1) <em>→ true</em></p>
<p>(integerp (expt 2 130)) <em>→ true</em></p>
<p>(integerp 6/5) <em>→ false</em></p>
<p>(integerp nil) <em>→ false</em></p>
<p><strong>Notes:</strong></p>
<p>(integerp <em>object</em>) <em>≡</em> (typep <em>object</em> ’integer)</p>
<p><strong>parse-integer</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>parse-integer</strong> <em>string</em> &amp;key <em>start end radix junk-allowed → integer, pos</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>string</em>—a <em>string</em>.</p>
<p><em>start</em>, <em>end</em>—<em>bounding index designators</em> of <em>string</em>. The defaults for <em>start</em> and <em>end</em> are 0 and <strong>nil</strong>, respectively.</p>
<p><em>radix</em>—a <em>radix</em> . The default is 10.</p>
<p><em>junk-allowed</em>—a <em>generalized boolean</em>. The default is <em>false</em>.</p>
<p><em>integer</em>—an <em>integer</em> or <em>false</em>.</p>
<p><em>pos</em>—a <em>bounding index</em> of <em>string</em>.</p>
<p><strong>Description:</strong></p>
<p><strong>parse-integer</strong> parses an <em>integer</em> in the specified <em>radix</em> from the substring of <em>string</em> delimited by <em>start</em> and <em>end</em>.</p>
<p><strong>parse-integer</strong> expects an optional sign (+ or -) followed by a a non-empty sequence of digits to be interpreted in the specified <em>radix</em>. Optional leading and trailing <em>whitespace</em>&lt;sub&gt;1&lt;/sub&gt; is ignored.</p>
<p><strong>parse-integer</strong> does not recognize the syntactic radix-specifier prefixes #O, #B, #X, and #<em>n</em>R, nor does it recognize a trailing decimal point.</p>
<p>If <em>junk-allowed</em> is <em>false</em>, an error of <em>type</em> <strong>parse-error</strong> is signaled if substring does not consist entirely of the representation of a signed <em>integer</em> , possibly surrounded on either side by <em>whitespace</em>&lt;sub&gt;1&lt;/sub&gt; <em>characters</em>.</p>
<p>The first <em>value</em> returned is either the <em>integer</em> that was parsed, or else <strong>nil</strong> if no syntactically correct <em>integer</em> was seen but <em>junk-allowed</em> was <em>true</em>.</p>
<p>The second <em>value</em> is either the index into the <em>string</em> of the delimiter that terminated the parse, or the upper <em>bounding index</em> of the substring if the parse terminated at the end of the substring (as is always the case if <em>junk-allowed</em> is <em>false</em>).</p>
<p><strong>Examples:</strong></p>
<p>(parse-integer &quot;123&quot;) <em>→</em> 123, 3</p>
<p>(parse-integer &quot;123&quot; <!-- -->:start<!-- --> 1 <!-- -->:radix<!-- --> 5) <em>→</em> 13, 3</p>
<p>(parse-integer &quot;no-integer&quot; <!-- -->:junk-allowed<!-- --> t) <em>→</em> NIL, 0</p>
<p><strong>Exceptional Situations:</strong></p>
<p>If <em>junk-allowed</em> is <em>false</em>, an error is signaled if substring does not consist entirely of the representation of an <em>integer</em> , possibly surrounded on either side by <em>whitespace</em>&lt;sub&gt;1&lt;/sub&gt; characters.</p>
<p><strong>boole</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>boole</strong> <em>op integer-1 integer-2 → result-integer</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>Op</em>—a <em>bit-wise logical operation specifier</em> .</p>
<p><em>integer-1</em>—an <em>integer</em> .</p>
<p>Numbers <strong>12–67</strong></p>
<p><strong>boole</strong></p>
<p><em>integer-2</em>—an <em>integer</em> .</p>
<p><em>result-integer</em>—an <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>boole</strong> performs bit-wise logical operations on <em>integer-1</em> and <em>integer-2</em>, which are treated as if they were binary and in two’s complement representation.</p>
<p>The operation to be performed and the return value are determined by <em>op</em>.</p>
<p><strong>boole</strong> returns the values specified for any <em>op</em> in Figure 12–17.</p>
<table><thead><tr><th style="text-align:left"><strong>Op Result</strong></th></tr></thead><tbody><tr><td style="text-align:left">&lt;p&gt;<strong>boole-1</strong> <em>integer-1</em> &lt;/p&gt;&lt;p&gt;<strong>boole-2</strong> <em>integer-2</em> &lt;/p&gt;&lt;p&gt;<strong>boole-andc1</strong> and complement of <em>integer-1</em> with <em>integer-2</em> &lt;/p&gt;&lt;p&gt;<strong>boole-andc2</strong> and <em>integer-1</em> with complement of <em>integer-2</em> &lt;/p&gt;&lt;p&gt;<strong>boole-and</strong> and &lt;/p&gt;&lt;p&gt;<strong>boole-c1</strong> complement of <em>integer-1</em> &lt;/p&gt;&lt;p&gt;<strong>boole-c2</strong> complement of <em>integer-2</em> &lt;/p&gt;&lt;p&gt;<strong>boole-clr</strong> always 0 (all zero bits) &lt;/p&gt;&lt;p&gt;<strong>boole-eqv</strong> equivalence (exclusive nor) &lt;/p&gt;&lt;p&gt;<strong>boole-ior</strong> inclusive or &lt;/p&gt;&lt;p&gt;<strong>boole-nand</strong> not-and &lt;/p&gt;&lt;p&gt;<strong>boole-nor</strong> not-or &lt;/p&gt;&lt;p&gt;<strong>boole-orc1</strong> or complement of <em>integer-1</em> with <em>integer-2</em> &lt;/p&gt;&lt;p&gt;<strong>boole-orc2</strong> or <em>integer-1</em> with complement of <em>integer-2</em> &lt;/p&gt;&lt;p&gt;<strong>boole-set</strong> always -1 (all one bits) &lt;/p&gt;&lt;p&gt;<strong>boole-xor</strong> exclusive or&lt;/p&gt;</td></tr></tbody></table>
<p><strong>Figure 12–17. Bit-Wise Logical Operations</strong></p>
<p><strong>Examples:</strong></p>
<p>(boole boole-ior 1 16) <em>→</em> 17</p>
<p>(boole boole-and -2 5) <em>→</em> 4</p>
<p>(boole boole-eqv 17 15) <em>→</em> -31</p>
<p>;;; These examples illustrate the result of applying BOOLE and each</p>
<p>;;; of the possible values of OP to each possible combination of bits.</p>
<p>(progn</p>
<p>(format t &quot;<del>&amp;Results of (BOOLE &lt;op&gt; #b0011 #b0101) ...</del></p>
<p><del>%–-Op–––-Decimal––-Binary––Bits–-</del>%&quot;)</p>
<p>(dolist (symbol ’(boole-1 boole-2 boole-and boole-andc1</p>
<p>boole-andc2 boole-c1 boole-c2 boole-clr</p>
<p>boole-eqv boole-ior boole-nand boole-nor</p>
<p><strong>boole</strong></p>
<p>boole-orc1 boole-orc2 boole-set boole-xor))</p>
<p>(let ((result (boole (symbol-value symbol) #b0011 #b0101)))</p>
<p>(format t &quot;<del>&amp; <del>A</del>13T</del>3,’ D<del>23T</del>:*<del>5,’ B</del>31T ...<del>4,’0B</del>%&quot;</p>
<p>symbol result (logand result #b1111)))))</p>
<p>▷ Results of (BOOLE &lt;op&gt; #b0011 #b0101) ...</p>
<p>▷ –-Op–––-Decimal––-Binary––Bits–-</p>
<p>▷ BOOLE-1 3 11 ...0011</p>
<p>▷ BOOLE-2 5 101 ...0101</p>
<p>▷ BOOLE-AND 1 1 ...0001</p>
<p>▷ BOOLE-ANDC1 4 100 ...0100</p>
<p>▷ BOOLE-ANDC2 2 10 ...0010</p>
<p>▷ BOOLE-C1 -4 -100 ...1100</p>
<p>▷ BOOLE-C2 -6 -110 ...1010</p>
<p>▷ BOOLE-CLR 0 0 ...0000</p>
<p>▷ BOOLE-EQV -7 -111 ...1001</p>
<p>▷ BOOLE-IOR 7 111 ...0111</p>
<p>▷ BOOLE-NAND -2 -10 ...1110</p>
<p>▷ BOOLE-NOR -8 -1000 ...1000</p>
<p>▷ BOOLE-ORC1 -3 -11 ...1101</p>
<p>▷ BOOLE-ORC2 -5 -101 ...1011</p>
<p>▷ BOOLE-SET -1 -1 ...1111</p>
<p>▷ BOOLE-XOR 6 110 ...0110</p>
<p><em>→</em> NIL</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal <strong>type-error</strong> if its first argument is not a <em>bit-wise logical operation specifier</em> or if any subsequent argument is not an <em>integer</em> .</p>
<p><strong>See Also:</strong></p>
<p><strong>logand</strong></p>
<p><strong>Notes:</strong></p>
<p>In general,</p>
<p>(boole boole-and x y) <em>≡</em> (logand x y)</p>
<p><em>Programmers</em> who would prefer to use numeric indices rather than <em>bit-wise logical operation specifiers</em> can get an equivalent effect by a technique such as the following:</p>
<p>;; The order of the values in this ‘table’ are such that</p>
<p>;; (logand (boole (elt boole-n-vector n) #b0101 #b0011) #b1111) =&gt; n</p>
<p>(defconstant boole-n-vector</p>
<p>(vector boole-clr boole-and boole-andc1 boole-2</p>
<p>boole-andc2 boole-1 boole-xor boole-ior</p>
<p>boole-nor boole-eqv boole-c1 boole-orc1</p>
<p>Numbers <strong>12–69</strong></p>
<p>boole-c2 boole-orc2 boole-nand boole-set))</p>
<p><em>→</em> BOOLE-N-VECTOR</p>
<p>(proclaim ’(inline boole-n))</p>
<p><em>→ implementation-dependent</em></p>
<p>(defun boole-n (n integer &amp;rest more-integers)</p>
<p>(apply #’boole (elt boole-n-vector n) integer more-integers))</p>
<p><em>→</em> BOOLE-N</p>
<p>(boole-n #b0111 5 3) <em>→</em> 7</p>
<p>(boole-n #b0001 5 3) <em>→</em> 1</p>
<p>(boole-n #b1101 5 3) <em>→</em> -3</p>
<p>(loop for n from #b0000 to #b1111 collect (boole-n n 5 3))</p>
<p><em>→</em> (0 1 2 3 4 5 6 7 -8 -7 -6 -5 -4 -3 -2 -1)</p>
<p>&lt;b&gt;&lt;sup&gt;boole-1, boole-2, boole-and, boole-andc1, boole&lt;/sup&gt; andc2, boole-c1, boole-c2, boole-clr, boole-eqv, boole-ior, boole-nand, boole-nor, boole-orc1, boole-orc2, boole-set, boole-xor&lt;/b&gt; &lt;i&gt;Constant Variable&lt;/i&gt;</p>
<p><strong>Constant Value:</strong></p>
<p>The identity and nature of the <em>values</em> of each of these <em>variables</em> is <em>implementation-dependent</em>, except that it must be <em>distinct</em> from each of the <em>values</em> of the others, and it must be a valid first <em>argument</em> to the <em>function</em> <strong>boole</strong>.</p>
<p><strong>Description:</strong></p>
<p>Each of these <em>constants</em> has a <em>value</em> which is one of the sixteen possible <em>bit-wise logical operation specifiers</em>.</p>
<p><strong>Examples:</strong></p>
<p>(boole boole-ior 1 16) <em>→</em> 17</p>
<p>(boole boole-and -2 5) <em>→</em> 4</p>
<p>(boole boole-eqv 17 15) <em>→</em> -31</p>
<p><strong>See Also:</strong></p>
<p><strong>boole</strong></p>
<p><strong>logand, logandc1, logandc2, logeqv, logior, lognand,</strong> <em>. . .</em></p>
<p><strong>logand, logandc1, logandc2, logeqv, logior, lognand, lognor, lognot, logorc1, logorc2, logxor</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>logand</strong> &amp;rest <em>integers → result-integer</em></p>
<p><strong>logandc1</strong> <em>integer-1 integer-2 → result-integer</em></p>
<p><strong>logandc2</strong> <em>integer-1 integer-2 → result-integer</em></p>
<p><strong>logeqv</strong> &amp;rest <em>integers → result-integer</em></p>
<p><strong>logior</strong> &amp;rest <em>integers → result-integer</em></p>
<p><strong>lognand</strong> <em>integer-1 integer-2 → result-integer</em></p>
<p><strong>lognor</strong> <em>integer-1 integer-2 → result-integer</em></p>
<p><strong>lognot</strong> <em>integer → result-integer</em></p>
<p><strong>logorc1</strong> <em>integer-1 integer-2 → result-integer</em></p>
<p><strong>logorc2</strong> <em>integer-1 integer-2 → result-integer</em></p>
<p><strong>logxor</strong> &amp;rest <em>integers → result-integer</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integers</em>—<em>integers</em>.</p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>integer-1</em>—an <em>integer</em> .</p>
<p><em>integer-2</em>—an <em>integer</em> .</p>
<p><em>result-integer</em>—an <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p>The <em>functions</em> <strong>logandc1</strong>, <strong>logandc2</strong>, <strong>logand</strong>, <strong>logeqv</strong>, <strong>logior</strong>, <strong>lognand</strong>, <strong>lognor</strong>, <strong>lognot</strong>, <strong>logorc1</strong>, <strong>logorc2</strong>, and <strong>logxor</strong> perform bit-wise logical operations on their <em>arguments</em>, that are treated as if they were binary.</p>
<p>Figure 12–18 lists the meaning of each of the <em>functions</em>. Where an ‘identity’ is shown, it indicates the <em>value yielded</em> by the <em>function</em> when no <em>arguments</em> are supplied.</p>
<p>Numbers <strong>12–71</strong></p>
<p><strong>logand, logandc1, logandc2, logeqv, logior, lognand,</strong> <em>. . .</em></p>
<table><thead><tr><th style="text-align:left"><strong>Function Identity Operation performed</strong></th></tr></thead><tbody><tr><td style="text-align:left">&lt;p&gt;<strong>logandc1</strong> — and complement of <em>integer-1</em> with <em>integer-2</em> <strong>logandc2</strong> — and <em>integer-1</em> with complement of <em>integer-2</em> <strong>logand</strong> -1 and &lt;/p&gt;&lt;p&gt;<strong>logeqv</strong> -1 equivalence (exclusive nor) &lt;/p&gt;&lt;p&gt;<strong>logior</strong> 0 inclusive or &lt;/p&gt;&lt;p&gt;<strong>lognand</strong> — complement of <em>integer-1</em> and <em>integer-2</em> <strong>lognor</strong> — complement of <em>integer-1</em> or <em>integer-2</em> <strong>lognot</strong> — complement &lt;/p&gt;&lt;p&gt;<strong>logorc1</strong> — or complement of <em>integer-1</em> with <em>integer-2</em> <strong>logorc2</strong> — or <em>integer-1</em> with complement of <em>integer-2</em> <strong>logxor</strong> 0 exclusive or&lt;/p&gt;</td></tr></tbody></table>
<p><strong>Figure 12–18. Bit-wise Logical Operations on Integers</strong></p>
<p>Negative <em>integers</em> are treated as if they were in two’s-complement notation.</p>
<p><strong>Examples:</strong></p>
<p>(logior 1 2 4 8) <em>→</em> 15</p>
<p>(logxor 1 3 7 15) <em>→</em> 10</p>
<p>(logeqv) <em>→</em> -1</p>
<p>(logand 16 31) <em>→</em> 16</p>
<p>(lognot 0) <em>→</em> -1</p>
<p>(lognot 1) <em>→</em> -2</p>
<p>(lognot -1) <em>→</em> 0</p>
<p>(lognot (1+ (lognot 1000))) <em>→</em> 999</p>
<p>;;; In the following example, m is a mask. For each bit in</p>
<p>;;; the mask that is a 1, the corresponding bits in x and y are</p>
<p>;;; exchanged. For each bit in the mask that is a 0, the</p>
<p>;;; corresponding bits of x and y are left unchanged.</p>
<p>(flet ((show (m x y)</p>
<p>(format t &quot;<del>%m = #o</del>6,’0O~%x = #o<del>6,’0O</del>%y = #o<del>6,’0O</del>%&quot;</p>
<p>m x y)))</p>
<p>(let ((m #o007750)</p>
<p>(x #o452576)</p>
<p>(y #o317407))</p>
<p>(show m x y)</p>
<p>(let ((z (logand (logxor x y) m)))</p>
<p>(setq x (logxor z x))</p>
<p>(setq y (logxor z y))</p>
<p>(show m x y))))</p>
<p>▷ m = #o007750</p>
<p>▷ x = #o452576</p>
<p>▷ y = #o317407</p>
<p>▷</p>
<p>▷ m = #o007750</p>
<p>▷ x = #o457426</p>
<p>▷ y = #o312557</p>
<p><em>→</em> NIL</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal <strong>type-error</strong> if any argument is not an <em>integer</em> .</p>
<p><strong>See Also:</strong></p>
<p><strong>boole</strong></p>
<p><strong>Notes:</strong></p>
<p>(logbitp <em>k</em> -1) returns <em>true</em> for all values of <em>k</em>.</p>
<p>Because the following functions are not associative, they take exactly two arguments rather than any number of arguments.</p>
<p>(lognand <em>n1 n2</em>) <em>≡</em> (lognot (logand <em>n1 n2</em>))</p>
<p>(lognor <em>n1 n2</em>) <em>≡</em> (lognot (logior <em>n1 n2</em>))</p>
<p>(logandc1 <em>n1 n2</em>) <em>≡</em> (logand (lognot <em>n1</em>) <em>n2</em>)</p>
<p>(logandc2 <em>n1 n2</em>) <em>≡</em> (logand <em>n1</em> (lognot <em>n2</em>))</p>
<p>(logiorc1 <em>n1 n2</em>) <em>≡</em> (logior (lognot <em>n1</em>) <em>n2</em>)</p>
<p>(logiorc2 <em>n1 n2</em>) <em>≡</em> (logior <em>n1</em> (lognot <em>n2</em>))</p>
<p>(logbitp <em>j</em> (lognot <em>x</em>)) <em>≡</em> (not (logbitp <em>j x</em>))</p>
<p><strong>logbitp</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>logbitp</strong> <em>index integer → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>index</em>—a non-negative <em>integer</em> .</p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p>Numbers <strong>12–73</strong></p>
<p><strong>Description:</strong></p>
<p>&lt;b&gt;logbitp&lt;/b&gt; is used to test the value of a particular bit in &lt;i&gt;integer&lt;/i&gt;, that is treated as if it were binary. The value of &lt;b&gt;logbitp&lt;/b&gt; is &lt;i&gt;true&lt;/i&gt; if the bit in &lt;i&gt;integer&lt;/i&gt; whose index is &lt;i&gt;index&lt;/i&gt; (that is, its weight is 2&lt;i&gt;&lt;sup&gt;index&lt;/sup&gt;&lt;/i&gt; ) is a one-bit; otherwise it is &lt;i&gt;false&lt;/i&gt;.</p>
<p>Negative <em>integers</em> are treated as if they were in two’s-complement notation.</p>
<p><strong>Examples:</strong></p>
<p>(logbitp 1 1) <em>→ false</em></p>
<p>(logbitp 0 1) <em>→ true</em></p>
<p>(logbitp 3 10) <em>→ true</em></p>
<p>(logbitp 1000000 -1) <em>→ true</em></p>
<p>(logbitp 2 6) <em>→ true</em></p>
<p>(logbitp 0 6) <em>→ false</em></p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>index</em> is not a non-negative <em>integer</em> . Should signal an error of <em>type</em> <strong>type-error</strong> if <em>integer</em> is not an <em>integer</em> .</p>
<p><strong>Notes:</strong></p>
<p>(logbitp <em>k n</em>) <em>≡</em> (ldb-test (byte 1 <em>k</em>) <em>n</em>)</p>
<p><strong>logcount</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>logcount</strong> <em>integer → number-of-on-bits</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>number-of-on-bits</em>—a non-negative <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p>Computes and returns the number of bits in the two’s-complement binary representation of <em>integer</em> that are ‘on’ or ‘set’. If <em>integer</em> is negative, the 0 bits are counted; otherwise, the 1 bits are counted.</p>
<p><strong>Examples:</strong></p>
<p>(logcount 0) <em>→</em> 0</p>
<p>(logcount -1) <em>→</em> 0</p>
<p>(logcount 7) <em>→</em> 3</p>
<p>(logcount 13) <em>→</em> 3 ;Two’s-complement binary: ...0001101</p>
<p>(logcount -13) <em>→</em> 2 ;Two’s-complement binary: ...1110011</p>
<p>(logcount 30) <em>→</em> 4 ;Two’s-complement binary: ...0011110</p>
<p>(logcount -30) <em>→</em> 4 ;Two’s-complement binary: ...1100010</p>
<p>(logcount (expt 2 100)) <em>→</em> 1</p>
<p>(logcount (- (expt 2 100))) <em>→</em> 100</p>
<p>(logcount (- (1+ (expt 2 100)))) <em>→</em> 1</p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal <strong>type-error</strong> if its argument is not an <em>integer</em> .</p>
<p><strong>Notes:</strong></p>
<p>Even if the <em>implementation</em> does not represent <em>integers</em> internally in two’s complement binary, <strong>logcount</strong> behaves as if it did.</p>
<p>The following identity always holds:</p>
<p>(logcount <em>x</em>)</p>
<p><em>≡</em> (logcount (- (+ <em>x</em> 1)))</p>
<p><em>≡</em> (logcount (lognot <em>x</em>))</p>
<p><strong>logtest</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>logtest</strong> <em>integer-1 integer-2 → generalized-boolean</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>integer-1</em>—an <em>integer</em> .</p>
<p><em>integer-2</em>—an <em>integer</em> .</p>
<p><em>generalized-boolean</em>—a <em>generalized boolean</em>.</p>
<p><strong>Description:</strong></p>
<p>Returns <em>true</em> if any of the bits designated by the 1’s in <em>integer-1</em> is 1 in <em>integer-2</em>; otherwise it is <em>false</em>. <em>integer-1</em> and <em>integer-2</em> are treated as if they were binary.</p>
<p>Negative <em>integer-1</em> and <em>integer-2</em> are treated as if they were represented in two’s-complement binary. <strong>Examples:</strong></p>
<p>(logtest 1 7) <em>→ true</em></p>
<p>(logtest 1 2) <em>→ false</em></p>
<p>Numbers <strong>12–75</strong></p>
<p>(logtest -2 -1) <em>→ true</em></p>
<p>(logtest 0 -1) <em>→ false</em></p>
<p><strong>Exceptional Situations:</strong></p>
<p>Should signal an error of <em>type</em> <strong>type-error</strong> if <em>integer-1</em> is not an <em>integer</em> . Should signal an error of <em>type</em> <strong>type-error</strong> if <em>integer-2</em> is not an <em>integer</em> .</p>
<p><strong>Notes:</strong></p>
<p>(logtest <em>x y</em>) <em>≡</em> (not (zerop (logand <em>x y</em>)))</p>
<p><strong>byte, byte-size, byte-position</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>byte</strong> <em>size position → bytespec</em></p>
<p><strong>byte-size</strong> <em>bytespec → size</em></p>
<p><strong>byte-position</strong> <em>bytespec → position</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>size</em>, <em>position</em>—a non-negative <em>integer</em> .</p>
<p><em>bytespec</em>—a <em>byte specifier</em> .</p>
<p><strong>Description:</strong></p>
<p>&lt;b&gt;byte&lt;/b&gt; returns a &lt;i&gt;byte specifier&lt;/i&gt; that indicates a &lt;i&gt;byte&lt;/i&gt; of width &lt;i&gt;size&lt;/i&gt; and whose bits have weights 2&lt;sup&gt;&lt;i&gt;position&lt;/i&gt;+&lt;i&gt;size−&lt;/i&gt;1&lt;/sup&gt;through 2&lt;i&gt;&lt;sup&gt;position&lt;/sup&gt;&lt;/i&gt;, and whose representation is &lt;i&gt;implementation-dependent&lt;/i&gt;.</p>
<p><strong>byte-size</strong> returns the number of bits specified by <em>bytespec</em>.</p>
<p><strong>byte-position</strong> returns the position specified by <em>bytespec</em>.</p>
<p><strong>Examples:</strong></p>
<p>(setq b (byte 100 200)) <em>→</em> #&lt;BYTE-SPECIFIER size 100 position 200&gt;</p>
<p>(byte-size b) <em>→</em> 100</p>
<p>(byte-position b) <em>→</em> 200</p>
<p><strong>See Also:</strong></p>
<p><strong>ldb</strong>, <strong>dpb</strong></p>
<p><strong>Notes:</strong></p>
<p>(byte-size (byte <em>j k</em>)) <em>≡ j</em></p>
<p>(byte-position (byte <em>j k</em>)) <em>≡ k</em></p>
<p>A <em>byte</em> of <em>size</em> of 0 is permissible; it refers to a <em>byte</em> of width zero. For example,</p>
<p>(ldb (byte 0 3) #o7777) <em>→</em> 0</p>
<p>(dpb #o7777 (byte 0 3) 0) <em>→</em> 0</p>
<p><strong>deposit-field</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>deposit-field</strong> <em>newbyte bytespec integer → result-integer</em></p>
<p><strong>Arguments and Values:</strong></p>
<p><em>newbyte</em>—an <em>integer</em> .</p>
<p><em>bytespec</em>—a <em>byte specifier</em> .</p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>result-integer</em>—an <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p>Replaces a field of bits within <em>integer</em>; specifically, returns an <em>integer</em> that contains the bits of <em>newbyte</em> within the <em>byte</em> specified by <em>bytespec</em>, and elsewhere contains the bits of <em>integer</em>.</p>
<p><strong>Examples:</strong></p>
<p>(deposit-field 7 (byte 2 1) 0) <em>→</em> 6</p>
<p>(deposit-field -1 (byte 4 0) 0) <em>→</em> 15</p>
<p>(deposit-field 0 (byte 2 1) -3) <em>→</em> -7</p>
<p><strong>See Also:</strong></p>
<p><strong>byte</strong>, <strong>dpb</strong></p>
<p><strong>Notes:</strong></p>
<p>(logbitp <em>j</em> (deposit-field <em>m</em> (byte <em>s p</em>) <em>n</em>))</p>
<p><em>≡</em> (if (and (&gt;= <em>j p</em>) (&lt; <em>j</em> (+ <em>p s</em>)))</p>
<p>(logbitp <em>j m</em>)</p>
<p>(logbitp <em>j n</em>))</p>
<p>Numbers <strong>12–77</strong></p>
<p><strong>deposit-field</strong> is to <strong>mask-field</strong> as <strong>dpb</strong> is to <strong>ldb</strong>.</p>
<p><strong>dpb</strong> <em>Function</em></p>
<p><strong>Syntax:</strong></p>
<p><strong>dpb</strong> <em>newbyte bytespec integer → result-integer</em></p>
<p><strong>Pronunciation:</strong></p>
<p>[ <strong>d</strong>*  <strong>pib</strong> ] or [ <strong>d</strong>*  <strong>p</strong>* <strong>b</strong> ] or [ <strong>d—e p—e b—e</strong> ]</p>
<p><strong>Arguments and Values:</strong></p>
<p><em>newbyte</em>—an <em>integer</em> .</p>
<p><em>bytespec</em>—a <em>byte specifier</em> .</p>
<p><em>integer</em>—an <em>integer</em> .</p>
<p><em>result-integer</em>—an <em>integer</em> .</p>
<p><strong>Description:</strong></p>
<p><strong>dpb</strong> (deposit byte) is used to replace a field of bits within <em>integer</em>. <strong>dpb</strong> returns an <em>integer</em> that is the same as <em>integer</em> except in the bits specified by <em>bytespec</em>.</p>
<p>Let s be the size specified by <em>bytespec</em>; then the low s bits of <em>newbyte</em> appear in the result in the byte specified by <em>bytespec</em>. <em>Newbyte</em> is interpreted as being right-justified, as if it were the result of <strong>ldb</strong>.</p>
<p><strong>Examples:</strong></p>
<p>(dpb 1 (byte 1 10) 0) <em>→</em> 1024</p>
<p>(dpb -2 (byte 2 10) 0) <em>→</em> 2048</p>
<p>(dpb 1 (byte 2 10) 2048) <em>→</em> 1024</p>
<p><strong>See Also:</strong></p>
<p><strong>byte</strong>, <strong>deposit-field</strong>, <strong>ldb</strong></p>
<p><strong>Notes:</strong></p>
<p>(logbitp <em>j</em> (dpb <em>m</em> (byte <em>s p</em>) <em>n</em>))</p>
<p><em>≡</em> (if (and (&gt;= <em>j p</em>) (&lt; <em>j</em> (+ <em>p s</em>)))</p>
<p>(logbitp (- <em>j p</em>) <em>m</em>)</p>
<p>(logbitp <em>j n</em>))</p>
<p>In general,</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-12/bc-b-number-concepts.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cl-language-reference/docs/category/12-numbers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">12. Numbers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cl-language-reference/docs/chap-12/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">intro</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1211-numeric-operations" class="table-of-contents__link toc-highlight">12.1.1 Numeric Operations</a><ul><li><a href="#12111-associativity-and-commutativity-in-numeric-operations" class="table-of-contents__link toc-highlight">12.1.1.1 Associativity and Commutativity in Numeric Operations</a></li><li><a href="#12112-contagion-in-numeric-operations" class="table-of-contents__link toc-highlight">12.1.1.2 Contagion in Numeric Operations</a></li><li><a href="#12113-viewing-integers-as-bits-and-bytes" class="table-of-contents__link toc-highlight">12.1.1.3 Viewing Integers as Bits and Bytes</a></li></ul></li><li><a href="#1212-implementation" class="table-of-contents__link toc-highlight">12.1.2 Implementation</a></li><li><a href="#1213-rational-computations" class="table-of-contents__link toc-highlight">12.1.3 Rational Computations</a><ul><li><a href="#12131-rule-of-unbounded-rational-precision" class="table-of-contents__link toc-highlight">12.1.3.1 Rule of Unbounded Rational Precision</a></li><li><a href="#12132-rule-of-canonical-representation-for-rationals" class="table-of-contents__link toc-highlight">12.1.3.2 Rule of Canonical Representation for Rationals</a></li><li><a href="#12133-rule-of-float-substitutability" class="table-of-contents__link toc-highlight">12.1.3.3 Rule of Float Substitutability</a></li></ul></li><li><a href="#1214-floating" class="table-of-contents__link toc-highlight">12.1.4 Floating</a><ul><li><a href="#12141-rule-of-float-and-rational-contagion" class="table-of-contents__link toc-highlight">12.1.4.1 Rule of Float and Rational Contagion</a></li><li><a href="#12142-rule-of-float-approximation" class="table-of-contents__link toc-highlight">12.1.4.2 Rule of Float Approximation</a></li><li><a href="#12143-rule-of-float-underflow-and-overflow" class="table-of-contents__link toc-highlight">12.1.4.3 Rule of Float Underflow and Overflow</a></li><li><a href="#12144-rule-of-float-precision-contagion" class="table-of-contents__link toc-highlight">12.1.4.4 Rule of Float Precision Contagion</a></li></ul></li><li><a href="#1215-complex-computations" class="table-of-contents__link toc-highlight">12.1.5 Complex Computations</a><ul><li><a href="#12151-rule-of-complex-substitutability" class="table-of-contents__link toc-highlight">12.1.5.1 Rule of Complex Substitutability</a></li><li><a href="#12152-rule-of-complex-contagion" class="table-of-contents__link toc-highlight">12.1.5.2 Rule of Complex Contagion</a></li><li><a href="#12153-rule-of-canonical-representation-for-complex-rationals" class="table-of-contents__link toc-highlight">12.1.5.3 Rule of Canonical Representation for Complex Rationals</a></li><li><a href="#12154-principal-values-and-branch-cuts" class="table-of-contents__link toc-highlight">12.1.5.4 Principal Values and Branch Cuts</a></li></ul></li><li><a href="#1216-interval-designators" class="table-of-contents__link toc-highlight">12.1.6 Interval Designators</a></li><li><a href="#1217-random" class="table-of-contents__link toc-highlight">12.1.7 Random</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cl-language-reference/docs/intro">Cl Technical Reference</a></li><li class="footer__item"><a href="https://lisp-docs.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CL Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/common-lisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/hhk46CE" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/common_lisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://irclog.tymoon.eu/libera/commonlisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">IRC<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cl-language-reference/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/lisp-docs/cl-language-reference/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 LISP Docs, MIT License. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>