"use strict";(globalThis.webpackChunkcl_language_reference=globalThis.webpackChunkcl_language_reference||[]).push([[73665],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>i});var t=r(96540);const c={},s=t.createContext(c);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},99383:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>f,frontMatter:()=>o,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"chap-5/f-d-dictionary/rotatef_macro","title":"rotatef","description":"Expanded Reference: rotatef","source":"@site/docs/chap-5/f-d-dictionary/rotatef_macro.md","sourceDirName":"chap-5/f-d-dictionary","slug":"/chap-5/f-d-dictionary/rotatef_macro","permalink":"/cl-language-reference/chap-5/f-d-dictionary/rotatef_macro","draft":false,"unlisted":false,"editUrl":"https://github.com/lisp-docs/cl-language-reference/tree/main/docs/chap-5/f-d-dictionary/rotatef_macro.md","tags":[],"version":"current","lastUpdatedBy":"Daniel Nussenbaum","frontMatter":{"title":"rotatef"},"sidebar":"tutorialSidebar","previous":{"title":"return","permalink":"/cl-language-reference/chap-5/f-d-dictionary/return_macro"},"next":{"title":"setf, psetf","permalink":"/cl-language-reference/chap-5/f-d-dictionary/setf_psetf_macro"}}');var c=r(74848),s=r(28453);function a(e){const n={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components},{DictionaryLink:r,GlossaryTerm:t}=n;return r||l("DictionaryLink",!0),t||l("GlossaryTerm",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"rotatef"})," ",(0,c.jsx)(t,{term:"macro",children:(0,c.jsx)("i",{children:"Macro"})})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(r,{term:"rotatef",children:(0,c.jsx)("b",{children:"rotatef"})})," ",(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"{place}"})}),"* ",(0,c.jsx)(n.em,{children:"!"})," ",(0,c.jsx)(r,{term:"nil",children:(0,c.jsx)("b",{children:"nil"})})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Arguments and Values:"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"place"})}),"\u2014a ",(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"place"})}),"."]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Description:"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(r,{term:"rotatef",children:(0,c.jsx)("b",{children:"rotatef"})})," modifies the values of each ",(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"place"})})," by rotating values from one ",(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"place"})})," into another."]}),"\n",(0,c.jsxs)(n.p,{children:["If a ",(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"place"})})," produces more values than there are store variables, the extra values are ignored. If a ",(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"place"})})," produces fewer values than there are store variables, the missing values are set to ",(0,c.jsx)(r,{term:"nil",children:(0,c.jsx)("b",{children:"nil"})}),"."]}),"\n",(0,c.jsxs)(n.p,{children:["In the form (rotatef ",(0,c.jsx)(n.em,{children:"place1 place2"})," ... ",(0,c.jsx)(n.em,{children:"placen"}),"), the values in ",(0,c.jsx)(n.em,{children:"place1"})," through ",(0,c.jsx)(n.em,{children:"placen"})," are ",(0,c.jsx)(t,{term:"read",children:(0,c.jsx)("i",{children:"read"})})," and ",(0,c.jsx)(n.em,{children:"written"}),". Values 2 through ",(0,c.jsx)(n.em,{children:"n"})," and value 1 are then stored into ",(0,c.jsx)(n.em,{children:"place1"})," through ",(0,c.jsx)(n.em,{children:"placen"}),". It is as if all the places form an end-around shift register that is rotated one place to the left, with the value of ",(0,c.jsx)(n.em,{children:"place1"})," being shifted around the end to ",(0,c.jsx)(n.em,{children:"placen"}),"."]}),"\n",(0,c.jsxs)(n.p,{children:["For information about the ",(0,c.jsx)(t,{term:"evaluation",children:(0,c.jsx)("i",{children:"evaluation"})})," of ",(0,c.jsx)(t,{term:"subform",children:(0,c.jsx)("i",{children:"subforms"})})," of ",(0,c.jsx)(t,{term:"place",children:(0,c.jsx)("i",{children:"places"})}),", see Section 5.1.1.1 (Evaluation of Subforms to Places)."]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lisp",children:"(let ((n 0) \n      (x (list \u2019a \u2019b \u2019c \u2019d \u2019e \u2019f \u2019g))) \n  (rotatef (nth (incf n) x) \n\t   (nth (incf n) x) \n\t   (nth (incf n) x)) \n  x) *!* (A C D B E F G) \n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"See Also:"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(r,{term:"define-setf-expander",children:(0,c.jsx)("b",{children:"define-setf-expander"})}),", ",(0,c.jsx)(r,{term:"defsetf",children:(0,c.jsx)("b",{children:"defsetf"})}),", ",(0,c.jsx)(r,{term:"setf",children:(0,c.jsx)("b",{children:"setf"})}),", ",(0,c.jsx)(r,{term:"shiftf",children:(0,c.jsx)("b",{children:"shiftf"})}),", ",(0,c.jsx)(n.strong,{children:"*macroexpand-hook*"}),", Section 5.1 (Generalized Reference)"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,c.jsxs)(n.p,{children:["The e\u21b5ect of (rotatef ",(0,c.jsx)(n.em,{children:"place1 place2"})," ... ",(0,c.jsx)(n.em,{children:"placen"}),") is roughly equivalent to"]}),"\n",(0,c.jsxs)(n.p,{children:["(psetf ",(0,c.jsx)(n.em,{children:"place1 place2"})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.em,{children:"place2 place3"})}),"\n",(0,c.jsx)(n.p,{children:"..."}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"placen place1"}),")"]}),"\n",(0,c.jsxs)(n.p,{children:["except that the latter would evaluate any ",(0,c.jsx)(t,{term:"subform",children:(0,c.jsx)("i",{children:"subforms"})})," of each place twice, whereas ",(0,c.jsx)(r,{term:"rotatef",children:(0,c.jsx)("b",{children:"rotatef"})})," evaluates them once."]}),"\n",(0,c.jsx)(n.p,{children:"Data and Control"})]})}function i(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}function l(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const o={title:"rotatef"},d="rotatef",h={},p=[{value:"Expanded Reference: rotatef",id:"expanded-reference-rotatef",level:2}];function x(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"rotatef",children:"rotatef"})}),"\n","\n",(0,c.jsx)(i,{}),"\n",(0,c.jsx)(n.h2,{id:"expanded-reference-rotatef",children:"Expanded Reference: rotatef"}),"\n",(0,c.jsx)(n.admonition,{type:"tip",children:(0,c.jsx)(n.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lisp",children:"(rotatef )\n"})})]})}function f(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(x,{...e})}):x(e)}}}]);