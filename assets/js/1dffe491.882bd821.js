"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[88385],{60365:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>a,contentTitle:()=>i,default:()=>x,frontMatter:()=>o,metadata:()=>c,toc:()=>m});var n=l(85893),r=l(11151);function d(e){const s={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components},{ClLinks:l}=s;return l||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ClLinks",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"do-symbols, do-external-symbols, do-all-symbols"})," ",(0,n.jsx)(l,{styled:!0,term:"macro",children:(0,n.jsx)("i",{children:"Macro"})})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Syntax:"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"do-symbols",children:(0,n.jsx)("b",{children:"do-symbols"})})," (",(0,n.jsx)(s.em,{children:"var"})," [",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"package"})})," [",(0,n.jsx)(s.em,{children:"result-form"}),"]])"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"declaration",children:(0,n.jsx)("i",{children:"{declaration}"})}),"* ",(0,n.jsx)(s.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,n.jsx)(s.p,{children:"\u2192 {result}*"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"do-external-symbols",children:(0,n.jsx)("b",{children:"do-external-symbols"})})," (",(0,n.jsx)(s.em,{children:"var"})," [",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"package"})})," [",(0,n.jsx)(s.em,{children:"result-form"}),"]])"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"declaration",children:(0,n.jsx)("i",{children:"{declaration}"})}),"* ",(0,n.jsx)(s.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,n.jsx)(s.p,{children:"\u2192 {result}*"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"do-all-symbols",children:(0,n.jsx)("b",{children:"do-all-symbols"})})," (",(0,n.jsx)(s.em,{children:"var"})," [",(0,n.jsx)(s.em,{children:"result-form"}),"])"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"declaration",children:(0,n.jsx)("i",{children:"{declaration}"})}),"* ",(0,n.jsx)(s.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,n.jsx)(s.p,{children:"\u2192 {result}*"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Arguments and Values:"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:"var"}),"\u2014a ",(0,n.jsx)(s.em,{children:"variable name"}),"; not evaluated."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"package"})}),"\u2014a ",(0,n.jsx)(s.em,{children:"package designator"})," ; evaluated. The default in ",(0,n.jsx)(l,{styled:!0,term:"do-symbols",children:(0,n.jsx)("b",{children:"do-symbols"})})," and ",(0,n.jsx)(l,{styled:!0,term:"do-external-symbols",children:(0,n.jsx)("b",{children:"do-external-symbols"})})," is the ",(0,n.jsx)(s.em,{children:"current package"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:"result-form"}),"\u2014a ",(0,n.jsx)(l,{styled:!0,term:"form",children:(0,n.jsx)("i",{children:"form"})}),"; evaluated as described below. The default is ",(0,n.jsx)(l,{styled:!0,term:"nil",children:(0,n.jsx)("b",{children:"nil"})}),"."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"declaration",children:(0,n.jsx)("i",{children:"declaration"})}),"\u2014a ",(0,n.jsx)(l,{styled:!0,term:"declare",children:(0,n.jsx)("b",{children:"declare"})})," ",(0,n.jsx)(l,{styled:!0,term:"expression",children:(0,n.jsx)("i",{children:"expression"})}),"; not evaluated."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"tag",children:(0,n.jsx)("i",{children:"tag"})}),"\u2014a ",(0,n.jsx)(s.em,{children:"go tag"}),"; not evaluated."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:"statement"}),"\u2014a ",(0,n.jsx)(s.em,{children:"compound form"}),"; evaluated as described below."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:"results"}),"\u2014the ",(0,n.jsx)(l,{styled:!0,term:"value",children:(0,n.jsx)("i",{children:"values"})})," returned by the ",(0,n.jsx)(s.em,{children:"result-form"})," if a ",(0,n.jsx)(s.em,{children:"normal return"})," occurs, or else, if an ",(0,n.jsx)(s.em,{children:"explicit return"})," occurs, the ",(0,n.jsx)(l,{styled:!0,term:"value",children:(0,n.jsx)("i",{children:"values"})})," that were transferred."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Description:"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"do-symbols",children:(0,n.jsx)("b",{children:"do-symbols"})}),", ",(0,n.jsx)(l,{styled:!0,term:"do-external-symbols",children:(0,n.jsx)("b",{children:"do-external-symbols"})}),", and ",(0,n.jsx)(l,{styled:!0,term:"do-all-symbols",children:(0,n.jsx)("b",{children:"do-all-symbols"})})," iterate over the ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbols"})})," of ",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"packages"})}),". For each ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbol"})})," in the set of ",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"packages"})})," chosen, the ",(0,n.jsx)(s.em,{children:"var"})," is bound to the ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbol"})}),", and the ",(0,n.jsx)(s.em,{children:"statements"})," in the body are executed. When all the ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbols"})})," have been processed, ",(0,n.jsx)(s.em,{children:"result-form"})," is evaluated and returned as the value of the macro."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"do-symbols, do-external-symbols, do-all-symbols"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"do-symbols",children:(0,n.jsx)("b",{children:"do-symbols"})})," iterates over the ",(0,n.jsx)(s.em,{children:"symbols accessible"})," in ",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"package"})}),". ",(0,n.jsx)(s.em,{children:"Statements"})," may execute more than once for ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbols"})})," that are inherited from multiple ",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"packages"})}),"."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"do-all-symbols",children:(0,n.jsx)("b",{children:"do-all-symbols"})})," iterates on every ",(0,n.jsx)(s.em,{children:"registered package"}),". ",(0,n.jsx)(l,{styled:!0,term:"do-all-symbols",children:(0,n.jsx)("b",{children:"do-all-symbols"})})," will not process every ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbol"})})," whatsoever, because a ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbol"})})," not ",(0,n.jsx)(l,{styled:!0,term:"accessible",children:(0,n.jsx)("i",{children:"accessible"})})," in any ",(0,n.jsx)(s.em,{children:"registered package"})," will not be processed. ",(0,n.jsx)(l,{styled:!0,term:"do-all-symbols",children:(0,n.jsx)("b",{children:"do-all-symbols"})})," may cause a ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbol"})})," that is ",(0,n.jsx)(l,{styled:!0,term:"present",children:(0,n.jsx)("i",{children:"present"})})," in several ",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"packages"})})," to be processed more than once."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"do-external-symbols",children:(0,n.jsx)("b",{children:"do-external-symbols"})})," iterates on the external symbols of ",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"package"})}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["When ",(0,n.jsx)(s.em,{children:"result-form"})," is evaluated, ",(0,n.jsx)(s.em,{children:"var"})," is bound and has the value ",(0,n.jsx)(l,{styled:!0,term:"nil",children:(0,n.jsx)("b",{children:"nil"})}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["An ",(0,n.jsx)(s.em,{children:"implicit block"})," named ",(0,n.jsx)(l,{styled:!0,term:"nil",children:(0,n.jsx)("b",{children:"nil"})})," surrounds the entire ",(0,n.jsx)(l,{styled:!0,term:"do-symbols",children:(0,n.jsx)("b",{children:"do-symbols"})}),", ",(0,n.jsx)(l,{styled:!0,term:"do-external-symbols",children:(0,n.jsx)("b",{children:"do-external-symbols"})}),", or ",(0,n.jsx)(l,{styled:!0,term:"do-all-symbols",children:(0,n.jsx)("b",{children:"do-all-symbols"})})," ",(0,n.jsx)(l,{styled:!0,term:"form",children:(0,n.jsx)("i",{children:"form"})}),". ",(0,n.jsx)(l,{styled:!0,term:"return",children:(0,n.jsx)("b",{children:"return"})})," or ",(0,n.jsx)(l,{styled:!0,term:"return-from",children:(0,n.jsx)("b",{children:"return-from"})})," may be used to terminate the iteration prematurely."]}),"\n",(0,n.jsxs)(s.p,{children:["If execution of the body affects which ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbols"})})," are contained in the set of ",(0,n.jsx)(l,{styled:!0,term:"package",children:(0,n.jsx)("i",{children:"packages"})})," over which iteration is occurring, other than to remove the ",(0,n.jsx)(l,{styled:!0,term:"symbol",children:(0,n.jsx)("i",{children:"symbol"})})," currently the value of ",(0,n.jsx)(s.em,{children:"var"})," by using ",(0,n.jsx)(l,{styled:!0,term:"unintern",children:(0,n.jsx)("b",{children:"unintern"})}),", the consequences are undefined."]}),"\n",(0,n.jsxs)(s.p,{children:["For each of these macros, the ",(0,n.jsx)(l,{styled:!0,term:"scope",children:(0,n.jsx)("i",{children:"scope"})})," of the name binding does not include any initial value form, but the optional result forms are included."]}),"\n",(0,n.jsxs)(s.p,{children:["Any ",(0,n.jsx)(l,{styled:!0,term:"tag",children:(0,n.jsx)("i",{children:"tag"})})," in the body is treated as with ",(0,n.jsx)(l,{styled:!0,term:"tagbody",children:(0,n.jsx)("b",{children:"tagbody"})}),"."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Examples:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lisp",children:'\n(make-package \u2019temp :use nil) \u2192 #<PACKAGE "TEMP"> \n(intern "SHY" \u2019temp) \u2192 TEMP::SHY, NIL ;SHY will be an internal symbol \n\t\t\t\t\t;in the package TEMP \n(export (intern "BOLD" \u2019temp) \u2019temp) \u2192 T ;BOLD will be external \n(let ((lst ())) \n  (do-symbols (s (find-package \u2019temp)) (push s lst)) \n  lst) \n\u2192 (TEMP::SHY TEMP:BOLD) \n<i><sup>or</sup>\u2192</i> (TEMP:BOLD TEMP::SHY) \n(let ((lst ())) \n  (do-external-symbols (s (find-package \u2019temp) lst) (push s lst)) \n  lst) \n\u2192 (TEMP:BOLD) \n(let ((lst ())) \n  (do-all-symbols (s lst) \n    (when (eq (find-package \u2019temp) (symbol-package s)) (push s lst))) \n  lst) \n\u2192 (TEMP::SHY TEMP:BOLD) \n<i><sup>or</sup>\u2192</i> (TEMP:BOLD TEMP::SHY) \n\n\n\n\n'})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"See Also:"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(l,{styled:!0,term:"intern",children:(0,n.jsx)("b",{children:"intern"})}),", ",(0,n.jsx)(l,{styled:!0,term:"export",children:(0,n.jsx)("b",{children:"export"})}),", Section 3.6 (Traversal Rules and Side Effects)"]})]})}function t(e={}){const{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}const o={title:"do-symbols, do-external-symbols, do-all-symbols"},i="do-symbols, do-external-symbols, do-all-symbols",c={id:"chap-11/bb-c-dictionary/do-symbols_do-external-symbols_do-all-symbols_macro",title:"do-symbols, do-external-symbols, do-all-symbols",description:"Expanded Reference: do-symbols, do-external-symbols, do-all-symbols",source:"@site/docs/chap-11/bb-c-dictionary/do-symbols_do-external-symbols_do-all-symbols_macro.md",sourceDirName:"chap-11/bb-c-dictionary",slug:"/chap-11/bb-c-dictionary/do-symbols_do-external-symbols_do-all-symbols_macro",permalink:"/cl-language-reference/chap-11/bb-c-dictionary/do-symbols_do-external-symbols_do-all-symbols_macro",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-11/bb-c-dictionary/do-symbols_do-external-symbols_do-all-symbols_macro.md",tags:[],version:"current",frontMatter:{title:"do-symbols, do-external-symbols, do-all-symbols"},sidebar:"tutorialSidebar",previous:{title:"delete-package",permalink:"/cl-language-reference/chap-11/bb-c-dictionary/delete-package_function"},next:{title:"export",permalink:"/cl-language-reference/chap-11/bb-c-dictionary/export_function"}},a={},m=[{value:"Expanded Reference: do-symbols, do-external-symbols, do-all-symbols",id:"expanded-reference-do-symbols-do-external-symbols-do-all-symbols",level:2}];function h(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"do-symbols-do-external-symbols-do-all-symbols",children:"do-symbols, do-external-symbols, do-all-symbols"}),"\n","\n","\n",(0,n.jsx)(t,{}),"\n",(0,n.jsx)(s.h2,{id:"expanded-reference-do-symbols-do-external-symbols-do-all-symbols",children:"Expanded Reference: do-symbols, do-external-symbols, do-all-symbols"}),"\n",(0,n.jsx)(s.admonition,{type:"tip",children:(0,n.jsx)(s.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lisp",children:"(do-symbols, do-external-symbols, do-all-symbols )\n"})})]})}function x(e={}){const{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},11151:(e,s,l)=>{l.d(s,{Z:()=>o,a:()=>t});var n=l(67294);const r={},d=n.createContext(r);function t(e){const s=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(d.Provider,{value:s},e.children)}}}]);