"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[72987],{86724:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>j,frontMatter:()=>h,metadata:()=>a,toc:()=>l});var t=r(85893),s=r(11151);function c(e){const n={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"catch"})," ",(0,t.jsx)(n.em,{children:"Special Operator"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"catch"})," ",(0,t.jsx)(n.em,{children:"tag {form}"}),"* \u2192 {result}*"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments and Values:"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"tag"}),"\u2014a ",(0,t.jsx)(n.em,{children:"catch tag"}),"; evaluated."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"forms"}),"\u2014an ",(0,t.jsx)(n.em,{children:"implicit progn"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"results"}),"\u2014if the ",(0,t.jsx)(n.em,{children:"forms"})," exit normally, the ",(0,t.jsx)(n.em,{children:"values"})," returned by the ",(0,t.jsx)(n.em,{children:"forms"}),"; if a throw occurs to the ",(0,t.jsx)(n.em,{children:"tag"}),", the ",(0,t.jsx)(n.em,{children:"values"})," that are thrown."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description:"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"catch"})," is used as the destination of a non-local control transfer by ",(0,t.jsx)(n.strong,{children:"throw"}),". ",(0,t.jsx)(n.em,{children:"Tags"})," are used to find the ",(0,t.jsx)(n.strong,{children:"catch"})," to which a ",(0,t.jsx)(n.strong,{children:"throw"})," is transferring control. (catch \u2019foo ",(0,t.jsx)(n.em,{children:"form"}),") catches a (throw \u2019foo ",(0,t.jsx)(n.em,{children:"form"}),") but not a (throw \u2019bar ",(0,t.jsx)(n.em,{children:"form"}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["The order of execution of ",(0,t.jsx)(n.strong,{children:"catch"})," follows:"]}),"\n",(0,t.jsxs)(n.p,{children:["1. ",(0,t.jsx)(n.em,{children:"Tag"})," is evaluated. It serves as the name of the ",(0,t.jsx)(n.strong,{children:"catch"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["2. ",(0,t.jsx)(n.em,{children:"Forms"})," are then evaluated as an implicit ",(0,t.jsx)(n.strong,{children:"progn"}),", and the results of the last ",(0,t.jsx)(n.em,{children:"form"})," are returned unless a ",(0,t.jsx)(n.strong,{children:"throw"})," occurs."]}),"\n",(0,t.jsxs)(n.p,{children:["3. If a ",(0,t.jsx)(n.strong,{children:"throw"})," occurs during the execution of one of the ",(0,t.jsx)(n.em,{children:"forms"}),", control is transferred to the ",(0,t.jsx)(n.strong,{children:"catch"})," ",(0,t.jsx)(n.em,{children:"form"})," whose ",(0,t.jsx)(n.em,{children:"tag"})," is ",(0,t.jsx)(n.strong,{children:"eq"})," to the tag argument of the ",(0,t.jsx)(n.strong,{children:"throw"})," and which is the most recently established ",(0,t.jsx)(n.strong,{children:"catch"})," with that ",(0,t.jsx)(n.em,{children:"tag"}),". No further evaluation of ",(0,t.jsx)(n.em,{children:"forms"})," occurs."]}),"\n",(0,t.jsxs)(n.p,{children:["4. The ",(0,t.jsx)(n.em,{children:"tag established"})," by ",(0,t.jsx)(n.strong,{children:"catch"})," is ",(0,t.jsx)(n.em,{children:"disestablished"})," just before the results are returned."]}),"\n",(0,t.jsxs)(n.p,{children:["If during the execution of one of the ",(0,t.jsx)(n.em,{children:"forms"}),", a ",(0,t.jsx)(n.strong,{children:"throw"})," is executed whose tag is ",(0,t.jsx)(n.strong,{children:"eq"})," to the ",(0,t.jsx)(n.strong,{children:"catch"})," tag, then the values specified by the ",(0,t.jsx)(n.strong,{children:"throw"})," are returned as the result of the dynamically most recently established ",(0,t.jsx)(n.strong,{children:"catch"})," form with that tag."]}),"\n",(0,t.jsxs)(n.p,{children:["The mechanism for ",(0,t.jsx)(n.strong,{children:"catch"})," and ",(0,t.jsx)(n.strong,{children:"throw"})," works even if ",(0,t.jsx)(n.strong,{children:"throw"})," is not within the lexical scope of ",(0,t.jsx)(n.strong,{children:"catch"}),". ",(0,t.jsx)(n.strong,{children:"throw"})," must occur within the ",(0,t.jsx)(n.em,{children:"dynamic extent"})," of the ",(0,t.jsx)(n.em,{children:"evaluation"})," of the body of a ",(0,t.jsx)(n.strong,{children:"catch"})," with a corresponding ",(0,t.jsx)(n.em,{children:"tag"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lisp",children:"(catch \u2019dummy-tag 1 2 (throw \u2019dummy-tag 3) 4) \u2192 3 \n(catch \u2019dummy-tag 1 2 3 4) \u2192 4 \n(defun throw-back (tag) (throw tag t)) \u2192 THROW-BACK \n(catch \u2019dummy-tag (throw-back \u2019dummy-tag) 2) \u2192 T \nData and Control \n\n;; Contrast behavior of this example with corresponding example of BLOCK. \n(catch \u2019c \n  (flet ((c1 () (throw \u2019c 1))) \n    (catch \u2019c (c1) (print \u2019unreachable)) \n    2)) \u2192 2 \n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Exceptional Situations:"})}),"\n",(0,t.jsxs)(n.p,{children:["An error of ",(0,t.jsx)(n.em,{children:"type"})," ",(0,t.jsx)(n.strong,{children:"control-error"})," is signaled if ",(0,t.jsx)(n.strong,{children:"throw"})," is done when there is no suitable ",(0,t.jsx)(n.strong,{children:"catch"})," ",(0,t.jsx)(n.em,{children:"tag"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"See Also:"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"throw"}),", Section 3.1 (Evaluation)"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,t.jsxs)(n.p,{children:["It is customary for ",(0,t.jsx)(n.em,{children:"symbols"})," to be used as ",(0,t.jsx)(n.em,{children:"tags"}),", but any ",(0,t.jsx)(n.em,{children:"object"})," is permitted. However, numbers should not be used because the comparison is done using ",(0,t.jsx)(n.strong,{children:"eq"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"catch"})," differs from ",(0,t.jsx)(n.strong,{children:"block"})," in that ",(0,t.jsx)(n.strong,{children:"catch"})," tags have dynamic ",(0,t.jsx)(n.em,{children:"scope"})," while ",(0,t.jsx)(n.strong,{children:"block"})," names have ",(0,t.jsx)(n.em,{children:"lexical scope"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}const h={},i="catch",a={id:"chap-5/f-d-dictionary/catch",title:"catch",description:"Expanded Reference: catch",source:"@site/docs/chap-5/f-d-dictionary/catch.md",sourceDirName:"chap-5/f-d-dictionary",slug:"/chap-5/f-d-dictionary/catch",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/catch",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-5/f-d-dictionary/catch.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"case, ccase, ecase",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/case"},next:{title:"catch**, **go**, **handler-case**, **restart-case**, **return**, **return-from**, **throw**, Section 3.1 (Evaluation) **nil",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/catchaa"}},d={},l=[{value:"Expanded Reference: catch",id:"expanded-reference-catch",level:2}];function x(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"catch",children:"catch"}),"\n","\n","\n",(0,t.jsx)(o,{}),"\n",(0,t.jsx)(n.h2,{id:"expanded-reference-catch",children:"Expanded Reference: catch"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lisp",children:"(catch )\n"})})]})}function j(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>h,a:()=>o});var t=r(67294);const s={},c=t.createContext(s);function o(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function h(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);