"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[16523],{85143:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>j,frontMatter:()=>c,metadata:()=>a,toc:()=>h});var s=r(85893),i=r(11151);function t(n){const e={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"nth-value"})," ",(0,s.jsx)(e.em,{children:"Macro"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Syntax:"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"nth-value"})," ",(0,s.jsx)(e.em,{children:"n form ! object"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments and Values:"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"n"}),"\u2014a non-negative ",(0,s.jsx)(e.em,{children:"integer"})," ; evaluated."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"form"}),"\u2014a ",(0,s.jsx)(e.em,{children:"form"}),"; evaluated as described below."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"object"}),"\u2014an ",(0,s.jsx)(e.em,{children:"object"}),"."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description:"})}),"\n",(0,s.jsxs)(e.p,{children:["Evaluates ",(0,s.jsx)(e.em,{children:"n"})," and then ",(0,s.jsx)(e.em,{children:"form"}),", returning as its only value the ",(0,s.jsx)(e.em,{children:"n"}),"th value ",(0,s.jsx)(e.em,{children:"yielded"})," by ",(0,s.jsx)(e.em,{children:"form"}),", or ",(0,s.jsx)(e.strong,{children:"nil"})," if ",(0,s.jsx)(e.em,{children:"n"})," is greater than or equal to the number of ",(0,s.jsx)(e.em,{children:"values"})," returned by ",(0,s.jsx)(e.em,{children:"form"}),". (The first returned value is numbered 0.)"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lisp",children:" \n\n\n\n(nth-value 0 (values \u2019a \u2019b)) *!* A \n\n\n\n(nth-value 1 (values \u2019a \u2019b)) *!* B \n\n\n\n(nth-value 2 (values \u2019a \u2019b)) *!* NIL \n\n\n\n(let\\* ((x 83927472397238947423879243432432432) \n\n\n\n(y 32423489732) \n\n\n\n\n\n\n\n \n\n\n\n \n\n\n\n(a (nth-value 1 (floor x y))) \n\n\n\n(b (mod x y))) \n\n\n\n(values a b (= a b))) \n\n\n\n*!* 3332987528, 3332987528, *true* \n\n\n\n\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"See Also:"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"multiple-value-list"}),", ",(0,s.jsx)(e.strong,{children:"nth"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(e.p,{children:["Operationally, the following relationship is true, although ",(0,s.jsx)(e.strong,{children:"nth-value"})," might be more ecient in some ",(0,s.jsx)(e.em,{children:"implementations"})," because, for example, some ",(0,s.jsx)(e.em,{children:"consing"})," might be avoided."]}),"\n",(0,s.jsxs)(e.p,{children:["(nth-value ",(0,s.jsx)(e.em,{children:"n form"}),") ",(0,s.jsx)(e.em,{children:"\u2318"})," (nth ",(0,s.jsx)(e.em,{children:"n"})," (multiple-value-list ",(0,s.jsx)(e.em,{children:"form"}),"))"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"prog, prog"}),(0,s.jsx)(e.em,{children:"\u21e4 Macro"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Syntax:"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"prog"})," (",(0,s.jsx)(e.em,{children:"{var |"})," (",(0,s.jsx)(e.em,{children:"var"})," [",(0,s.jsx)(e.em,{children:"init-form"}),"])",(0,s.jsx)(e.em,{children:"}"}),"*) ",(0,s.jsx)(e.em,{children:"{declaration}"}),"* ",(0,s.jsx)(e.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"! {result}"}),"*"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"prog*"})," (",(0,s.jsx)(e.em,{children:"{var |"})," (",(0,s.jsx)(e.em,{children:"var"})," [",(0,s.jsx)(e.em,{children:"init-form"}),"])",(0,s.jsx)(e.em,{children:"}"}),"*) ",(0,s.jsx)(e.em,{children:"{declaration}"}),"* ",(0,s.jsx)(e.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"! {result}"}),"*"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments and Values:"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"var"}),"\u2014variable name."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"init-form"}),"\u2014a ",(0,s.jsx)(e.em,{children:"form"}),"."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"declaration"}),"\u2014a ",(0,s.jsx)(e.strong,{children:"declare"})," ",(0,s.jsx)(e.em,{children:"expression"}),"; not evaluated."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"tag"}),"\u2014a ",(0,s.jsx)(e.em,{children:"go tag"}),"; not evaluated."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"statement"}),"\u2014a ",(0,s.jsx)(e.em,{children:"compound form"}),"; evaluated as described below."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"results"}),"\u2014",(0,s.jsx)(e.strong,{children:"nil"})," if a ",(0,s.jsx)(e.em,{children:"normal return"})," occurs, or else, if an ",(0,s.jsx)(e.em,{children:"explicit return"})," occurs, the ",(0,s.jsx)(e.em,{children:"values"})," that were transferred."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description:"})}),"\n",(0,s.jsxs)(e.p,{children:["Three distinct operations are performed by ",(0,s.jsx)(e.strong,{children:"prog"})," and ",(0,s.jsx)(e.strong,{children:"prog*"}),": they bind local variables, they permit use of the ",(0,s.jsx)(e.strong,{children:"return"})," statement, and they permit use of the ",(0,s.jsx)(e.strong,{children:"go"})," statement. A typical ",(0,s.jsx)(e.strong,{children:"prog"})," looks like this:"]}),"\n",(0,s.jsx)(e.p,{children:"(prog (var1 var2 (var3 init-form-3) var4 (var5 init-form-5))"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"{declaration}"}),"*"]}),"\n",(0,s.jsx)(e.p,{children:"Data and Control"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"prog, prog"}),(0,s.jsx)(e.em,{children:"\u21e4"})]}),"\n",(0,s.jsx)(e.p,{children:"statement1"}),"\n",(0,s.jsx)(e.p,{children:"tag1"}),"\n",(0,s.jsx)(e.p,{children:"statement2"}),"\n",(0,s.jsx)(e.p,{children:"statement3"}),"\n",(0,s.jsx)(e.p,{children:"statement4"}),"\n",(0,s.jsx)(e.p,{children:"tag2"}),"\n",(0,s.jsx)(e.p,{children:"statement5"}),"\n",(0,s.jsx)(e.p,{children:"..."}),"\n",(0,s.jsx)(e.p,{children:")"}),"\n",(0,s.jsxs)(e.p,{children:["For ",(0,s.jsx)(e.strong,{children:"prog"}),", ",(0,s.jsx)(e.em,{children:"init-forms"})," are evaluated first, in the order in which they are supplied. The ",(0,s.jsx)(e.em,{children:"vars"})," are then bound to the corresponding values in parallel. If no ",(0,s.jsx)(e.em,{children:"init-form"})," is supplied for a given ",(0,s.jsx)(e.em,{children:"var"}),", that ",(0,s.jsx)(e.em,{children:"var"})," is bound to ",(0,s.jsx)(e.strong,{children:"nil"}),"."]}),"\n",(0,s.jsxs)(e.p,{children:["The body of ",(0,s.jsx)(e.strong,{children:"prog"})," is executed as if it were a ",(0,s.jsx)(e.strong,{children:"tagbody"})," ",(0,s.jsx)(e.em,{children:"form"}),"; the ",(0,s.jsx)(e.strong,{children:"go"})," statement can be used to transfer control to a ",(0,s.jsx)(e.em,{children:"tag"}),". ",(0,s.jsx)(e.em,{children:"Tags"})," label ",(0,s.jsx)(e.em,{children:"statements"}),"."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"prog"})," implicitly establishes a ",(0,s.jsx)(e.strong,{children:"block"})," named ",(0,s.jsx)(e.strong,{children:"nil"})," around the entire ",(0,s.jsx)(e.strong,{children:"prog"})," ",(0,s.jsx)(e.em,{children:"form"}),", so that ",(0,s.jsx)(e.strong,{children:"return"})," can be used at any time to exit from the ",(0,s.jsx)(e.strong,{children:"prog"})," ",(0,s.jsx)(e.em,{children:"form"}),"."]}),"\n",(0,s.jsxs)(e.p,{children:["The di\u21b5erence between ",(0,s.jsx)(e.strong,{children:"prog*"})," and ",(0,s.jsx)(e.strong,{children:"prog"})," is that in ",(0,s.jsx)(e.strong,{children:"prog*"})," the ",(0,s.jsx)(e.em,{children:"binding"})," and initialization of the ",(0,s.jsx)(e.em,{children:"vars"})," is done ",(0,s.jsx)(e.em,{children:"sequentially"}),", so that the ",(0,s.jsx)(e.em,{children:"init-form"})," for each one can use the values of previous ones."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lisp",children:' \n\n\n\n(prog\\* ((y z) (x (car y))) \n\n\n\n(return x)) \n\n\n\nreturns the *car* of the value of z. \n\n\n\n(setq a 1) *!* 1 \n\n\n\n(prog ((a 2) (b a)) (return (if (= a b) \u2019= \u2019/=))) *!* /= \n\n\n\n(prog\\* ((a 2) (b a)) (return (if (= a b) \u2019= \u2019/=))) *!* = \n\n\n\n(prog () \u2019no-return-value) *!* NIL \n\n\n\n(defun king-of-confusion (w) \n\n\n\n"Take a cons of two lists and make a list of conses. \n\n\n\nThink of this function as being like a zipper." \n\n\n\n(prog (x y z) ;Initialize x, y, z to NIL \n\n\n\n(setq y (car w) z (cdr w)) \n\n\n\nloop \n\n\n\n(cond ((null y) (return x)) \n\n\n\n((null z) (go err))) \n\n\n\nrejoin \n\n\n\n(setq x (cons (cons (car y) (car z)) x)) \n\n\n\n(setq y (cdr y) z (cdr z)) \n\n\n\n(go loop) \n\n\n\nerr \n\n\n\n\n\n\n\n \n\n\n\n \n\n\n\n(cerror "Will self-pair extraneous items" \n\n\n\n"Mismatch - gleep! &#126;S" y) \n\n\n\n(setq z y) \n\n\n\n(go rejoin))) *!* KING-OF-CONFUSION \n\n\n\nThis can be accomplished more perspicuously as follows: \n\n\n\n(defun prince-of-clarity (w) \n\n\n\n"Take a cons of two lists and make a list of conses. \n\n\n\nThink of this function as being like a zipper." \n\n\n\n(do ((y (car w) (cdr y)) \n\n\n\n(z (cdr w) (cdr z)) \n\n\n\n(x \u2019() (cons (cons (car y) (car z)) x))) \n\n\n\n((null y) x) \n\n\n\n(when (null z) \n\n\n\n(cerror "Will self-pair extraneous items" \n\n\n\n"Mismatch - gleep! &#126;S" y) \n\n\n\n(setq z y)))) *!* PRINCE-OF-CLARITY \n\n\n\n\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"See Also:"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"block"}),", ",(0,s.jsx)(e.strong,{children:"let"}),", ",(0,s.jsx)(e.strong,{children:"tagbody"}),", ",(0,s.jsx)(e.strong,{children:"go"}),", ",(0,s.jsx)(e.strong,{children:"return"}),", Section 3.1 (Evaluation)"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"prog"})," can be explained in terms of ",(0,s.jsx)(e.strong,{children:"block"}),", ",(0,s.jsx)(e.strong,{children:"let"}),", and ",(0,s.jsx)(e.strong,{children:"tagbody"})," as follows:"]}),"\n",(0,s.jsxs)(e.p,{children:["(prog ",(0,s.jsx)(e.em,{children:"variable-list declaration"})," . ",(0,s.jsx)(e.em,{children:"body"}),")"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:"\u2318"})," (block nil (let ",(0,s.jsx)(e.em,{children:"variable-list declaration"})," (tagbody . ",(0,s.jsx)(e.em,{children:"body"}),")))"]})]})}function l(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}const c={},o="nth-value",a={id:"chap-5/f-d-dictionary/nthvalue",title:"nth-value",description:"Expanded Reference: nth-value",source:"@site/docs/chap-5/f-d-dictionary/nthvalue.md",sourceDirName:"chap-5/f-d-dictionary",slug:"/chap-5/f-d-dictionary/nthvalue",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/nthvalue",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-5/f-d-dictionary/nthvalue.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"not",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/not"},next:{title:"or",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/or"}},d={},h=[{value:"Expanded Reference: nth-value",id:"expanded-reference-nth-value",level:2}];function x(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"nth-value",children:"nth-value"}),"\n","\n","\n",(0,s.jsx)(l,{}),"\n",(0,s.jsx)(e.h2,{id:"expanded-reference-nth-value",children:"Expanded Reference: nth-value"}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsx)(e.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lisp",children:"(nth-value )\n"})})]})}function j(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(x,{...n})}):x(n)}},11151:(n,e,r)=>{r.d(e,{Z:()=>c,a:()=>l});var s=r(67294);const i={},t=s.createContext(i);function l(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);