"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[55241],{76746:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>m,default:()=>b,frontMatter:()=>x,metadata:()=>p,toc:()=>f});var n=t(85893),s=t(11151);function i(e){return(0,n.jsx)(n.Fragment,{})}function c(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(i,{...e})}):i()}function d(e){const r={em:"em",p:"p",...(0,s.a)(),...e.components},{ClLinks:t}=r;return t||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ClLinks",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["The consequences are undefined if ",(0,n.jsx)(r.em,{children:"literal objects"})," are destructively modified. For this purpose, the following operations are considered ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})}),":"]}),"\n",(0,n.jsx)(t,{styled:!0,term:"random-state",children:(0,n.jsx)("b",{children:"random-state"})}),"\n",(0,n.jsxs)(r.p,{children:["Using it as an ",(0,n.jsx)(t,{styled:!0,term:"argument",children:(0,n.jsx)("i",{children:"argument"})})," to the ",(0,n.jsx)(t,{styled:!0,term:"function",children:(0,n.jsx)("i",{children:"function"})})," ",(0,n.jsx)(t,{styled:!0,term:"random",children:(0,n.jsx)("b",{children:"random"})}),"."]}),"\n",(0,n.jsx)(t,{styled:!0,term:"cons",children:(0,n.jsx)("b",{children:"cons"})}),"\n",(0,n.jsxs)(r.p,{children:["Changing the ",(0,n.jsx)(t,{styled:!0,term:"car",children:(0,n.jsx)("i",{children:"car"})})," ",(0,n.jsx)("sub",{children:"1"})," or ",(0,n.jsx)(t,{styled:!0,term:"cdr",children:(0,n.jsx)("i",{children:"cdr"})})," ",(0,n.jsx)("sub",{children:"1"})," of the ",(0,n.jsx)(t,{styled:!0,term:"cons",children:(0,n.jsx)("i",{children:"cons"})}),", or performing a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation on an ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," which is either the ",(0,n.jsx)(t,{styled:!0,term:"car",children:(0,n.jsx)("i",{children:"car"})})," ",(0,n.jsx)("sub",{children:"2"})," or the ",(0,n.jsx)(t,{styled:!0,term:"cdr",children:(0,n.jsx)("i",{children:"cdr"})})," ",(0,n.jsx)("sub",{children:"2"})," of the ",(0,n.jsx)(t,{styled:!0,term:"cons",children:(0,n.jsx)("i",{children:"cons"})}),"."]}),"\n",(0,n.jsx)(t,{styled:!0,term:"array",children:(0,n.jsx)("b",{children:"array"})}),"\n",(0,n.jsxs)(r.p,{children:["Storing a new value into some element of the ",(0,n.jsx)(t,{styled:!0,term:"array",children:(0,n.jsx)("i",{children:"array"})}),", or performing a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation on an ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," that is already such an ",(0,n.jsx)(t,{styled:!0,term:"element",children:(0,n.jsx)("i",{children:"element"})}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["Changing the ",(0,n.jsx)(r.em,{children:"fill pointer"})," , ",(0,n.jsx)(t,{styled:!0,term:"dimension",children:(0,n.jsx)("i",{children:"dimensions"})}),", or displacement of the ",(0,n.jsx)(t,{styled:!0,term:"array",children:(0,n.jsx)("i",{children:"array"})})," (regardless of whether the ",(0,n.jsx)(t,{styled:!0,term:"array",children:(0,n.jsx)("i",{children:"array"})})," is ",(0,n.jsx)(r.em,{children:"actually adjustable"}),")."]}),"\n",(0,n.jsxs)(r.p,{children:["Performing a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation on another ",(0,n.jsx)(t,{styled:!0,term:"array",children:(0,n.jsx)("i",{children:"array"})})," that is displaced to the ",(0,n.jsx)(t,{styled:!0,term:"array",children:(0,n.jsx)("i",{children:"array"})})," or that otherwise shares its contents with the ",(0,n.jsx)(t,{styled:!0,term:"array",children:(0,n.jsx)("i",{children:"array"})}),"."]}),"\n",(0,n.jsx)(t,{styled:!0,term:"hash-table",children:(0,n.jsx)("b",{children:"hash-table"})}),"\n",(0,n.jsxs)(r.p,{children:["Performing a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation on any ",(0,n.jsx)(t,{styled:!0,term:"key",children:(0,n.jsx)("i",{children:"key"})}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["Storing a new ",(0,n.jsx)(t,{styled:!0,term:"value",children:(0,n.jsx)("i",{children:"value"})}),(0,n.jsx)("sub",{children:"4"})," for any ",(0,n.jsx)(t,{styled:!0,term:"key",children:(0,n.jsx)("i",{children:"key"})}),", or performing a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation on any ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," that is such a ",(0,n.jsx)(t,{styled:!0,term:"value",children:(0,n.jsx)("i",{children:"value"})}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["Adding or removing entries from the ",(0,n.jsx)(r.em,{children:"hash table"}),"."]}),"\n",(0,n.jsx)(t,{styled:!0,term:"structure-object",children:(0,n.jsx)("b",{children:"structure-object"})}),"\n",(0,n.jsxs)(r.p,{children:["Storing a new value into any slot, or performing a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation on an ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," that is the value of some slot."]}),"\n",(0,n.jsx)(t,{styled:!0,term:"standard-object",children:(0,n.jsx)("b",{children:"standard-object"})}),"\n",(0,n.jsxs)(r.p,{children:["Storing a new value into any slot, or performing a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation on an ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," that is the value of some slot."]}),"\n",(0,n.jsxs)(r.p,{children:["Changing the class of the ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," (",(0,n.jsx)(r.em,{children:"e.g."}),", using the ",(0,n.jsx)(t,{styled:!0,term:"function",children:(0,n.jsx)("i",{children:"function"})})," ",(0,n.jsx)(t,{styled:!0,term:"change-class",children:(0,n.jsx)("b",{children:"change-class"})}),")."]}),"\n",(0,n.jsx)(t,{styled:!0,term:"readtable",children:(0,n.jsx)("b",{children:"readtable"})}),"\n",(0,n.jsxs)(r.p,{children:["Altering the ",(0,n.jsx)(r.em,{children:"readtable case"}),"."]}),"\n",(0,n.jsx)(r.p,{children:"Altering the syntax type of any character in this readtable."}),"\n",(0,n.jsxs)(r.p,{children:["Altering the ",(0,n.jsx)(r.em,{children:"reader macro function"})," associated with any ",(0,n.jsx)(t,{styled:!0,term:"character",children:(0,n.jsx)("i",{children:"character"})})," in the ",(0,n.jsx)(t,{styled:!0,term:"readtable",children:(0,n.jsx)("i",{children:"readtable"})}),", or altering the ",(0,n.jsx)(r.em,{children:"reader macro functions"})," associated with ",(0,n.jsx)(t,{styled:!0,term:"character",children:(0,n.jsx)("i",{children:"characters"})})," defined as ",(0,n.jsx)(r.em,{children:"dispatching macro characters"})," in the ",(0,n.jsx)(t,{styled:!0,term:"readtable",children:(0,n.jsx)("i",{children:"readtable"})}),"."]}),"\n",(0,n.jsx)(t,{styled:!0,term:"stream",children:(0,n.jsx)("b",{children:"stream"})}),"\n",(0,n.jsxs)(r.p,{children:["Performing I/O operations on the ",(0,n.jsx)(t,{styled:!0,term:"stream",children:(0,n.jsx)("i",{children:"stream"})}),", or ",(0,n.jsx)(r.em,{children:"closing"})," the ",(0,n.jsx)(t,{styled:!0,term:"stream",children:(0,n.jsx)("i",{children:"stream"})}),"."]}),"\n",(0,n.jsx)(r.p,{children:"All other standardized types"}),"\n",(0,n.jsxs)(r.p,{children:["[This category includes, for example, ",(0,n.jsx)(t,{styled:!0,term:"character",children:(0,n.jsx)("b",{children:"character"})}),", ",(0,n.jsx)(t,{styled:!0,term:"condition",children:(0,n.jsx)("b",{children:"condition"})}),", ",(0,n.jsx)(t,{styled:!0,term:"function",children:(0,n.jsx)("b",{children:"function"})}),","]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(t,{styled:!0,term:"method-combination",children:(0,n.jsx)("b",{children:"method-combination"})}),", ",(0,n.jsx)(t,{styled:!0,term:"method",children:(0,n.jsx)("b",{children:"method"})}),", ",(0,n.jsx)(t,{styled:!0,term:"number",children:(0,n.jsx)("b",{children:"number"})}),", ",(0,n.jsx)(t,{styled:!0,term:"package",children:(0,n.jsx)("b",{children:"package"})}),", ",(0,n.jsx)(t,{styled:!0,term:"pathname",children:(0,n.jsx)("b",{children:"pathname"})}),", ",(0,n.jsx)(t,{styled:!0,term:"restart",children:(0,n.jsx)("b",{children:"restart"})}),", and ",(0,n.jsx)(t,{styled:!0,term:"symbol",children:(0,n.jsx)("b",{children:"symbol"})}),".] There are no ",(0,n.jsx)(r.em,{children:"standardized destructive"})," operations defined on ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"objects"})})," of these ",(0,n.jsx)(t,{styled:!0,term:"type",children:(0,n.jsx)("i",{children:"types"})}),"."]})]})}function l(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}function o(e){const r={em:"em",p:"p",...(0,s.a)(),...e.components},{ClLinks:t}=r;return t||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ClLinks",!0),(0,n.jsxs)(r.p,{children:["Should a transfer of control out of a ",(0,n.jsx)(t,{styled:!0,term:"destructive",children:(0,n.jsx)("i",{children:"destructive"})})," operation occur (",(0,n.jsx)(r.em,{children:"e.g."}),", due to an error) the state of the ",(0,n.jsx)(t,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," being modified is ",(0,n.jsx)(t,{styled:!0,term:"implementation-dependent",children:(0,n.jsx)("i",{children:"implementation-dependent"})}),"."]})}function a(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}function h(e){const r={p:"p",...(0,s.a)(),...e.components},{ClLinks:t}=r;return t||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ClLinks",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["The following examples illustrate some of the many ways in which the ",(0,n.jsx)(t,{styled:!0,term:"implementation-dependent",children:(0,n.jsx)("i",{children:"implementation-dependent"})})," nature of the modification can manifest itself."]}),"\n",(0,n.jsx)(r.p,{children:"(let ((a (list 2 1 4 3 7 6 \u2019five)))"}),"\n",(0,n.jsx)(r.p,{children:"(ignore-errors (sort a #\u2019<))"}),"\n",(0,n.jsx)(r.p,{children:"a)"}),"\n",(0,n.jsx)(r.p,{children:"\u2192 (1 2 3 4 6 7 FIVE)"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsxs)("i",{children:[(0,n.jsx)("sup",{children:"or"}),"\u2192"]})," (2 1 4 3 7 6 FIVE)"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsxs)("i",{children:[(0,n.jsx)("sup",{children:"or"}),"\u2192"]})," (2)"]}),"\n",(0,n.jsx)(r.p,{children:"(prog foo ((a (list 1 2 3 4 5 6 7 8 9 10)))"}),"\n",(0,n.jsx)(r.p,{children:"(sort a #\u2019(lambda (x y) (if (zerop (random 5)) (return-from foo a) (> x y))))) \u2192 (1 2 3 4 5 6 7 8 9 10)"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsxs)("i",{children:[(0,n.jsx)("sup",{children:"or"}),"\u2192"]})," (3 4 5 6 2 7 8 9 10 1)"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsxs)("i",{children:[(0,n.jsx)("sup",{children:"or"}),"\u2192"]})," (1 2 4 3)"]})]})}function j(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}const x={title:"3.7 Destructive Operations"},m="3.7 Destructive Operations",p={id:"chap-3/d-h-destructive-operations",title:"3.7 Destructive Operations",description:"3.7.1 Modification of Literal Objects",source:"@site/docs/chap-3/d-h-destructive-operations.md",sourceDirName:"chap-3",slug:"/chap-3/d-h-destructive-operations",permalink:"/cl-language-reference/chap-3/d-h-destructive-operations",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-3/d-h-destructive-operations.md",tags:[],version:"current",frontMatter:{title:"3.7 Destructive Operations"},sidebar:"tutorialSidebar",previous:{title:"3.6 Traversal Rules and Side Effects",permalink:"/cl-language-reference/chap-3/d-g-traversal-rules-and-side-effects"},next:{title:"3.8 Evaluation and Compilation Dictionary",permalink:"/cl-language-reference/category/38-evaluation-and-compilation-dictionary"}},u={},f=[{value:"3.7.1 Modification of Literal Objects",id:"371-modification-of-literal-objects",level:2},{value:"3.7.2 Transfer of Control during a Destructive Operation",id:"372-transfer-of-control-during-a-destructive-operation",level:2},{value:"3.7.2.1 Examples of Transfer of Control during a Destructive Operation",id:"3721-examples-of-transfer-of-control-during-a-destructive-operation",level:3}];function y(e){const r={h1:"h1",h2:"h2",h3:"h3",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"37-destructive-operations",children:"3.7 Destructive Operations"}),"\n","\n",(0,n.jsx)(c,{}),"\n",(0,n.jsx)(r.h2,{id:"371-modification-of-literal-objects",children:"3.7.1 Modification of Literal Objects"}),"\n","\n",(0,n.jsx)(l,{}),"\n",(0,n.jsx)(r.h2,{id:"372-transfer-of-control-during-a-destructive-operation",children:"3.7.2 Transfer of Control during a Destructive Operation"}),"\n","\n",(0,n.jsx)(a,{}),"\n",(0,n.jsx)(r.h3,{id:"3721-examples-of-transfer-of-control-during-a-destructive-operation",children:"3.7.2.1 Examples of Transfer of Control during a Destructive Operation"}),"\n","\n","\n",(0,n.jsx)(j,{})]})}function b(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(y,{...e})}):y(e)}},11151:(e,r,t)=>{t.d(r,{Z:()=>d,a:()=>c});var n=t(67294);const s={},i=n.createContext(s);function c(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);