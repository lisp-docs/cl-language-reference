"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[55241],{76746:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>f,contentTitle:()=>p,default:()=>v,frontMatter:()=>m,metadata:()=>u,toc:()=>b});var t=n(85893),i=n(11151);function s(e){return(0,t.jsx)(t.Fragment,{})}function c(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(s,{...e})}):s()}function o(e){const r={em:"em",p:"p",...(0,i.a)(),...e.components},{DictionaryLink:n,GlossaryTerm:s}=r;return n||a("DictionaryLink",!0),s||a("GlossaryTerm",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:["The consequences are undefined if ",(0,t.jsx)(r.em,{children:"literal objects"})," are destructively modified. For this purpose, the following operations are considered ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})}),":"]}),"\n",(0,t.jsx)(n,{term:"random-state",children:(0,t.jsx)("b",{children:"random-state"})}),"\n",(0,t.jsxs)(r.p,{children:["Using it as an ",(0,t.jsx)(s,{term:"argument",children:(0,t.jsx)("i",{children:"argument"})})," to the ",(0,t.jsx)(s,{term:"function",children:(0,t.jsx)("i",{children:"function"})})," ",(0,t.jsx)(n,{term:"random",children:(0,t.jsx)("b",{children:"random"})}),"."]}),"\n",(0,t.jsx)(n,{term:"cons",children:(0,t.jsx)("b",{children:"cons"})}),"\n",(0,t.jsxs)(r.p,{children:["Changing the ",(0,t.jsx)(s,{term:"car",children:(0,t.jsx)("i",{children:"car"})})," ",(0,t.jsx)("sub",{children:"1"})," or ",(0,t.jsx)(s,{term:"cdr",children:(0,t.jsx)("i",{children:"cdr"})})," ",(0,t.jsx)("sub",{children:"1"})," of the ",(0,t.jsx)(s,{term:"cons",children:(0,t.jsx)("i",{children:"cons"})}),", or performing a ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation on an ",(0,t.jsx)(s,{term:"object",children:(0,t.jsx)("i",{children:"object"})})," which is either the ",(0,t.jsx)(s,{term:"car",children:(0,t.jsx)("i",{children:"car"})})," ",(0,t.jsx)("sub",{children:"2"})," or the ",(0,t.jsx)(s,{term:"cdr",children:(0,t.jsx)("i",{children:"cdr"})})," ",(0,t.jsx)("sub",{children:"2"})," of the ",(0,t.jsx)(s,{term:"cons",children:(0,t.jsx)("i",{children:"cons"})}),"."]}),"\n",(0,t.jsx)(n,{term:"array",children:(0,t.jsx)("b",{children:"array"})}),"\n",(0,t.jsxs)(r.p,{children:["Storing a new value into some element of the ",(0,t.jsx)(s,{term:"array",children:(0,t.jsx)("i",{children:"array"})}),", or performing a ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation on an ",(0,t.jsx)(s,{term:"object",children:(0,t.jsx)("i",{children:"object"})})," that is already such an ",(0,t.jsx)(s,{term:"element",children:(0,t.jsx)("i",{children:"element"})}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["Changing the ",(0,t.jsx)(s,{styled:!0,term:"fill pointer",children:(0,t.jsx)("i",{children:"fill pointer"})})," , ",(0,t.jsx)(s,{term:"dimension",children:(0,t.jsx)("i",{children:"dimensions"})}),", or displacement of the ",(0,t.jsx)(s,{term:"array",children:(0,t.jsx)("i",{children:"array"})})," (regardless of whether the ",(0,t.jsx)(s,{term:"array",children:(0,t.jsx)("i",{children:"array"})})," is ",(0,t.jsx)(s,{styled:!0,term:"actually adjustable",children:(0,t.jsx)("i",{children:"actually adjustable"})}),")."]}),"\n",(0,t.jsxs)(r.p,{children:["Performing a ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation on another ",(0,t.jsx)(s,{term:"array",children:(0,t.jsx)("i",{children:"array"})})," that is displaced to the ",(0,t.jsx)(s,{term:"array",children:(0,t.jsx)("i",{children:"array"})})," or that otherwise shares its contents with the ",(0,t.jsx)(s,{term:"array",children:(0,t.jsx)("i",{children:"array"})}),"."]}),"\n",(0,t.jsx)(n,{term:"hash-table",children:(0,t.jsx)("b",{children:"hash-table"})}),"\n",(0,t.jsxs)(r.p,{children:["Performing a ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation on any ",(0,t.jsx)(s,{term:"key",children:(0,t.jsx)("i",{children:"key"})}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["Storing a new ",(0,t.jsx)(s,{term:"value",children:(0,t.jsx)("i",{children:"value"})}),(0,t.jsx)("sub",{children:"4"})," for any ",(0,t.jsx)(s,{term:"key",children:(0,t.jsx)("i",{children:"key"})}),", or performing a ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation on any ",(0,t.jsx)(s,{term:"object",children:(0,t.jsx)("i",{children:"object"})})," that is such a ",(0,t.jsx)(s,{term:"value",children:(0,t.jsx)("i",{children:"value"})}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["Adding or removing entries from the ",(0,t.jsx)(s,{styled:!0,term:"hash table",children:(0,t.jsx)("i",{children:"hash table"})}),"."]}),"\n",(0,t.jsx)(n,{term:"structure-object",children:(0,t.jsx)("b",{children:"structure-object"})}),"\n",(0,t.jsxs)(r.p,{children:["Storing a new value into any slot, or performing a ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation on an ",(0,t.jsx)(s,{term:"object",children:(0,t.jsx)("i",{children:"object"})})," that is the value of some slot."]}),"\n",(0,t.jsx)(n,{term:"standard-object",children:(0,t.jsx)("b",{children:"standard-object"})}),"\n",(0,t.jsxs)(r.p,{children:["Storing a new value into any slot, or performing a ",(0,t.jsx)(s,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation on an ",(0,t.jsx)(s,{term:"object",children:(0,t.jsx)("i",{children:"object"})})," that is the value of some slot."]}),"\n",(0,t.jsxs)(r.p,{children:["Changing the class of the ",(0,t.jsx)(s,{term:"object",children:(0,t.jsx)("i",{children:"object"})})," (",(0,t.jsx)(r.em,{children:"e.g."}),", using the ",(0,t.jsx)(s,{term:"function",children:(0,t.jsx)("i",{children:"function"})})," ",(0,t.jsx)(n,{term:"change-class",children:(0,t.jsx)("b",{children:"change-class"})}),")."]}),"\n",(0,t.jsx)(n,{term:"readtable",children:(0,t.jsx)("b",{children:"readtable"})}),"\n",(0,t.jsxs)(r.p,{children:["Altering the ",(0,t.jsx)(s,{styled:!0,term:"readtable case",children:(0,t.jsx)("i",{children:"readtable case"})}),"."]}),"\n",(0,t.jsx)(r.p,{children:"Altering the syntax type of any character in this readtable."}),"\n",(0,t.jsxs)(r.p,{children:["Altering the ",(0,t.jsx)(s,{styled:!0,term:"reader macro function",children:(0,t.jsx)("i",{children:"reader macro function"})})," associated with any ",(0,t.jsx)(s,{term:"character",children:(0,t.jsx)("i",{children:"character"})})," in the ",(0,t.jsx)(s,{term:"readtable",children:(0,t.jsx)("i",{children:"readtable"})}),", or altering the ",(0,t.jsx)(s,{styled:!0,term:"reader macro function",children:(0,t.jsx)("i",{children:"reader macro functions"})})," associated with ",(0,t.jsx)(s,{term:"character",children:(0,t.jsx)("i",{children:"characters"})})," defined as ",(0,t.jsx)(s,{styled:!0,term:"dispatching macro character",children:(0,t.jsx)("i",{children:"dispatching macro characters"})})," in the ",(0,t.jsx)(s,{term:"readtable",children:(0,t.jsx)("i",{children:"readtable"})}),"."]}),"\n",(0,t.jsx)(n,{term:"stream",children:(0,t.jsx)("b",{children:"stream"})}),"\n",(0,t.jsxs)(r.p,{children:["Performing I/O operations on the ",(0,t.jsx)(s,{term:"stream",children:(0,t.jsx)("i",{children:"stream"})}),", or ",(0,t.jsx)(r.em,{children:"closing"})," the ",(0,t.jsx)(s,{term:"stream",children:(0,t.jsx)("i",{children:"stream"})}),"."]}),"\n",(0,t.jsx)(r.p,{children:"All other standardized types"}),"\n",(0,t.jsxs)(r.p,{children:["[This category includes, for example, ",(0,t.jsx)(n,{term:"character",children:(0,t.jsx)("b",{children:"character"})}),", ",(0,t.jsx)(n,{term:"condition",children:(0,t.jsx)("b",{children:"condition"})}),", ",(0,t.jsx)(n,{term:"function",children:(0,t.jsx)("b",{children:"function"})}),","]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(n,{term:"method-combination",children:(0,t.jsx)("b",{children:"method-combination"})}),", ",(0,t.jsx)(n,{term:"method",children:(0,t.jsx)("b",{children:"method"})}),", ",(0,t.jsx)(n,{term:"number",children:(0,t.jsx)("b",{children:"number"})}),", ",(0,t.jsx)(n,{term:"package",children:(0,t.jsx)("b",{children:"package"})}),", ",(0,t.jsx)(n,{term:"pathname",children:(0,t.jsx)("b",{children:"pathname"})}),", ",(0,t.jsx)(n,{term:"restart",children:(0,t.jsx)("b",{children:"restart"})}),", and ",(0,t.jsx)(n,{term:"symbol",children:(0,t.jsx)("b",{children:"symbol"})}),".] There are no ",(0,t.jsx)(r.em,{children:"standardized destructive"})," operations defined on ",(0,t.jsx)(s,{term:"object",children:(0,t.jsx)("i",{children:"objects"})})," of these ",(0,t.jsx)(s,{term:"type",children:(0,t.jsx)("i",{children:"types"})}),"."]})]})}function d(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}function a(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}function l(e){const r={em:"em",p:"p",...(0,i.a)(),...e.components},{GlossaryTerm:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("GlossaryTerm",!0),(0,t.jsxs)(r.p,{children:["Should a transfer of control out of a ",(0,t.jsx)(n,{term:"destructive",children:(0,t.jsx)("i",{children:"destructive"})})," operation occur (",(0,t.jsx)(r.em,{children:"e.g."}),", due to an error) the state of the ",(0,t.jsx)(n,{term:"object",children:(0,t.jsx)("i",{children:"object"})})," being modified is ",(0,t.jsx)(n,{term:"implementation-dependent",children:(0,t.jsx)("i",{children:"implementation-dependent"})}),"."]})}function h(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}function j(e){const r={p:"p",...(0,i.a)(),...e.components},{GlossaryTerm:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("GlossaryTerm",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:["The following examples illustrate some of the many ways in which the ",(0,t.jsx)(n,{term:"implementation-dependent",children:(0,t.jsx)("i",{children:"implementation-dependent"})})," nature of the modification can manifest itself."]}),"\n",(0,t.jsx)(r.p,{children:"(let ((a (list 2 1 4 3 7 6 \u2019five)))"}),"\n",(0,t.jsx)(r.p,{children:"(ignore-errors (sort a #\u2019<))"}),"\n",(0,t.jsx)(r.p,{children:"a)"}),"\n",(0,t.jsx)(r.p,{children:"\u2192 (1 2 3 4 6 7 FIVE)"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsxs)("i",{children:[(0,t.jsx)("sup",{children:"or"}),"\u2192"]})," (2 1 4 3 7 6 FIVE)"]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsxs)("i",{children:[(0,t.jsx)("sup",{children:"or"}),"\u2192"]})," (2)"]}),"\n",(0,t.jsx)(r.p,{children:"(prog foo ((a (list 1 2 3 4 5 6 7 8 9 10)))"}),"\n",(0,t.jsx)(r.p,{children:"(sort a #\u2019(lambda (x y) (if (zerop (random 5)) (return-from foo a) (> x y))))) \u2192 (1 2 3 4 5 6 7 8 9 10)"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsxs)("i",{children:[(0,t.jsx)("sup",{children:"or"}),"\u2192"]})," (3 4 5 6 2 7 8 9 10 1)"]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsxs)("i",{children:[(0,t.jsx)("sup",{children:"or"}),"\u2192"]})," (1 2 4 3)"]})]})}function x(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(j,{...e})}):j(e)}const m={title:"3.7 Destructive Operations"},p="3.7 Destructive Operations",u={id:"chap-3/d-h-destructive-operations",title:"3.7 Destructive Operations",description:"3.7.1 Modification of Literal Objects",source:"@site/docs/chap-3/d-h-destructive-operations.md",sourceDirName:"chap-3",slug:"/chap-3/d-h-destructive-operations",permalink:"/cl-language-reference/chap-3/d-h-destructive-operations",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/main/docs/chap-3/d-h-destructive-operations.md",tags:[],version:"current",lastUpdatedBy:"daninus14",frontMatter:{title:"3.7 Destructive Operations"},sidebar:"tutorialSidebar",previous:{title:"3.6 Traversal Rules and Side Effects",permalink:"/cl-language-reference/chap-3/d-g-traversal-rules-and-side-effects"},next:{title:"3.8 Evaluation and Compilation Dictionary",permalink:"/cl-language-reference/category/38-evaluation-and-compilation-dictionary"}},f={},b=[{value:"3.7.1 Modification of Literal Objects",id:"371-modification-of-literal-objects",level:2},{value:"3.7.2 Transfer of Control during a Destructive Operation",id:"372-transfer-of-control-during-a-destructive-operation",level:2},{value:"3.7.2.1 Examples of Transfer of Control during a Destructive Operation",id:"3721-examples-of-transfer-of-control-during-a-destructive-operation",level:3}];function g(e){const r={h1:"h1",h2:"h2",h3:"h3",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h1,{id:"37-destructive-operations",children:"3.7 Destructive Operations"}),"\n","\n",(0,t.jsx)(c,{}),"\n",(0,t.jsx)(r.h2,{id:"371-modification-of-literal-objects",children:"3.7.1 Modification of Literal Objects"}),"\n","\n",(0,t.jsx)(d,{}),"\n",(0,t.jsx)(r.h2,{id:"372-transfer-of-control-during-a-destructive-operation",children:"3.7.2 Transfer of Control during a Destructive Operation"}),"\n","\n",(0,t.jsx)(h,{}),"\n",(0,t.jsx)(r.h3,{id:"3721-examples-of-transfer-of-control-during-a-destructive-operation",children:"3.7.2.1 Examples of Transfer of Control during a Destructive Operation"}),"\n","\n","\n",(0,t.jsx)(x,{})]})}function v(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},11151:(e,r,n)=>{n.d(r,{Z:()=>o,a:()=>c});var t=n(67294);const i={},s=t.createContext(i);function c(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);