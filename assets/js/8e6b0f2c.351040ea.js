"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[16523],{85143:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>j,frontMatter:()=>c,metadata:()=>a,toc:()=>h});var s=r(85893),i=r(11151);function t(e){const n={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"nth-value"})," ",(0,s.jsx)(n.em,{children:"Macro"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"nth-value"})," ",(0,s.jsx)(n.em,{children:"n form ! object"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments and Values:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"n"}),"\u2014a non-negative ",(0,s.jsx)(n.em,{children:"integer"})," ; evaluated."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"form"}),"\u2014a ",(0,s.jsx)(n.em,{children:"form"}),"; evaluated as described below."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"object"}),"\u2014an ",(0,s.jsx)(n.em,{children:"object"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description:"})}),"\n",(0,s.jsxs)(n.p,{children:["Evaluates ",(0,s.jsx)(n.em,{children:"n"})," and then ",(0,s.jsx)(n.em,{children:"form"}),", returning as its only value the ",(0,s.jsx)(n.em,{children:"n"}),"th value ",(0,s.jsx)(n.em,{children:"yielded"})," by ",(0,s.jsx)(n.em,{children:"form"}),", or ",(0,s.jsx)(n.strong,{children:"nil"})," if ",(0,s.jsx)(n.em,{children:"n"})," is greater than or equal to the number of ",(0,s.jsx)(n.em,{children:"values"})," returned by ",(0,s.jsx)(n.em,{children:"form"}),". (The first returned value is numbered 0.)"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lisp",children:" \n(nth-value 0 (values \u2019a \u2019b)) \u2192 A \n(nth-value 1 (values \u2019a \u2019b)) \u2192 B \n(nth-value 2 (values \u2019a \u2019b)) \u2192 NIL \n(let\\* ((x 83927472397238947423879243432432432) \n(y 32423489732) \n\n \n \n(a (nth-value 1 (floor x y))) \n(b (mod x y))) \n(values a b (= a b))) \n\u2192 3332987528, 3332987528, *true* \n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"See Also:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"multiple-value-list"}),", ",(0,s.jsx)(n.strong,{children:"nth"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.p,{children:["Operationally, the following relationship is true, although ",(0,s.jsx)(n.strong,{children:"nth-value"})," might be more ecient in some ",(0,s.jsx)(n.em,{children:"implementations"})," because, for example, some ",(0,s.jsx)(n.em,{children:"consing"})," might be avoided."]}),"\n",(0,s.jsxs)(n.p,{children:["(nth-value ",(0,s.jsx)(n.em,{children:"n form"}),") \u2261 (nth ",(0,s.jsx)(n.em,{children:"n"})," (multiple-value-list ",(0,s.jsx)(n.em,{children:"form"}),"))"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"prog, prog"}),(0,s.jsx)(n.em,{children:"\u21e4 Macro"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"prog"})," (",(0,s.jsx)(n.em,{children:"{var |"})," (",(0,s.jsx)(n.em,{children:"var"})," [",(0,s.jsx)(n.em,{children:"init-form"}),"])",(0,s.jsx)(n.em,{children:"}"}),"*) ",(0,s.jsx)(n.em,{children:"{declaration}"}),"* ",(0,s.jsx)(n.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,s.jsx)(n.p,{children:"\u2192 {result}*"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"prog*"})," (",(0,s.jsx)(n.em,{children:"{var |"})," (",(0,s.jsx)(n.em,{children:"var"})," [",(0,s.jsx)(n.em,{children:"init-form"}),"])",(0,s.jsx)(n.em,{children:"}"}),"*) ",(0,s.jsx)(n.em,{children:"{declaration}"}),"* ",(0,s.jsx)(n.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,s.jsx)(n.p,{children:"\u2192 {result}*"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments and Values:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"var"}),"\u2014variable name."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"init-form"}),"\u2014a ",(0,s.jsx)(n.em,{children:"form"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"declaration"}),"\u2014a ",(0,s.jsx)(n.strong,{children:"declare"})," ",(0,s.jsx)(n.em,{children:"expression"}),"; not evaluated."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"tag"}),"\u2014a ",(0,s.jsx)(n.em,{children:"go tag"}),"; not evaluated."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"statement"}),"\u2014a ",(0,s.jsx)(n.em,{children:"compound form"}),"; evaluated as described below."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"results"}),"\u2014",(0,s.jsx)(n.strong,{children:"nil"})," if a ",(0,s.jsx)(n.em,{children:"normal return"})," occurs, or else, if an ",(0,s.jsx)(n.em,{children:"explicit return"})," occurs, the ",(0,s.jsx)(n.em,{children:"values"})," that were transferred."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description:"})}),"\n",(0,s.jsxs)(n.p,{children:["Three distinct operations are performed by ",(0,s.jsx)(n.strong,{children:"prog"})," and ",(0,s.jsx)(n.strong,{children:"prog*"}),": they bind local variables, they permit use of the ",(0,s.jsx)(n.strong,{children:"return"})," statement, and they permit use of the ",(0,s.jsx)(n.strong,{children:"go"})," statement. A typical ",(0,s.jsx)(n.strong,{children:"prog"})," looks like this:"]}),"\n",(0,s.jsx)(n.p,{children:"(prog (var1 var2 (var3 init-form-3) var4 (var5 init-form-5))"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"{declaration}"}),"*"]}),"\n",(0,s.jsx)(n.p,{children:"Data and Control"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"prog, prog"}),(0,s.jsx)(n.em,{children:"\u21e4"})]}),"\n",(0,s.jsx)(n.p,{children:"statement1"}),"\n",(0,s.jsx)(n.p,{children:"tag1"}),"\n",(0,s.jsx)(n.p,{children:"statement2"}),"\n",(0,s.jsx)(n.p,{children:"statement3"}),"\n",(0,s.jsx)(n.p,{children:"statement4"}),"\n",(0,s.jsx)(n.p,{children:"tag2"}),"\n",(0,s.jsx)(n.p,{children:"statement5"}),"\n",(0,s.jsx)(n.p,{children:"..."}),"\n",(0,s.jsx)(n.p,{children:")"}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.strong,{children:"prog"}),", ",(0,s.jsx)(n.em,{children:"init-forms"})," are evaluated first, in the order in which they are supplied. The ",(0,s.jsx)(n.em,{children:"vars"})," are then bound to the corresponding values in parallel. If no ",(0,s.jsx)(n.em,{children:"init-form"})," is supplied for a given ",(0,s.jsx)(n.em,{children:"var"}),", that ",(0,s.jsx)(n.em,{children:"var"})," is bound to ",(0,s.jsx)(n.strong,{children:"nil"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The body of ",(0,s.jsx)(n.strong,{children:"prog"})," is executed as if it were a ",(0,s.jsx)(n.strong,{children:"tagbody"})," ",(0,s.jsx)(n.em,{children:"form"}),"; the ",(0,s.jsx)(n.strong,{children:"go"})," statement can be used to transfer control to a ",(0,s.jsx)(n.em,{children:"tag"}),". ",(0,s.jsx)(n.em,{children:"Tags"})," label ",(0,s.jsx)(n.em,{children:"statements"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"prog"})," implicitly establishes a ",(0,s.jsx)(n.strong,{children:"block"})," named ",(0,s.jsx)(n.strong,{children:"nil"})," around the entire ",(0,s.jsx)(n.strong,{children:"prog"})," ",(0,s.jsx)(n.em,{children:"form"}),", so that ",(0,s.jsx)(n.strong,{children:"return"})," can be used at any time to exit from the ",(0,s.jsx)(n.strong,{children:"prog"})," ",(0,s.jsx)(n.em,{children:"form"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The di\u21b5erence between ",(0,s.jsx)(n.strong,{children:"prog*"})," and ",(0,s.jsx)(n.strong,{children:"prog"})," is that in ",(0,s.jsx)(n.strong,{children:"prog*"})," the ",(0,s.jsx)(n.em,{children:"binding"})," and initialization of the ",(0,s.jsx)(n.em,{children:"vars"})," is done ",(0,s.jsx)(n.em,{children:"sequentially"}),", so that the ",(0,s.jsx)(n.em,{children:"init-form"})," for each one can use the values of previous ones."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lisp",children:'\n(prog\\* ((y z) (x (car y))) \n\t(return x)) \nreturns the *car* of the value of z. \n(setq a 1) \u2192 1 \n(prog ((a 2) (b a)) (return (if (= a b) \u2019= \u2019/=))) \u2192 /= \n(prog\\* ((a 2) (b a)) (return (if (= a b) \u2019= \u2019/=))) \u2192 = \n(prog () \u2019no-return-value) \u2192 NIL \n(defun king-of-confusion (w) \n  "Take a cons of two lists and make a list of conses. \nThink of this function as being like a zipper." \n  (prog (x y z) ;Initialize x, y, z to NIL \n     (setq y (car w) z (cdr w)) \n   loop \n     (cond ((null y) (return x)) \n\t   ((null z) (go err))) \n   rejoin \n     (setq x (cons (cons (car y) (car z)) x)) \n     (setq y (cdr y) z (cdr z)) \n     (go loop) \n   err \n\n     \n     \n     (cerror "Will self-pair extraneous items" \n\t     "Mismatch - gleep! &#126;S" y) \n     (setq z y) \n     (go rejoin))) \u2192 KING-OF-CONFUSION \nThis can be accomplished more perspicuously as follows: \n(defun prince-of-clarity (w) \n  "Take a cons of two lists and make a list of conses. \nThink of this function as being like a zipper." \n  (do ((y (car w) (cdr y)) \n       (z (cdr w) (cdr z)) \n       (x \u2019() (cons (cons (car y) (car z)) x))) \n      ((null y) x) \n    (when (null z) \n      (cerror "Will self-pair extraneous items" \n\t      "Mismatch - gleep! &#126;S" y) \n      (setq z y)))) \u2192 PRINCE-OF-CLARITY \n\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"See Also:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"block"}),", ",(0,s.jsx)(n.strong,{children:"let"}),", ",(0,s.jsx)(n.strong,{children:"tagbody"}),", ",(0,s.jsx)(n.strong,{children:"go"}),", ",(0,s.jsx)(n.strong,{children:"return"}),", Section 3.1 (Evaluation)"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"prog"})," can be explained in terms of ",(0,s.jsx)(n.strong,{children:"block"}),", ",(0,s.jsx)(n.strong,{children:"let"}),", and ",(0,s.jsx)(n.strong,{children:"tagbody"})," as follows:"]}),"\n",(0,s.jsxs)(n.p,{children:["(prog ",(0,s.jsx)(n.em,{children:"variable-list declaration"})," . ",(0,s.jsx)(n.em,{children:"body"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2261 (block nil (let ",(0,s.jsx)(n.em,{children:"variable-list declaration"})," (tagbody . ",(0,s.jsx)(n.em,{children:"body"}),")))"]})]})}function l(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}const c={},o="nth-value",a={id:"chap-5/f-d-dictionary/nthvalue",title:"nth-value",description:"Expanded Reference: nth-value",source:"@site/docs/chap-5/f-d-dictionary/nthvalue.md",sourceDirName:"chap-5/f-d-dictionary",slug:"/chap-5/f-d-dictionary/nthvalue",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/nthvalue",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-5/f-d-dictionary/nthvalue.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"not",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/not"},next:{title:"or",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/or"}},d={},h=[{value:"Expanded Reference: nth-value",id:"expanded-reference-nth-value",level:2}];function x(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"nth-value",children:"nth-value"}),"\n","\n","\n",(0,s.jsx)(l,{}),"\n",(0,s.jsx)(n.h2,{id:"expanded-reference-nth-value",children:"Expanded Reference: nth-value"}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lisp",children:"(nth-value )\n"})})]})}function j(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>l});var s=r(67294);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);