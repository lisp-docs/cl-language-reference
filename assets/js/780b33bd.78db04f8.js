"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[62573],{62154:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>a,toc:()=>h});var r=n(85893),l=n(11151);function o(e){const s={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-symbols, do-external-symbols, do-all-symbols"})," ",(0,r.jsx)(s.em,{children:"Macro"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Syntax:"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-symbols"})," (",(0,r.jsx)(s.em,{children:"var"})," [",(0,r.jsx)(s.em,{children:"package"})," [",(0,r.jsx)(s.em,{children:"result-form"}),"]])"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"{declaration}"}),"* ",(0,r.jsx)(s.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,r.jsx)(s.p,{children:"\u2192 {result}*"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-external-symbols"})," (",(0,r.jsx)(s.em,{children:"var"})," [",(0,r.jsx)(s.em,{children:"package"})," [",(0,r.jsx)(s.em,{children:"result-form"}),"]])"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"{declaration}"}),"* ",(0,r.jsx)(s.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,r.jsx)(s.p,{children:"\u2192 {result}*"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-all-symbols"})," (",(0,r.jsx)(s.em,{children:"var"})," [",(0,r.jsx)(s.em,{children:"result-form"}),"])"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"{declaration}"}),"* ",(0,r.jsx)(s.em,{children:"{tag | statement}"}),"*"]}),"\n",(0,r.jsx)(s.p,{children:"\u2192 {result}*"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Arguments and Values:"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"var"}),"\u2014a ",(0,r.jsx)(s.em,{children:"variable name"}),"; not evaluated."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"package"}),"\u2014a ",(0,r.jsx)(s.em,{children:"package designator"})," ; evaluated. The default in ",(0,r.jsx)(s.strong,{children:"do-symbols"})," and ",(0,r.jsx)(s.strong,{children:"do-external-symbols"})," is the ",(0,r.jsx)(s.em,{children:"current package"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"result-form"}),"\u2014a ",(0,r.jsx)(s.em,{children:"form"}),"; evaluated as described below. The default is ",(0,r.jsx)(s.strong,{children:"nil"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"declaration"}),"\u2014a ",(0,r.jsx)(s.strong,{children:"declare"})," ",(0,r.jsx)(s.em,{children:"expression"}),"; not evaluated."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"tag"}),"\u2014a ",(0,r.jsx)(s.em,{children:"go tag"}),"; not evaluated."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"statement"}),"\u2014a ",(0,r.jsx)(s.em,{children:"compound form"}),"; evaluated as described below."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"results"}),"\u2014the ",(0,r.jsx)(s.em,{children:"values"})," returned by the ",(0,r.jsx)(s.em,{children:"result-form"})," if a ",(0,r.jsx)(s.em,{children:"normal return"})," occurs, or else, if an ",(0,r.jsx)(s.em,{children:"explicit return"})," occurs, the ",(0,r.jsx)(s.em,{children:"values"})," that were transferred."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Description:"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-symbols"}),", ",(0,r.jsx)(s.strong,{children:"do-external-symbols"}),", and ",(0,r.jsx)(s.strong,{children:"do-all-symbols"})," iterate over the ",(0,r.jsx)(s.em,{children:"symbols"})," of ",(0,r.jsx)(s.em,{children:"packages"}),". For each ",(0,r.jsx)(s.em,{children:"symbol"})," in the set of ",(0,r.jsx)(s.em,{children:"packages"})," chosen, the ",(0,r.jsx)(s.em,{children:"var"})," is bound to the ",(0,r.jsx)(s.em,{children:"symbol"}),", and the ",(0,r.jsx)(s.em,{children:"statements"})," in the body are executed. When all the ",(0,r.jsx)(s.em,{children:"symbols"})," have been processed, ",(0,r.jsx)(s.em,{children:"result-form"})," is evaluated and returned as the value of the macro."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"do-symbols, do-external-symbols, do-all-symbols"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-symbols"})," iterates over the ",(0,r.jsx)(s.em,{children:"symbols accessible"})," in ",(0,r.jsx)(s.em,{children:"package"}),". ",(0,r.jsx)(s.em,{children:"Statements"})," may execute more than once for ",(0,r.jsx)(s.em,{children:"symbols"})," that are inherited from multiple ",(0,r.jsx)(s.em,{children:"packages"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-all-symbols"})," iterates on every ",(0,r.jsx)(s.em,{children:"registered package"}),". ",(0,r.jsx)(s.strong,{children:"do-all-symbols"})," will not process every ",(0,r.jsx)(s.em,{children:"symbol"})," whatsoever, because a ",(0,r.jsx)(s.em,{children:"symbol"})," not ",(0,r.jsx)(s.em,{children:"accessible"})," in any ",(0,r.jsx)(s.em,{children:"registered package"})," will not be processed. ",(0,r.jsx)(s.strong,{children:"do-all-symbols"})," may cause a ",(0,r.jsx)(s.em,{children:"symbol"})," that is ",(0,r.jsx)(s.em,{children:"present"})," in several ",(0,r.jsx)(s.em,{children:"packages"})," to be processed more than once."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"do-external-symbols"})," iterates on the external symbols of ",(0,r.jsx)(s.em,{children:"package"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["When ",(0,r.jsx)(s.em,{children:"result-form"})," is evaluated, ",(0,r.jsx)(s.em,{children:"var"})," is bound and has the value ",(0,r.jsx)(s.strong,{children:"nil"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["An ",(0,r.jsx)(s.em,{children:"implicit block"})," named ",(0,r.jsx)(s.strong,{children:"nil"})," surrounds the entire ",(0,r.jsx)(s.strong,{children:"do-symbols"}),", ",(0,r.jsx)(s.strong,{children:"do-external-symbols"}),", or ",(0,r.jsx)(s.strong,{children:"do-all-symbols"})," ",(0,r.jsx)(s.em,{children:"form"}),". ",(0,r.jsx)(s.strong,{children:"return"})," or ",(0,r.jsx)(s.strong,{children:"return-from"})," may be used to terminate the iteration prematurely."]}),"\n",(0,r.jsxs)(s.p,{children:["If execution of the body affects which ",(0,r.jsx)(s.em,{children:"symbols"})," are contained in the set of ",(0,r.jsx)(s.em,{children:"packages"})," over which iteration is occurring, other than to remove the ",(0,r.jsx)(s.em,{children:"symbol"})," currently the value of ",(0,r.jsx)(s.em,{children:"var"})," by using ",(0,r.jsx)(s.strong,{children:"unintern"}),", the consequences are undefined."]}),"\n",(0,r.jsxs)(s.p,{children:["For each of these macros, the ",(0,r.jsx)(s.em,{children:"scope"})," of the name binding does not include any initial value form, but the optional result forms are included."]}),"\n",(0,r.jsxs)(s.p,{children:["Any ",(0,r.jsx)(s.em,{children:"tag"})," in the body is treated as with ",(0,r.jsx)(s.strong,{children:"tagbody"}),"."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Examples:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-lisp",children:'(make-package \u2019temp :use nil) \u2192 #<PACKAGE "TEMP"> \n(intern "SHY" \u2019temp) \u2192 TEMP::SHY, NIL ;SHY will be an internal symbol \n\t\t\t\t\t;in the package TEMP \n(export (intern "BOLD" \u2019temp) \u2019temp) \u2192 T ;BOLD will be external \n(let ((lst ())) \n  (do-symbols (s (find-package \u2019temp)) (push s lst)) \n  lst) \n\u2192 (TEMP::SHY TEMP:BOLD) \n<i><sup>or</sup>\u2192</i> (TEMP:BOLD TEMP::SHY) \n(let ((lst ())) \n  (do-external-symbols (s (find-package \u2019temp) lst) (push s lst)) \n  lst) \n\u2192 (TEMP:BOLD) \n(let ((lst ())) \n  (do-all-symbols (s lst) \n    (when (eq (find-package \u2019temp) (symbol-package s)) (push s lst))) \n  lst) \n\u2192 (TEMP::SHY TEMP:BOLD) \n<i><sup>or</sup>\u2192</i> (TEMP:BOLD TEMP::SHY) \n\n\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"See Also:"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"intern"}),", ",(0,r.jsx)(s.strong,{children:"export"}),", Section 3.6 (Traversal Rules and Side Effects)"]})]})}function t(e={}){const{wrapper:s}={...(0,l.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}const d={},c="do-symbols, do-external-symbols, do-all-symbols",a={id:"chap-11/bb-c-dictionary/dosymbols",title:"do-symbols, do-external-symbols, do-all-symbols",description:"Expanded Reference: do-symbols, do-external-symbols, do-all-symbols",source:"@site/docs/chap-11/bb-c-dictionary/dosymbols.md",sourceDirName:"chap-11/bb-c-dictionary",slug:"/chap-11/bb-c-dictionary/dosymbols",permalink:"/cl-language-reference/docs/chap-11/bb-c-dictionary/dosymbols",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-11/bb-c-dictionary/dosymbols.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"delete-package",permalink:"/cl-language-reference/docs/chap-11/bb-c-dictionary/deletepackage"},next:{title:"export",permalink:"/cl-language-reference/docs/chap-11/bb-c-dictionary/export"}},i={},h=[{value:"Expanded Reference: do-symbols, do-external-symbols, do-all-symbols",id:"expanded-reference-do-symbols-do-external-symbols-do-all-symbols",level:2}];function m(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"do-symbols-do-external-symbols-do-all-symbols",children:"do-symbols, do-external-symbols, do-all-symbols"}),"\n","\n","\n",(0,r.jsx)(t,{}),"\n",(0,r.jsx)(s.h2,{id:"expanded-reference-do-symbols-do-external-symbols-do-all-symbols",children:"Expanded Reference: do-symbols, do-external-symbols, do-all-symbols"}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsx)(s.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-lisp",children:"(do-symbols, do-external-symbols, do-all-symbols )\n"})})]})}function x(e={}){const{wrapper:s}={...(0,l.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},11151:(e,s,n)=>{n.d(s,{Z:()=>d,a:()=>t});var r=n(67294);const l={},o=r.createContext(l);function t(e){const s=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(o.Provider,{value:s},e.children)}}}]);