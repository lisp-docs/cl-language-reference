"use strict";(globalThis.webpackChunkcl_language_reference=globalThis.webpackChunkcl_language_reference||[]).push([[79228],{28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>d});var l=i(96540);const n={},s=l.createContext(n);function r(e){const t=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),l.createElement(s.Provider,{value:t},e.children)}},64797:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>j,contentTitle:()=>h,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"chap-14/be-c-dictionary/ldiff_tailp_function","title":"ldiff, tailp","description":"Expanded Reference: ldiff, tailp","source":"@site/docs/chap-14/be-c-dictionary/ldiff_tailp_function.md","sourceDirName":"chap-14/be-c-dictionary","slug":"/chap-14/be-c-dictionary/ldiff_tailp_function","permalink":"/cl-language-reference/chap-14/be-c-dictionary/ldiff_tailp_function","draft":false,"unlisted":false,"editUrl":"https://github.com/lisp-docs/cl-language-reference/tree/main/docs/chap-14/be-c-dictionary/ldiff_tailp_function.md","tags":[],"version":"current","lastUpdatedBy":"Daniel Nussenbaum","frontMatter":{"title":"ldiff, tailp"},"sidebar":"tutorialSidebar","previous":{"title":"last","permalink":"/cl-language-reference/chap-14/be-c-dictionary/last_function"},"next":{"title":"list-length","permalink":"/cl-language-reference/chap-14/be-c-dictionary/list-length_function"}}');var n=i(74848),s=i(28453);function r(e){const t={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components},{DictionaryLink:i,GlossaryTerm:l}=t;return i||c("DictionaryLink",!0),l||c("GlossaryTerm",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"ldiff, tailp"})," ",(0,n.jsx)(l,{styled:!0,term:"function",children:(0,n.jsx)("i",{children:"Function"})})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Syntax:"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(i,{styled:!0,term:"ldiff",children:(0,n.jsx)("b",{children:"ldiff"})})," ",(0,n.jsx)(t.em,{children:"list object \u2192 result-list"})]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(i,{styled:!0,term:"tailp",children:(0,n.jsx)("b",{children:"tailp"})})," ",(0,n.jsx)(t.em,{children:"object list \u2192 generalized-boolean"})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Arguments and Values:"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),"\u2014a ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),", which might be a ",(0,n.jsx)(l,{styled:!0,term:"dotted list",children:(0,n.jsx)("i",{children:"dotted list"})}),"."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(l,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})}),"\u2014an ",(0,n.jsx)(l,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})}),"."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.em,{children:"result-list"}),"\u2014a ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),"."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.em,{children:"generalized-boolean"}),"\u2014a ",(0,n.jsx)(l,{styled:!0,term:"generalized boolean",children:(0,n.jsx)("i",{children:"generalized boolean"})}),"."]}),"\n",(0,n.jsx)(i,{styled:!0,term:"ldiff, tailp",children:(0,n.jsx)("b",{children:"ldiff, tailp"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Description:"})}),"\n",(0,n.jsxs)(t.p,{children:["If ",(0,n.jsx)(l,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," is the ",(0,n.jsx)(l,{styled:!0,term:"same",children:(0,n.jsx)("i",{children:"same"})})," as some ",(0,n.jsx)(l,{styled:!0,term:"tail",children:(0,n.jsx)("i",{children:"tail"})})," of ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),", ",(0,n.jsx)(i,{styled:!0,term:"tailp",children:(0,n.jsx)("b",{children:"tailp"})})," returns ",(0,n.jsx)(l,{styled:!0,term:"true",children:(0,n.jsx)("i",{children:"true"})}),"; otherwise, it returns ",(0,n.jsx)(l,{styled:!0,term:"false",children:(0,n.jsx)("i",{children:"false"})}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["If ",(0,n.jsx)(l,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," is the ",(0,n.jsx)(l,{styled:!0,term:"same",children:(0,n.jsx)("i",{children:"same"})})," as some ",(0,n.jsx)(l,{styled:!0,term:"tail",children:(0,n.jsx)("i",{children:"tail"})})," of ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),", ",(0,n.jsx)(i,{styled:!0,term:"ldiff",children:(0,n.jsx)("b",{children:"ldiff"})})," returns a ",(0,n.jsx)(t.em,{children:"fresh list"})," of the ",(0,n.jsx)(l,{styled:!0,term:"element",children:(0,n.jsx)("i",{children:"elements"})})," of ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})})," that precede ",(0,n.jsx)(t.strong,{children:"object"})," in the ",(0,n.jsx)(l,{styled:!0,term:"list structure",children:(0,n.jsx)("i",{children:"list structure"})})," of ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),"; otherwise, it returns a ",(0,n.jsx)(l,{styled:!0,term:"copy",children:(0,n.jsx)("i",{children:"copy"})}),(0,n.jsx)("sub",{children:"2"})," of ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Examples:"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lisp",children:'(let ((lists \u2019#((a b c) (a b c . d)))) \n  (dotimes (i (length lists)) () \n\t   (let ((list (aref lists i))) \n\t     (format t "~2&list=~S ~21T(tailp object list)~ \n~44T(ldiff list object)~%" list) \n\t     (let ((objects (vector list (cddr list) (copy-list (cddr list)) \n\t\t\t\t    \u2019(f g h) \u2019() \u2019d \u2019x))) \n\t       (dotimes (j (length objects)) () \n\t\t\t(let ((object (aref objects j))) \n\t\t\t  (format t "~& object=~S ~21T~S ~44T~S" \n\t\t\t\t  object (tailp object list) (ldiff list object)))))))) \n\u25b7 \n\u25b7 list=(A B C) (tailp object list) (ldiff list object) \n\u25b7 object=(A B C) T NIL \n\u25b7 object=(C) T (A B) \n\u25b7 object=(C) NIL (A B C) \n\u25b7 object=(F G H) NIL (A B C) \n\u25b7 object=NIL T (A B C) \n\u25b7 object=D NIL (A B C) \n\u25b7 object=X NIL (A B C) \n\u25b7 \n\u25b7 list=(A B C . D) (tailp object list) (ldiff list object) \n\u25b7 object=(A B C . D) T NIL \n\u25b7 object=(C . D) T (A B) \n\u25b7 object=(C . D) NIL (A B C . D) \n\u25b7 object=(F G H) NIL (A B C . D) \n\u25b7 object=NIL NIL (A B C . D) \n\u25b7 object=D T (A B C) \n\u25b7 object=X NIL (A B C . D) \n\u2192 NIL \n'})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Side Effects:"})}),"\n",(0,n.jsxs)(t.p,{children:["Neither ",(0,n.jsx)(i,{styled:!0,term:"ldiff",children:(0,n.jsx)("b",{children:"ldiff"})})," nor ",(0,n.jsx)(i,{styled:!0,term:"tailp",children:(0,n.jsx)("b",{children:"tailp"})})," modifies either of its ",(0,n.jsx)(l,{styled:!0,term:"argument",children:(0,n.jsx)("i",{children:"arguments"})}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Exceptional Situations:"})}),"\n",(0,n.jsxs)(t.p,{children:["Should be prepared to signal an error of ",(0,n.jsx)(l,{styled:!0,term:"type",children:(0,n.jsx)("i",{children:"type"})})," ",(0,n.jsx)(i,{styled:!0,term:"type-error",children:(0,n.jsx)("b",{children:"type-error"})})," if ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})})," is not a ",(0,n.jsx)(l,{styled:!0,term:"proper list",children:(0,n.jsx)("i",{children:"proper list"})})," or a ",(0,n.jsx)(l,{styled:!0,term:"dotted list",children:(0,n.jsx)("i",{children:"dotted list"})}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"See Also:"})}),"\n",(0,n.jsx)(i,{styled:!0,term:"set-difference",children:(0,n.jsx)("b",{children:"set-difference"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Notes:"})}),"\n",(0,n.jsxs)(t.p,{children:["If the ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})})," is a ",(0,n.jsx)(l,{styled:!0,term:"circular list",children:(0,n.jsx)("i",{children:"circular list"})}),", ",(0,n.jsx)(i,{styled:!0,term:"tailp",children:(0,n.jsx)("b",{children:"tailp"})})," will reliably ",(0,n.jsx)(l,{styled:!0,term:"yield",children:(0,n.jsx)("i",{children:"yield"})})," a ",(0,n.jsx)(l,{styled:!0,term:"value",children:(0,n.jsx)("i",{children:"value"})})," only if the given ",(0,n.jsx)(l,{styled:!0,term:"object",children:(0,n.jsx)("i",{children:"object"})})," is in fact a ",(0,n.jsx)(l,{styled:!0,term:"tail",children:(0,n.jsx)("i",{children:"tail"})})," of ",(0,n.jsx)(l,{styled:!0,term:"list",children:(0,n.jsx)("i",{children:"list"})}),". Otherwise, the consequences are unspecified: a given ",(0,n.jsx)(l,{styled:!0,term:"implementation",children:(0,n.jsx)("i",{children:"implementation"})})," which detects the circularity must return ",(0,n.jsx)(l,{styled:!0,term:"false",children:(0,n.jsx)("i",{children:"false"})}),", but since an ",(0,n.jsx)(l,{styled:!0,term:"implementation",children:(0,n.jsx)("i",{children:"implementation"})})," is not obliged to detect such a ",(0,n.jsx)(l,{styled:!0,term:"situation",children:(0,n.jsx)("i",{children:"situation"})}),", ",(0,n.jsx)(i,{styled:!0,term:"tailp",children:(0,n.jsx)("b",{children:"tailp"})})," might just loop indefinitely without returning in that case."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(i,{styled:!0,term:"tailp",children:(0,n.jsx)("b",{children:"tailp"})})," could be defined as follows:"]}),"\n",(0,n.jsx)(t.p,{children:"(defun tailp (object list)"}),"\n",(0,n.jsx)(t.p,{children:"(do ((list list (cdr list)))"}),"\n",(0,n.jsx)(t.p,{children:"((atom list) (eql list object))"}),"\n",(0,n.jsx)(t.p,{children:"(if (eql object list)"}),"\n",(0,n.jsx)(t.p,{children:"(return t))))"}),"\n",(0,n.jsxs)(t.p,{children:["and ",(0,n.jsx)(i,{styled:!0,term:"ldiff",children:(0,n.jsx)("b",{children:"ldiff"})})," could be defined by:"]}),"\n",(0,n.jsx)(t.p,{children:"(defun ldiff (list object)"}),"\n",(0,n.jsx)(t.p,{children:"(do ((list list (cdr list))"}),"\n",(0,n.jsx)(t.p,{children:"(r \u2019() (cons (car list) r)))"}),"\n",(0,n.jsx)(t.p,{children:"((atom list)"}),"\n",(0,n.jsx)(t.p,{children:"(if (eql list object) (nreverse r) (nreconc r list)))"}),"\n",(0,n.jsx)(t.p,{children:"(when (eql object list)"}),"\n",(0,n.jsx)(t.p,{children:"(return (nreverse r)))))"})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(r,{...e})}):r(e)}function c(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const o={title:"ldiff, tailp"},h="ldiff, tailp",j={},a=[{value:"Expanded Reference: ldiff, tailp",id:"expanded-reference-ldiff-tailp",level:2}];function x(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"ldiff-tailp",children:"ldiff, tailp"})}),"\n","\n",(0,n.jsx)(d,{}),"\n",(0,n.jsx)(t.h2,{id:"expanded-reference-ldiff-tailp",children:"Expanded Reference: ldiff, tailp"}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsx)(t.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lisp",children:"(ldiff, tailp )\n"})})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(x,{...e})}):x(e)}}}]);