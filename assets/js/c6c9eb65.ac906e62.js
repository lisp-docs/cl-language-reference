"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[89488],{59732:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>j,frontMatter:()=>c,metadata:()=>l,toc:()=>h});var t=s(85893),r=s(11151);function i(e){const n={em:"em",p:"p",strong:"strong",table:"table",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"tagbody"})," ",(0,t.jsx)(n.em,{children:"Special Operator"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"tagbody"})," ",(0,t.jsx)(n.em,{children:"{tag | statement}"}),"* ",(0,t.jsx)(n.em,{children:"\u2192"})," ",(0,t.jsx)(n.strong,{children:"nil"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments and Values:"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"tag"}),"\u2014a ",(0,t.jsx)(n.em,{children:"go tag"}),"; not evaluated."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"statement"}),"\u2014a ",(0,t.jsx)(n.em,{children:"compound form"}),"; evaluated as described below."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description:"})}),"\n",(0,t.jsxs)(n.p,{children:["Executes zero or more ",(0,t.jsx)(n.em,{children:"statements"})," in a ",(0,t.jsx)(n.em,{children:"lexical environment"})," that provides for control transfers to labels indicated by the ",(0,t.jsx)(n.em,{children:"tags"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.em,{children:"statements"})," in a ",(0,t.jsx)(n.strong,{children:"tagbody"})," are ",(0,t.jsx)(n.em,{children:"evaluated"})," in order from left to right, and their ",(0,t.jsx)(n.em,{children:"values"})," are discarded. If at any time there are no remaining ",(0,t.jsx)(n.em,{children:"statements"}),", ",(0,t.jsx)(n.strong,{children:"tagbody"})," returns ",(0,t.jsx)(n.strong,{children:"nil"}),". However, if (go ",(0,t.jsx)(n.em,{children:"tag"}),") is ",(0,t.jsx)(n.em,{children:"evaluated"}),", control jumps to the part of the body labeled with the ",(0,t.jsx)(n.em,{children:"tag"}),". (Tags are compared with ",(0,t.jsx)(n.strong,{children:"eql"}),".)"]}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.em,{children:"tag"})," established by ",(0,t.jsx)(n.strong,{children:"tagbody"})," has ",(0,t.jsx)(n.em,{children:"lexical scope"})," and has ",(0,t.jsx)(n.em,{children:"dynamic extent"}),". Once ",(0,t.jsx)(n.strong,{children:"tagbody"})," has been exited, it is no longer valid to ",(0,t.jsx)(n.strong,{children:"go"})," to a ",(0,t.jsx)(n.em,{children:"tag"})," in its body. It is permissible for ",(0,t.jsx)(n.strong,{children:"go"})," to jump to a ",(0,t.jsx)(n.strong,{children:"tagbody"})," that is not the innermost ",(0,t.jsx)(n.strong,{children:"tagbody"})," containing that ",(0,t.jsx)(n.strong,{children:"go"}),"; the ",(0,t.jsx)(n.em,{children:"tags"})," established by a ",(0,t.jsx)(n.strong,{children:"tagbody"})," only shadow other ",(0,t.jsx)(n.em,{children:"tags"})," of like name."]}),"\n",(0,t.jsxs)(n.p,{children:["The determination of which elements of the body are ",(0,t.jsx)(n.em,{children:"tags"})," and which are ",(0,t.jsx)(n.em,{children:"statements"})," is made prior to any ",(0,t.jsx)(n.em,{children:"macro expansion"})," of that element. If a ",(0,t.jsx)(n.em,{children:"statement"})," is a ",(0,t.jsx)(n.em,{children:"macro form"})," and its ",(0,t.jsx)(n.em,{children:"macro expansion"})," is an ",(0,t.jsx)(n.em,{children:"atom"}),", that ",(0,t.jsx)(n.em,{children:"atom"})," is treated as a ",(0,t.jsx)(n.em,{children:"statement"}),", not a ",(0,t.jsx)(n.em,{children:"tag"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.p,{children:"(let (val)"}),"\n",(0,t.jsx)(n.p,{children:"(tagbody"}),"\n",(0,t.jsx)(n.p,{children:"(setq val 1)"}),"\n",(0,t.jsx)(n.p,{children:"(go point-a)"}),"\n",(0,t.jsx)(n.p,{children:"(incf val 16)"}),"\n",(0,t.jsx)(n.p,{children:"point-c"}),"\n",(0,t.jsx)(n.p,{children:"(incf val 04)"}),"\n",(0,t.jsx)(n.p,{children:"(go point-b)"}),"\n",(0,t.jsx)(n.p,{children:"(incf val 32)"}),"\n",(0,t.jsx)(n.p,{children:"point-a"}),"\n",(0,t.jsx)(n.p,{children:"(incf val 02)"}),"\n",(0,t.jsx)(n.p,{children:"(go point-c)"}),"\n",(0,t.jsx)(n.p,{children:"(incf val 64)"}),"\n",(0,t.jsx)(n.p,{children:"point-b"}),"\n",(0,t.jsx)(n.p,{children:"(incf val 08))"}),"\n",(0,t.jsx)(n.p,{children:"val)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"\u2192"})," 15"]}),"\n",(0,t.jsx)(n.p,{children:"(defun f1 (flag)"}),"\n",(0,t.jsx)(n.p,{children:"(let ((n 1))"}),"\n",(0,t.jsx)(n.p,{children:"(tagbody"}),"\n",(0,t.jsx)(n.p,{children:"(setq n (f2 flag #\u2019(lambda () (go out))))"}),"\n",(0,t.jsx)(n.p,{children:"out"}),"\n",(0,t.jsx)(n.p,{children:"(prin1 n))))"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"\u2192"})," F1"]}),"\n",(0,t.jsx)(n.p,{children:"(defun f2 (flag escape)"}),"\n",(0,t.jsx)(n.p,{children:"(if flag (funcall escape) 2))"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"\u2192"})," F2"]}),"\n",(0,t.jsx)(n.p,{children:"(f1 nil)"}),"\n",(0,t.jsx)(n.p,{children:"\u25b7 2"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"\u2192"})," NIL"]}),"\n",(0,t.jsx)(n.p,{children:"(f1 t)"}),"\n",(0,t.jsx)(n.p,{children:"\u25b7 1"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"\u2192"})," NIL"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"See Also:"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"go"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.em,{children:"macros"})," in Figure 5\u201310 have ",(0,t.jsx)(n.em,{children:"implicit tagbodies"}),"."]}),"\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.th,{style:{textAlign:"left"},children:["<p>",(0,t.jsx)(n.strong,{children:"do do-external-symbols dotimes do* do-symbols prog"})," </p><p>",(0,t.jsx)(n.strong,{children:"do-all-symbols dolist prog*"}),"</p>"]})})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Figure 5\u201310. Macros that have implicit tagbodies."})})]})}function d(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}const c={},a="tagbody",l={id:"chap-5/f-d-dictionary/tagbody",title:"tagbody",description:"Expanded Reference: tagbody",source:"@site/docs/chap-5/f-d-dictionary/tagbody.md",sourceDirName:"chap-5/f-d-dictionary",slug:"/chap-5/f-d-dictionary/tagbody",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/tagbody",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/develop/docs/chap-5/f-d-dictionary/tagbody.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"t",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/t"},next:{title:"throw",permalink:"/cl-language-reference/docs/chap-5/f-d-dictionary/throw"}},o={},h=[{value:"Expanded Reference: tagbody",id:"expanded-reference-tagbody",level:2}];function x(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"tagbody",children:"tagbody"}),"\n","\n","\n",(0,t.jsx)(d,{}),"\n",(0,t.jsx)(n.h2,{id:"expanded-reference-tagbody",children:"Expanded Reference: tagbody"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lisp",children:"(tagbody )\n"})})]})}function j(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>d});var t=s(67294);const r={},i=t.createContext(r);function d(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);