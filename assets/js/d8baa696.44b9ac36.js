"use strict";(globalThis.webpackChunkcl_language_reference=globalThis.webpackChunkcl_language_reference||[]).push([[14572],{28453:(e,r,c)=>{c.d(r,{R:()=>i,x:()=>h});var t=c(96540);const n={},s=t.createContext(n);function i(e){const r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function h(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(s.Provider,{value:r},e.children)}},34585:(e,r,c)=>{c.r(r),c.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>x});const t=JSON.parse('{"id":"chap-5/f-d-dictionary/catch_special-operator","title":"catch","description":"Expanded Reference: catch","source":"@site/docs/chap-5/f-d-dictionary/catch_special-operator.md","sourceDirName":"chap-5/f-d-dictionary","slug":"/chap-5/f-d-dictionary/catch_special-operator","permalink":"/cl-language-reference/chap-5/f-d-dictionary/catch_special-operator","draft":false,"unlisted":false,"editUrl":"https://github.com/lisp-docs/cl-language-reference/tree/main/docs/chap-5/f-d-dictionary/catch_special-operator.md","tags":[],"version":"current","lastUpdatedBy":"Daniel Nussenbaum","frontMatter":{"title":"catch"},"sidebar":"tutorialSidebar","previous":{"title":"case, ccase, ecase","permalink":"/cl-language-reference/chap-5/f-d-dictionary/case_ccase_ecase_macro"},"next":{"title":"compiled-function-p","permalink":"/cl-language-reference/chap-5/f-d-dictionary/compiled-function-p_function"}}');var n=c(74848),s=c(28453);function i(e){const r={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components},{DictionaryLink:c,GlossaryTerm:t}=r;return c||l("DictionaryLink",!0),t||l("GlossaryTerm",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"catch"})," ",(0,n.jsx)(t,{styled:!0,term:"special operator",children:(0,n.jsx)("i",{children:"Special Operator"})})]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Syntax:"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," ",(0,n.jsx)(r.em,{children:"tag {form}"}),"* \u2192 {result}*"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Arguments and Values:"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"tag"})}),"\u2014a ",(0,n.jsx)(t,{styled:!0,term:"catch tag",children:(0,n.jsx)("i",{children:"catch tag"})}),"; evaluated."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"forms"})}),"\u2014an ",(0,n.jsx)(t,{styled:!0,term:"implicit progn",children:(0,n.jsx)("i",{children:"implicit progn"})}),"."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.em,{children:"results"}),"\u2014if the ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"forms"})})," exit normally, the ",(0,n.jsx)(t,{term:"value",children:(0,n.jsx)("i",{children:"values"})})," returned by the ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"forms"})}),"; if a throw occurs to the ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"tag"})}),", the ",(0,n.jsx)(t,{term:"value",children:(0,n.jsx)("i",{children:"values"})})," that are thrown."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Description:"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," is used as the destination of a non-local control transfer by ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})}),". ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"Tags"})})," are used to find the ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," to which a ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," is transferring control. (catch \u2019foo ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"form"})}),") catches a (throw \u2019foo ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"form"})}),") but not a (throw \u2019bar ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"form"})}),")."]}),"\n",(0,n.jsxs)(r.p,{children:["The order of execution of ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," follows:"]}),"\n",(0,n.jsxs)(r.p,{children:["1. ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"Tag"})})," is evaluated. It serves as the name of the ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["2. ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"Forms"})})," are then evaluated as an implicit ",(0,n.jsx)(c,{term:"progn",children:(0,n.jsx)("b",{children:"progn"})}),", and the results of the last ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"form"})})," are returned unless a ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," occurs."]}),"\n",(0,n.jsxs)(r.p,{children:["3. If a ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," occurs during the execution of one of the ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"forms"})}),", control is transferred to the ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"form"})})," whose ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"tag"})})," is ",(0,n.jsx)(c,{term:"eq",children:(0,n.jsx)("b",{children:"eq"})})," to the tag argument of the ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," and which is the most recently established ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," with that ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"tag"})}),". No further evaluation of ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"forms"})})," occurs."]}),"\n",(0,n.jsxs)(r.p,{children:["4. The ",(0,n.jsx)(r.em,{children:"tag established"})," by ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," is ",(0,n.jsx)(r.em,{children:"disestablished"})," just before the results are returned."]}),"\n",(0,n.jsxs)(r.p,{children:["If during the execution of one of the ",(0,n.jsx)(t,{term:"form",children:(0,n.jsx)("i",{children:"forms"})}),", a ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," is executed whose tag is ",(0,n.jsx)(c,{term:"eq",children:(0,n.jsx)("b",{children:"eq"})})," to the ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," tag, then the values specified by the ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," are returned as the result of the dynamically most recently established ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," form with that tag."]}),"\n",(0,n.jsxs)(r.p,{children:["The mechanism for ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," and ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," works even if ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," is not within the lexical scope of ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})}),". ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," must occur within the ",(0,n.jsx)(t,{styled:!0,term:"dynamic extent",children:(0,n.jsx)("i",{children:"dynamic extent"})})," of the ",(0,n.jsx)(t,{term:"evaluation",children:(0,n.jsx)("i",{children:"evaluation"})})," of the body of a ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," with a corresponding ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"tag"})}),"."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Examples:"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-lisp",children:"(catch \u2019dummy-tag 1 2 (throw \u2019dummy-tag 3) 4) \u2192 3 \n(catch \u2019dummy-tag 1 2 3 4) \u2192 4 \n(defun throw-back (tag) (throw tag t)) \u2192 THROW-BACK \n(catch \u2019dummy-tag (throw-back \u2019dummy-tag) 2) \u2192 T \nData and Control \n\n;; Contrast behavior of this example with corresponding example of BLOCK. \n(catch \u2019c \n  (flet ((c1 () (throw \u2019c 1))) \n    (catch \u2019c (c1) (print \u2019unreachable)) \n    2)) \u2192 2 \n"})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Exceptional Situations:"})}),"\n",(0,n.jsxs)(r.p,{children:["An error of ",(0,n.jsx)(t,{term:"type",children:(0,n.jsx)("i",{children:"type"})})," ",(0,n.jsx)(c,{term:"control-error",children:(0,n.jsx)("b",{children:"control-error"})})," is signaled if ",(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})})," is done when there is no suitable ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"tag"})}),"."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"See Also:"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(c,{term:"throw",children:(0,n.jsx)("b",{children:"throw"})}),", Section 3.1 (Evaluation)"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Notes:"})}),"\n",(0,n.jsxs)(r.p,{children:["It is customary for ",(0,n.jsx)(t,{term:"symbol",children:(0,n.jsx)("i",{children:"symbols"})})," to be used as ",(0,n.jsx)(t,{term:"tag",children:(0,n.jsx)("i",{children:"tags"})}),", but any ",(0,n.jsx)(t,{term:"object",children:(0,n.jsx)("i",{children:"object"})})," is permitted. However, numbers should not be used because the comparison is done using ",(0,n.jsx)(c,{term:"eq",children:(0,n.jsx)("b",{children:"eq"})}),"."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," differs from ",(0,n.jsx)(c,{term:"block",children:(0,n.jsx)("b",{children:"block"})})," in that ",(0,n.jsx)(c,{term:"catch",children:(0,n.jsx)("b",{children:"catch"})})," tags have dynamic ",(0,n.jsx)(t,{term:"scope",children:(0,n.jsx)("i",{children:"scope"})})," while ",(0,n.jsx)(c,{term:"block",children:(0,n.jsx)("b",{children:"block"})})," names have ",(0,n.jsx)(t,{styled:!0,term:"lexical scope",children:(0,n.jsx)("i",{children:"lexical scope"})}),"."]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}function l(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const a={title:"catch"},d="catch",o={},x=[{value:"Expanded Reference: catch",id:"expanded-reference-catch",level:2}];function j(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"catch",children:"catch"})}),"\n","\n",(0,n.jsx)(h,{}),"\n",(0,n.jsx)(r.h2,{id:"expanded-reference-catch",children:"Expanded Reference: catch"}),"\n",(0,n.jsx)(r.admonition,{type:"tip",children:(0,n.jsx)(r.p,{children:"TODO: Please contribute to this page by adding explanations and examples"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-lisp",children:"(catch )\n"})})]})}function m(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(j,{...e})}):j(e)}}}]);