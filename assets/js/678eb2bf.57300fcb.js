"use strict";(self.webpackChunkcl_language_reference=self.webpackChunkcl_language_reference||[]).push([[41373],{90565:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>o,toc:()=>a});var c=i(85893),s=i(11151);const t={},r="ensure-generic-function-using-class",o={id:"meta-object-protocol/ensure-generic-function-using-class",title:"ensure-generic-function-using-class",description:"Generic Function ENSURE-GENERIC-FUNCTION-USING-CLASS",source:"@site/docs/meta-object-protocol/ensure-generic-function-using-class.md",sourceDirName:"meta-object-protocol",slug:"/meta-object-protocol/ensure-generic-function-using-class",permalink:"/cl-language-reference/meta-object-protocol/ensure-generic-function-using-class",draft:!1,unlisted:!1,editUrl:"https://github.com/lisp-docs/cl-language-reference/tree/main/docs/meta-object-protocol/ensure-generic-function-using-class.md",tags:[],version:"current",lastUpdatedBy:"Daniel Nussenbaum",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ensure-generic-function-using-class-null",permalink:"/cl-language-reference/meta-object-protocol/ensure-generic-function-using-class-null"},next:{title:"ensure-generic-function",permalink:"/cl-language-reference/meta-object-protocol/ensure-generic-function"}},l={},a=[{value:"<strong>ensure-generic-function-using-class</strong> (<em>generic-function</em> generic-function) <em>function-name</em> <code>&amp;key</code> <code>:generic-function-class</code> <code>&amp;allow-other-keys</code>\n<strong>ensure-generic-function-using-class</strong> (<em>generic-function</em> null) <em>function-name</em> <code>&amp;key</code> <code>:generic-function-class</code> <code>&amp;allow-other-keys</code>",id:"ensure-generic-function-using-class-generic-function-generic-function-function-name-key-generic-function-class-allow-other-keysensure-generic-function-using-class-generic-function-null-function-name-key-generic-function-class-allow-other-keys",level:2}];function u(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h1,{id:"ensure-generic-function-using-class",children:"ensure-generic-function-using-class"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"Generic Function"})," ",(0,c.jsx)(n.strong,{children:"ENSURE-GENERIC-FUNCTION-USING-CLASS"})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"ensure-generic-function-using-class"})," ",(0,c.jsx)(n.em,{children:"generic-function-or-nil"})," ",(0,c.jsx)(n.em,{children:"function-name"})," ",(0,c.jsx)(n.code,{children:"&key"})," ",(0,c.jsx)(n.code,{children:":argument-precedence-order"})," ",(0,c.jsx)(n.code,{children:":declarations"})," ",(0,c.jsx)(n.code,{children:":documentation"})," ",(0,c.jsx)(n.code,{children:":generic-function-class"})," ",(0,c.jsx)(n.code,{children:":lambda-list"})," ",(0,c.jsx)(n.code,{children:":method-class"})," ",(0,c.jsx)(n.code,{children:":method-combination"})," ",(0,c.jsx)(n.code,{children:":name"})," ",(0,c.jsx)(n.code,{children:"&allow-other-keys"})," => ",(0,c.jsx)(n.em,{children:"generic-function"})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Arguments and values:"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.em,{children:"generic-function-or-nil"})}),"\n",(0,c.jsxs)(n.p,{children:["-- A generic function metaobject ",(0,c.jsx)(n.code,{children:"nil"}),"."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"function-name"})," -- A symbol or a list of the form ",(0,c.jsx)(n.code,{children:"(setf symbol)"}),"."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:":generic-function-class"})," -- A class metaobject or a class name. If it is not supplied, it defaults to the class named",(0,c.jsx)(n.a,{href:"/meta-object-protocol/class-standard-generic-function",children:"standard-generic-function"}),". If a class name is supplied, it is interpreted as the class with that name. If a class name is supplied, but there is no such class, an error is signaled."]}),"\n",(0,c.jsxs)(n.p,{children:["For the interpretation of additional keyword arguments, see ",(0,c.jsx)(n.a,{href:"/meta-object-protocol/initialization-of-generic-function-metaobjects",children:"``Initialization of Generic Function Metaobjects''"}),"."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"generic-function"})," -- A generic function metaobject."]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Description:"})}),"\n",(0,c.jsxs)(n.p,{children:["The generic function ",(0,c.jsx)(n.a,{href:"/meta-object-protocol/ensure-generic-function-using-class",children:"ensure-generic-function-using-class"})," is called to define or modify the definition of a globally named generic function. It is called by the ",(0,c.jsx)(n.a,{href:"/meta-object-protocol/ensure-generic-function",children:"ensure-generic-function"})," function. It can also be called directly."]}),"\n",(0,c.jsx)(n.p,{children:"The first step performed by this generic function is to compute the set of initialization arguments which will be used to create or reinitialize the globally named generic function. These initialization arguments are computed from the full set of keyword arguments received by this generic function as follows:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:":generic-function-class"})," argument is not included in the initialization arguments."]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["If the ",(0,c.jsx)(n.code,{children:":method-class"})," argument was received by this generic function, it is converted into a class metaobject. This is done by looking up the class name with ",(0,c.jsx)(n.a,{href:"http://www.lispworks.com/documentation/HyperSpec/Body/f_find_c.htm#find-class",children:"find-class"}),". If there is no such class, an error is signalled."]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"All other keyword arguments are included directly in the initialization arguments."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["If the ",(0,c.jsx)(n.em,{children:"generic-function-or-nil"})," argument is ",(0,c.jsx)(n.code,{children:"nil"}),", an instance of the class specified by the ",(0,c.jsx)(n.code,{children:":generic-function-class"})," argument is created by calling ",(0,c.jsx)(n.a,{href:"/meta-object-protocol/make-instance",children:"make-instance"})," with the previously computed initialization arguments. The function name ",(0,c.jsx)(n.em,{children:"function-name"})," is set to name the generic function. The newly created generic function metaobject is returned."]}),"\n",(0,c.jsxs)(n.p,{children:["If the class of the ",(0,c.jsx)(n.em,{children:"generic-function-or-nil"})," argument is not the same as the class specified by the ",(0,c.jsx)(n.code,{children:":generic-function-class"})," argument, an error is signaled."]}),"\n",(0,c.jsxs)(n.p,{children:["Otherwise the generic function ",(0,c.jsx)(n.em,{children:"generic-function-or-nil"})," is redefined by calling the ",(0,c.jsx)(n.a,{href:"http://www.lispworks.com/documentation/HyperSpec/Body/f_reinit.htm#reinitialize-instance",children:"reinitialize-instance"})," generic function with ",(0,c.jsx)(n.em,{children:"generic-function-or-nil"})," and the initialization arguments. The ",(0,c.jsx)(n.em,{children:"generic-function-or-nil"})," argument is then returned."]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Methods:"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.h2,{id:"ensure-generic-function-using-class-generic-function-generic-function-function-name-key-generic-function-class-allow-other-keysensure-generic-function-using-class-generic-function-null-function-name-key-generic-function-class-allow-other-keys",children:[(0,c.jsxs)(n.a,{href:"/meta-object-protocol/ensure-generic-function-using-class-generic-function",children:[(0,c.jsx)(n.strong,{children:"ensure-generic-function-using-class"})," (",(0,c.jsx)(n.em,{children:"generic-function"})," generic-function) ",(0,c.jsx)(n.em,{children:"function-name"})," ",(0,c.jsx)(n.code,{children:"&key"})," ",(0,c.jsx)(n.code,{children:":generic-function-class"})," ",(0,c.jsx)(n.code,{children:"&allow-other-keys"})]}),"\n",(0,c.jsxs)(n.a,{href:"/meta-object-protocol/ensure-generic-function-using-class-null",children:[(0,c.jsx)(n.strong,{children:"ensure-generic-function-using-class"})," (",(0,c.jsx)(n.em,{children:"generic-function"})," null) ",(0,c.jsx)(n.em,{children:"function-name"})," ",(0,c.jsx)(n.code,{children:"&key"})," ",(0,c.jsx)(n.code,{children:":generic-function-class"})," ",(0,c.jsx)(n.code,{children:"&allow-other-keys"})]})]})]})}function d(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(u,{...e})}):u(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>r});var c=i(67294);const s={},t=c.createContext(s);function r(e){const n=c.useContext(t);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),c.createElement(t.Provider,{value:n},e.children)}}}]);